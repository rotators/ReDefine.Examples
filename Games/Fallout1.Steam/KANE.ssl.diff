diff --git a/Games/Fallout1.Steam/Original/KANE.ssl b/Games/Fallout1.Steam/ReDefine/KANE.ssl
index 1b4b50a..bf1aff6 100644
--- a/Games/Fallout1.Steam/Original/KANE.ssl
+++ b/Games/Fallout1.Steam/ReDefine/KANE.ssl
@@ -162,26 +162,26 @@ begin
         if (map_var(49) == 1) then begin
             set_obj_visibility(self_obj, 1);
         end
-        critter_add_trait(self_obj, 1, 6, 38);
-        critter_add_trait(self_obj, 1, 5, 88);
+        critter_add_trait(self_obj, TRAIT_OBJECT, OBJECT_TEAM_NUM, 38);
+        critter_add_trait(self_obj, TRAIT_OBJECT, OBJECT_AI_PACKET, AI_CAIN);
     end
-    if (script_action == 21) then begin
+    if (script_action == look_at_proc) then begin
         call look_at_p_proc();
     end
     else begin
-        if (script_action == 4) then begin
+        if (script_action == pickup_proc) then begin
             call pickup_p_proc();
         end
         else begin
-            if (script_action == 11) then begin
+            if (script_action == talk_proc) then begin
                 call talk_p_proc();
             end
             else begin
-                if (script_action == 12) then begin
+                if (script_action == critter_proc) then begin
                     call critter_p_proc();
                 end
                 else begin
-                    if (script_action == 18) then begin
+                    if (script_action == destroy_proc) then begin
                         call destroy_p_proc();
                     end
                 end
@@ -199,7 +199,7 @@ procedure critter_p_proc
 begin
     if (hostile) then begin
         hostile := 0;
-        attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);
+        attack(dude_obj);
     end
     if (map_var(51) == 1) then begin
         dialogue_system_enter;
@@ -222,10 +222,10 @@ begin
     call get_reaction();
     if (map_var(51) == 1) then begin
         set_map_var(51, 0);
-        float_msg(self_obj, message_str(594, 300), 2);
+        float_msg(self_obj, mstr(300), FLOAT_MSG_RED);
     end
     else begin
-        if ((obj_item_subtype(critter_inven_obj(dude_obj, 1)) == 3) or (obj_item_subtype(critter_inven_obj(dude_obj, 2)) == 3)) then begin
+        if ((obj_item_subtype(critter_inven_obj(dude_obj, INVEN_TYPE_RIGHT_HAND)) == 3) or (obj_item_subtype(critter_inven_obj(dude_obj, INVEN_TYPE_LEFT_HAND)) == 3)) then begin
             if (local_var(6) == 0) then begin
                 set_local_var(6, 1);
                 call Kane61();
@@ -243,8 +243,8 @@ begin
         else begin
             if (local_var(4) == 0) then begin
                 set_local_var(4, 1);
-                if (((global_var(37) == 0) and (global_var(38) == 0)) == 1) then begin
-                    if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin
+                if (((global_var(GVAR_KILLIAN_DEAD) == 0) and (global_var(GVAR_GIZMO_DEAD) == 0)) == 1) then begin
+                    if (((global_var(GVAR_BAD_MONSTER) + global_var(GVAR_GOOD_MONSTER)) >= 25) and ((global_var(GVAR_GOOD_MONSTER) > (2 * global_var(GVAR_BAD_MONSTER))) or (global_var(GVAR_BERSERKER_REPUTATION) == 1))) then begin
                         start_gdialog(594, self_obj, 4, -1, -1);
                         gsay_start;
                         call Kane11();
@@ -252,7 +252,7 @@ begin
                         end_dialogue;
                     end
                     else begin
-                        if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin
+                        if (((global_var(GVAR_BAD_MONSTER) + global_var(GVAR_GOOD_MONSTER)) >= 25) and ((global_var(160) > (3 * global_var(GVAR_GOOD_MONSTER))) or (global_var(GVAR_CHAMPION_REPUTATION) == 1))) then begin
                             start_gdialog(594, self_obj, 4, -1, -1);
                             gsay_start;
                             call Kane15();
@@ -269,7 +269,7 @@ begin
                     end
                 end
                 else begin
-                    if (((global_var(37) == 1) == 1) and ((global_var(38) == 1) == 0)) then begin
+                    if (((global_var(GVAR_KILLIAN_DEAD) == 1) == 1) and ((global_var(GVAR_GIZMO_DEAD) == 1) == 0)) then begin
                         start_gdialog(594, self_obj, 4, -1, -1);
                         gsay_start;
                         call Kane12();
@@ -277,7 +277,7 @@ begin
                         end_dialogue;
                     end
                     else begin
-                        if (((global_var(38) == 1) == 1) and ((global_var(37) == 1) == 0)) then begin
+                        if (((global_var(GVAR_GIZMO_DEAD) == 1) == 1) and ((global_var(GVAR_KILLIAN_DEAD) == 1) == 0)) then begin
                             start_gdialog(594, self_obj, 4, -1, -1);
                             gsay_start;
                             call Kane13();
@@ -285,7 +285,7 @@ begin
                             end_dialogue;
                         end
                         else begin
-                            if (((global_var(37) == 1) and (global_var(38) == 1)) == 1) then begin
+                            if (((global_var(GVAR_KILLIAN_DEAD) == 1) and (global_var(GVAR_GIZMO_DEAD) == 1)) == 1) then begin
                                 start_gdialog(594, self_obj, 4, -1, -1);
                                 gsay_start;
                                 call Kane14();
@@ -332,7 +332,7 @@ begin
                                 end_dialogue;
                             end
                             else begin
-                                if ((global_var(111) != 2) and (local_var(7) == 0)) then begin
+                                if ((global_var(GVAR_KILL_MERCHANT) != 2) and (local_var(7) == 0)) then begin
                                     if (map_var(46) == 0) then begin
                                         start_gdialog(594, self_obj, 4, -1, -1);
                                         gsay_start;
@@ -350,7 +350,7 @@ begin
                                         end
                                         else begin
                                             if (map_var(46) == 2) then begin
-                                                if (global_var(111) == 5) then begin
+                                                if (global_var(GVAR_KILL_MERCHANT) == 5) then begin
                                                     start_gdialog(594, self_obj, 4, -1, -1);
                                                     gsay_start;
                                                     call Kane153();
@@ -367,7 +367,7 @@ begin
                                             end
                                             else begin
                                                 if (map_var(46) == 4) then begin
-                                                    if (global_var(111) == 5) then begin
+                                                    if (global_var(GVAR_KILL_MERCHANT) == 5) then begin
                                                         start_gdialog(594, self_obj, 4, -1, -1);
                                                         gsay_start;
                                                         call Kane153();
@@ -387,7 +387,7 @@ begin
                                     end
                                 end
                                 else begin
-                                    if ((global_var(111) == 2) and (local_var(7) == 0)) then begin
+                                    if ((global_var(GVAR_KILL_MERCHANT) == 2) and (local_var(7) == 0)) then begin
                                         if (map_var(46) == 0) then begin
                                             start_gdialog(594, self_obj, 4, -1, -1);
                                             gsay_start;
@@ -424,7 +424,7 @@ begin
                                         end
                                     end
                                     else begin
-                                        if ((global_var(112) != 2) and (local_var(7) == 112)) then begin
+                                        if ((global_var(GVAR_KILL_JAIN) != 2) and (local_var(7) == 112)) then begin
                                             if (map_var(47) == 0) then begin
                                                 start_gdialog(594, self_obj, 4, -1, -1);
                                                 gsay_start;
@@ -461,7 +461,7 @@ begin
                                             end
                                         end
                                         else begin
-                                            if ((global_var(112) == 2) and (local_var(7) == 112)) then begin
+                                            if ((global_var(GVAR_KILL_JAIN) == 2) and (local_var(7) == 112)) then begin
                                                 if (map_var(47) == 0) then begin
                                                     start_gdialog(594, self_obj, 4, -1, -1);
                                                     gsay_start;
@@ -521,22 +521,22 @@ end
 procedure destroy_p_proc
 begin
     if (source_obj == dude_obj) then begin
-        if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin
-            set_global_var(156, 1);
-            set_global_var(157, 0);
+        if (((global_var(GVAR_BAD_MONSTER) + global_var(GVAR_GOOD_MONSTER)) >= 25) and ((global_var(GVAR_GOOD_MONSTER) > (2 * global_var(GVAR_BAD_MONSTER))) or (global_var(GVAR_BERSERKER_REPUTATION) == 1))) then begin
+            set_global_var(GVAR_BERSERKER_REPUTATION, 1);
+            set_global_var(GVAR_CHAMPION_REPUTATION, 0);
         end
-        if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin
-            set_global_var(157, 1);
-            set_global_var(156, 0);
+        if (((global_var(GVAR_BAD_MONSTER) + global_var(GVAR_GOOD_MONSTER)) >= 25) and ((global_var(160) > (3 * global_var(GVAR_GOOD_MONSTER))) or (global_var(GVAR_CHAMPION_REPUTATION) == 1))) then begin
+            set_global_var(GVAR_CHAMPION_REPUTATION, 1);
+            set_global_var(GVAR_BERSERKER_REPUTATION, 0);
         end
-        set_global_var(160, global_var(160) + 1);
-        if ((global_var(160) % 6) == 0) then begin
-            set_global_var(155, global_var(155) + 1);
+        set_global_var(GVAR_BAD_MONSTER, global_var(GVAR_BAD_MONSTER) + 1);
+        if ((global_var(GVAR_BAD_MONSTER) % 6) == 0) then begin
+            set_global_var(GVAR_PLAYER_REPUATION, global_var(GVAR_PLAYER_REPUATION) + 1);
         end
     end
     set_map_var(49, 1);
     if ((map_var(49) == 1) and (map_var(50) == 1)) then begin
-        set_global_var(202, 1);
+        set_global_var(GVAR_UNDERGROUND_STATUS, 1);
         set_map_var(11, 1);
         set_map_var(44, 1);
     end
@@ -545,232 +545,232 @@ end
 procedure look_at_p_proc
 begin
     script_overrides;
-    display_msg(message_str(594, 100));
+    display_mstr(100);
 end
 
 procedure Kane00
 begin
-    giq_option(4, 594, 101, Kane02, 50);
-    giq_option(4, 594, 102, Kane04, 51);
-    giq_option(4, 594, 104, Kane07, 50);
-    giq_option(4, 594, 105, KaneEndDeclined, 50);
-    giq_option(-3, 594, 106, Kane01, 50);
+    giq_option(4, NAME, 101, Kane02, NEUTRAL_REACTION);
+    giq_option(4, NAME, 102, Kane04, BAD_REACTION);
+    giq_option(4, NAME, 104, Kane07, NEUTRAL_REACTION);
+    giq_option(4, NAME, 105, KaneEndDeclined, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 106, Kane01, NEUTRAL_REACTION);
 end
 
 procedure Kane01
 begin
-    gsay_message(594, 107, 50);
+    gsay_message(NAME, 107, NEUTRAL_REACTION);
     call KaneEndRefuses();
 end
 
 procedure Kane02
 begin
-    gsay_reply(594, 108);
-    giq_option(4, 594, 109, Kane03, 50);
-    giq_option(4, 594, 110, Kane06, 50);
-    giq_option(6, 594, 111, Kane09, 50);
-    giq_option(4, 594, 112, Kane08, 50);
+    Reply(108);
+    giq_option(4, NAME, 109, Kane03, NEUTRAL_REACTION);
+    giq_option(4, NAME, 110, Kane06, NEUTRAL_REACTION);
+    giq_option(6, NAME, 111, Kane09, NEUTRAL_REACTION);
+    giq_option(4, NAME, 112, Kane08, NEUTRAL_REACTION);
 end
 
 procedure Kane03
 begin
-    gsay_message(594, 113, 50);
+    gsay_message(NAME, 113, NEUTRAL_REACTION);
     call KaneTravel();
 end
 
 procedure Kane04
 begin
-    gsay_reply(594, 114);
-    giq_option(4, 594, 115, Kane02, 50);
-    giq_option(4, 594, 116, Kane05, 51);
+    Reply(114);
+    giq_option(4, NAME, 115, Kane02, NEUTRAL_REACTION);
+    giq_option(4, NAME, 116, Kane05, BAD_REACTION);
 end
 
 procedure Kane05
 begin
-    if (get_critter_stat(dude_obj, 34) == 0) then begin
-        gsay_reply(594, 117);
+    if (dude_gender == 0) then begin
+        Reply(117);
     end
     else begin
-        gsay_reply(594, 118);
+        Reply(118);
     end
-    giq_option(4, 594, 119, KaneEndHostile, 51);
-    giq_option(4, 594, 120, Kane02, 50);
-    giq_option(4, 594, 121, KaneEndNotAcceptedOrDeclined, 50);
+    giq_option(4, NAME, 119, KaneEndHostile, BAD_REACTION);
+    giq_option(4, NAME, 120, Kane02, NEUTRAL_REACTION);
+    giq_option(4, NAME, 121, KaneEndNotAcceptedOrDeclined, NEUTRAL_REACTION);
 end
 
 procedure Kane06
 begin
-    gsay_message(594, 123, 50);
+    gsay_message(NAME, 123, NEUTRAL_REACTION);
     call KaneEndNotAcceptedOrDeclined();
 end
 
 procedure Kane07
 begin
-    gsay_message(594, 124, 50);
+    gsay_message(NAME, 124, NEUTRAL_REACTION);
     call KaneEndNotAcceptedOrDeclined();
 end
 
 procedure Kane08
 begin
-    gsay_reply(594, 125);
-    giq_option(4, 594, 126, Kane03, 50);
-    giq_option(4, 594, 127, KaneEndDeclined, 50);
-    giq_option(4, 594, 128, Kane06, 50);
+    Reply(125);
+    giq_option(4, NAME, 126, Kane03, NEUTRAL_REACTION);
+    giq_option(4, NAME, 127, KaneEndDeclined, NEUTRAL_REACTION);
+    giq_option(4, NAME, 128, Kane06, NEUTRAL_REACTION);
 end
 
 procedure Kane09
 begin
-    gsay_reply(594, 129);
-    giq_option(4, 594, 130, KaneTravel, 50);
-    giq_option(4, 594, 131, KaneEndDeclined, 50);
-    giq_option(4, 594, 132, Kane06, 50);
+    Reply(129);
+    giq_option(4, NAME, 130, KaneTravel, NEUTRAL_REACTION);
+    giq_option(4, NAME, 131, KaneEndDeclined, NEUTRAL_REACTION);
+    giq_option(4, NAME, 132, Kane06, NEUTRAL_REACTION);
 end
 
 procedure Kane10
 begin
     if (local_var(5) < 3) then begin
         set_local_var(5, local_var(5) + 1);
-        float_msg(self_obj, message_str(594, random(133, 136)), 2);
+        float_msg(self_obj, mstr(random(133, 136)), FLOAT_MSG_RED);
     end
     else begin
         set_map_var(11, 1);
         set_map_var(45, 4);
         set_map_var(44, 1);
-        float_msg(self_obj, message_str(594, 137), 2);
+        float_msg(self_obj, mstr(137), FLOAT_MSG_RED);
         call combat();
     end
 end
 
 procedure Kane11
 begin
-    if (get_critter_stat(dude_obj, 34) == 0) then begin
-        gsay_reply(594, 138);
+    if (dude_gender == 0) then begin
+        Reply(138);
     end
     else begin
-        gsay_reply(594, 139);
+        Reply(139);
     end
     call Kane00();
 end
 
 procedure Kane12
 begin
-    gsay_reply(594, 140);
+    Reply(140);
     call Kane00();
 end
 
 procedure Kane13
 begin
-    gsay_reply(594, 141);
+    Reply(141);
     call Kane00();
 end
 
 procedure Kane14
 begin
-    if (get_critter_stat(dude_obj, 34) == 0) then begin
-        gsay_reply(594, 143);
+    if (dude_gender == 0) then begin
+        Reply(143);
     end
     else begin
-        gsay_reply(594, 142);
+        Reply(142);
     end
     call Kane00();
 end
 
 procedure Kane15
 begin
-    gsay_reply(594, 144);
+    Reply(144);
     call Kane16();
 end
 
 procedure Kane16
 begin
-    if (global_var(101) != 2) then begin
-        giq_option(4, 594, 145, Kane17, 50);
+    if (global_var(GVAR_FIND_WATER_CHIP) != 2) then begin
+        giq_option(4, NAME, 145, Kane17, NEUTRAL_REACTION);
     end
-    if (global_var(219) == 1) then begin
-        giq_option(4, 594, 146, Kane36, 50);
+    if (global_var(GVAR_DECKER_KNOWN) == 1) then begin
+        giq_option(4, NAME, 146, Kane36, NEUTRAL_REACTION);
     end
     else begin
-        giq_option(4, 594, 147, Kane32, 50);
+        giq_option(4, NAME, 147, Kane32, NEUTRAL_REACTION);
     end
-    giq_option(4, 594, 151, Kane29, 50);
-    giq_option(4, 594, 152, KaneEndNotAcceptedOrDeclined, 50);
-    giq_option(-3, 594, 154, Kane01, 50);
-    giq_option(-3, 594, 155, Kane01, 50);
+    giq_option(4, NAME, 151, Kane29, NEUTRAL_REACTION);
+    giq_option(4, NAME, 152, KaneEndNotAcceptedOrDeclined, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 154, Kane01, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 155, Kane01, NEUTRAL_REACTION);
 end
 
 procedure Kane17
 begin
-    gsay_reply(594, 156);
-    giq_option(6, 594, 157, Kane18, 50);
-    giq_option(4, 594, 158, Kane19, 50);
-    giq_option(4, 594, 159, Kane16, 50);
-    giq_option(4, 594, 160, KaneEndNotAcceptedOrDeclined, 50);
+    Reply(156);
+    giq_option(6, NAME, 157, Kane18, NEUTRAL_REACTION);
+    giq_option(4, NAME, 158, Kane19, NEUTRAL_REACTION);
+    giq_option(4, NAME, 159, Kane16, NEUTRAL_REACTION);
+    giq_option(4, NAME, 160, KaneEndNotAcceptedOrDeclined, NEUTRAL_REACTION);
 end
 
 procedure Kane18
 begin
-    gsay_reply(594, 161);
+    Reply(161);
     call Kane16();
 end
 
 procedure Kane19
 begin
-    gsay_reply(594, 162);
+    Reply(162);
     call Kane16();
 end
 
 procedure Kane29
 begin
-    gsay_reply(594, 200);
-    giq_option(4, 594, 201, Kane59, 50);
-    giq_option(4, 594, 202, Kane31, 50);
-    giq_option(4, 594, 203, Kane30, 50);
+    Reply(200);
+    giq_option(4, NAME, 201, Kane59, NEUTRAL_REACTION);
+    giq_option(4, NAME, 202, Kane31, NEUTRAL_REACTION);
+    giq_option(4, NAME, 203, Kane30, NEUTRAL_REACTION);
 end
 
 procedure Kane30
 begin
-    gsay_reply(594, 204);
+    Reply(204);
     call Kane16();
 end
 
 procedure Kane31
 begin
-    gsay_message(594, 205, 51);
+    gsay_message(NAME, 205, BAD_REACTION);
     call KaneEndRefuses();
 end
 
 procedure Kane32
 begin
-    gsay_reply(594, 206);
-    giq_option(4, 594, 207, Kane33, 51);
-    giq_option(4, 594, 208, Kane35, 50);
+    Reply(206);
+    giq_option(4, NAME, 207, Kane33, BAD_REACTION);
+    giq_option(4, NAME, 208, Kane35, NEUTRAL_REACTION);
 end
 
 procedure Kane33
 begin
-    gsay_reply(594, 209);
-    giq_option(4, 594, 210, Kane34, 51);
-    giq_option(4, 594, 211, Kane35, 50);
+    Reply(209);
+    giq_option(4, NAME, 210, Kane34, BAD_REACTION);
+    giq_option(4, NAME, 211, Kane35, NEUTRAL_REACTION);
 end
 
 procedure Kane34
 begin
-    gsay_message(594, 212, 51);
+    gsay_message(NAME, 212, BAD_REACTION);
     call KaneEndHostile();
 end
 
 procedure Kane35
 begin
-    gsay_reply(594, 213);
+    Reply(213);
     call Kane16();
 end
 
 procedure Kane36
 begin
-    gsay_reply(594, 214);
-    giq_option(4, 594, 215, Kane41, 50);
-    giq_option(4, 594, 216, Kane39, 50);
-    giq_option(4, 594, 217, Kane36a, 50);
+    Reply(214);
+    giq_option(4, NAME, 215, Kane41, NEUTRAL_REACTION);
+    giq_option(4, NAME, 216, Kane39, NEUTRAL_REACTION);
+    giq_option(4, NAME, 217, Kane36a, NEUTRAL_REACTION);
 end
 
 procedure Kane36a
@@ -785,48 +785,48 @@ end
 
 procedure Kane37
 begin
-    if (get_critter_stat(dude_obj, 34) == 0) then begin
-        gsay_message(594, 218, 50);
+    if (dude_gender == 0) then begin
+        gsay_message(NAME, 218, NEUTRAL_REACTION);
     end
     else begin
-        gsay_message(594, 219, 50);
+        gsay_message(NAME, 219, NEUTRAL_REACTION);
     end
     call KaneTravel();
 end
 
 procedure Kane38
 begin
-    gsay_message(594, 220, 51);
+    gsay_message(NAME, 220, BAD_REACTION);
     call KaneEndTakeHike();
 end
 
 procedure Kane39
 begin
-    gsay_reply(594, 221);
-    giq_option(4, 594, 222, Kane41, 50);
-    giq_option(4, 594, 223, Kane40, 50);
+    Reply(221);
+    giq_option(4, NAME, 222, Kane41, NEUTRAL_REACTION);
+    giq_option(4, NAME, 223, Kane40, NEUTRAL_REACTION);
 end
 
 procedure Kane40
 begin
-    gsay_message(594, 224, 50);
+    gsay_message(NAME, 224, NEUTRAL_REACTION);
     call KaneEndAnnoyed();
 end
 
 procedure Kane41
 begin
-    gsay_reply(594, 225);
+    Reply(225);
     if (map_var(33) == 1) then begin
-        giq_option(4, 594, 226, Kane42, 50);
+        giq_option(4, NAME, 226, Kane42, NEUTRAL_REACTION);
     end
     if (map_var(18) == 1) then begin
-        giq_option(4, 594, 227, Kane41a, 50);
+        giq_option(4, NAME, 227, Kane41a, NEUTRAL_REACTION);
     end
-    if (global_var(207) == 1) then begin
-        giq_option(4, 594, 228, Kane47, 50);
+    if (global_var(GVAR_Loxley_known) == 1) then begin
+        giq_option(4, NAME, 228, Kane47, NEUTRAL_REACTION);
     end
-    giq_option(4, 594, 229, Kane45, 50);
-    giq_option(4, 594, 230, Kane44, 50);
+    giq_option(4, NAME, 229, Kane45, NEUTRAL_REACTION);
+    giq_option(4, NAME, 230, Kane44, NEUTRAL_REACTION);
 end
 
 procedure Kane41a
@@ -846,42 +846,42 @@ end
 
 procedure Kane42
 begin
-    gsay_reply(594, 231);
-    giq_option(4, 594, 232, Kane43, 50);
-    giq_option(4, 594, 233, Kane46, 50);
+    Reply(231);
+    giq_option(4, NAME, 232, Kane43, NEUTRAL_REACTION);
+    giq_option(4, NAME, 233, Kane46, NEUTRAL_REACTION);
 end
 
 procedure Kane43
 begin
-    gsay_message(594, 234, 51);
+    gsay_message(NAME, 234, BAD_REACTION);
     call KaneEndAnnoyed();
 end
 
 procedure Kane44
 begin
-    gsay_message(594, 235, 51);
+    gsay_message(NAME, 235, BAD_REACTION);
     call KaneEndAnnoyed();
 end
 
 procedure Kane45
 begin
-    gsay_message(594, 236, 51);
+    gsay_message(NAME, 236, BAD_REACTION);
     call KaneEndHostile();
 end
 
 procedure Kane46
 begin
-    gsay_message(594, 237, 50);
+    gsay_message(NAME, 237, NEUTRAL_REACTION);
     call KaneEndAnnoyed();
 end
 
 procedure Kane47
 begin
-    gsay_reply(594, 238);
-    giq_option(4, 594, 239, Kane47a, 50);
-    giq_option(4, 594, 240, Kane49, 50);
-    giq_option(4, 594, 241, KaneEndRefuses, 51);
-    giq_option(4, 594, 242, Kane48, 50);
+    Reply(238);
+    giq_option(4, NAME, 239, Kane47a, NEUTRAL_REACTION);
+    giq_option(4, NAME, 240, Kane49, NEUTRAL_REACTION);
+    giq_option(4, NAME, 241, KaneEndRefuses, BAD_REACTION);
+    giq_option(4, NAME, 242, Kane48, NEUTRAL_REACTION);
 end
 
 procedure Kane47a
@@ -896,129 +896,129 @@ end
 
 procedure Kane48
 begin
-    gsay_message(594, 243, 51);
+    gsay_message(NAME, 243, BAD_REACTION);
     call KaneEndRefuses();
 end
 
 procedure Kane49
 begin
-    gsay_message(594, 244, 50);
+    gsay_message(NAME, 244, NEUTRAL_REACTION);
     call KaneTravel();
 end
 
 procedure Kane50
 begin
-    gsay_reply(594, 245);
-    giq_option(4, 594, 246, Kane51, 50);
-    giq_option(4, 594, 247, Kane52, 50);
+    Reply(245);
+    giq_option(4, NAME, 246, Kane51, NEUTRAL_REACTION);
+    giq_option(4, NAME, 247, Kane52, NEUTRAL_REACTION);
 end
 
 procedure Kane51
 begin
-    gsay_message(594, 248, 51);
+    gsay_message(NAME, 248, BAD_REACTION);
     call KaneEndRefuses();
 end
 
 procedure Kane52
 begin
-    gsay_message(594, 249, 50);
+    gsay_message(NAME, 249, NEUTRAL_REACTION);
     call KaneTravel();
 end
 
 procedure Kane53
 begin
-    gsay_reply(594, 250);
-    giq_option(4, 594, 251, Kane55, 50);
-    giq_option(4, 594, 252, Kane54, 50);
-    giq_option(4, 594, 253, Kane56, 50);
-    giq_option(4, 594, 254, Kane54, 50);
+    Reply(250);
+    giq_option(4, NAME, 251, Kane55, NEUTRAL_REACTION);
+    giq_option(4, NAME, 252, Kane54, NEUTRAL_REACTION);
+    giq_option(4, NAME, 253, Kane56, NEUTRAL_REACTION);
+    giq_option(4, NAME, 254, Kane54, NEUTRAL_REACTION);
 end
 
 procedure Kane54
 begin
-    gsay_message(594, 255, 50);
+    gsay_message(NAME, 255, NEUTRAL_REACTION);
     call KaneEndAnnoyed();
 end
 
 procedure Kane55
 begin
-    gsay_message(594, 256, 50);
+    gsay_message(NAME, 256, NEUTRAL_REACTION);
     call KaneEndAnnoyed();
 end
 
 procedure Kane56
 begin
-    gsay_message(594, 257, 50);
+    gsay_message(NAME, 257, NEUTRAL_REACTION);
     call KaneTravel();
 end
 
 procedure Kane57
 begin
-    gsay_message(594, 258, 50);
+    gsay_message(NAME, 258, NEUTRAL_REACTION);
     call KaneTravel();
 end
 
 procedure Kane58
 begin
-    gsay_message(594, 259, 51);
+    gsay_message(NAME, 259, BAD_REACTION);
     call KaneEndRefuses();
 end
 
 procedure Kane59
 begin
-    if (get_critter_stat(dude_obj, 34) == 0) then begin
-        gsay_message(594, 260, 49);
+    if (dude_gender == 0) then begin
+        gsay_message(NAME, 260, GOOD_REACTION);
     end
     else begin
-        gsay_message(594, 261, 49);
+        gsay_message(NAME, 261, GOOD_REACTION);
     end
     call KaneEndNotAcceptedOrDeclined();
 end
 
 procedure Kane60
 begin
-    gsay_reply(594, 262);
+    Reply(262);
     call Kane16();
 end
 
 procedure Kane61
 begin
-    float_msg(self_obj, message_str(594, 263), 2);
+    float_msg(self_obj, mstr(263), FLOAT_MSG_RED);
 end
 
 procedure Kane62
 begin
-    float_msg(self_obj, message_str(594, 264), 2);
+    float_msg(self_obj, mstr(264), FLOAT_MSG_RED);
 end
 
 procedure Kane63
 begin
-    float_msg(self_obj, message_str(594, 265), 2);
+    float_msg(self_obj, mstr(265), FLOAT_MSG_RED);
 end
 
 procedure Kane71
 begin
     set_map_var(46, 6);
-    gsay_reply(594, 278);
+    Reply(278);
     call Kane72();
 end
 
 procedure Kane72
 begin
-    giq_option(4, 594, 279, Kane73, 51);
-    giq_option(4, 594, 280, Kane74, 51);
-    giq_option(4, 594, 281, Kane78, 51);
+    giq_option(4, NAME, 279, Kane73, BAD_REACTION);
+    giq_option(4, NAME, 280, Kane74, BAD_REACTION);
+    giq_option(4, NAME, 281, Kane78, BAD_REACTION);
 end
 
 procedure Kane73
 begin
-    gsay_message(594, 282, 51);
+    gsay_message(NAME, 282, BAD_REACTION);
     call KaneEndHostile();
 end
 
 procedure Kane74
 begin
-    gsay_message(594, 283, 51);
+    gsay_message(NAME, 283, BAD_REACTION);
     call KaneEndHostile();
 end
 
@@ -1028,14 +1028,14 @@ begin
     variable LVar1 := 0;
     set_map_var(46, 5);
     give_exp_points(300);
-    display_msg(message_str(766, 103) + 300 + message_str(766, 104));
-    set_global_var(155, global_var(155) - 1);
+    display_msg(message_str(SCRIPT_GENCHAT, 103) + 300 + message_str(SCRIPT_GENCHAT, 104));
+    set_global_var(GVAR_PLAYER_REPUATION, global_var(GVAR_PLAYER_REPUATION) - 1);
     LVar1 := item_caps_adjust(dude_obj, 1500);
-    gsay_reply(594, 284);
-    giq_option(4, 594, 285, Kane75a, 51);
-    giq_option(4, 594, 286, Kane76, 50);
-    giq_option(4, 594, 287, Kane77, 51);
-    giq_option(-3, 594, 288, Kane78, 51);
+    Reply(284);
+    giq_option(4, NAME, 285, Kane75a, BAD_REACTION);
+    giq_option(4, NAME, 286, Kane76, NEUTRAL_REACTION);
+    giq_option(4, NAME, 287, Kane77, BAD_REACTION);
+    giq_option(-3, NAME, 288, Kane78, BAD_REACTION);
 end
 
 procedure Kane75a
@@ -1046,26 +1046,26 @@ end
 
 procedure Kane76
 begin
-    gsay_message(594, 289, 50);
+    gsay_message(NAME, 289, NEUTRAL_REACTION);
     call KaneTravel();
 end
 
 procedure Kane77
 begin
-    gsay_message(594, 290, 51);
+    gsay_message(NAME, 290, BAD_REACTION);
     call KaneEndHostile();
 end
 
 procedure Kane78
 begin
-    gsay_message(594, 291, 51);
+    gsay_message(NAME, 291, BAD_REACTION);
     call KaneEndHostile();
 end
 
 procedure Kane79
 begin
     set_map_var(46, 6);
-    gsay_message(594, 292, 51);
+    gsay_message(NAME, 292, BAD_REACTION);
     call KaneEndHostile();
 end
 
@@ -1074,51 +1074,51 @@ begin
     variable LVar0 := 0;
     variable LVar1 := 0;
     give_exp_points(350);
-    display_msg(message_str(766, 103) + 350 + message_str(766, 104));
-    set_global_var(155, global_var(155) - 1);
+    display_msg(message_str(SCRIPT_GENCHAT, 103) + 350 + message_str(SCRIPT_GENCHAT, 104));
+    set_global_var(GVAR_PLAYER_REPUATION, global_var(GVAR_PLAYER_REPUATION) - 1);
     LVar1 := item_caps_adjust(dude_obj, 1000);
     set_map_var(47, 7);
-    gsay_reply(594, 293);
+    Reply(293);
     call Kane81();
 end
 
 procedure Kane81
 begin
-    giq_option(4, 594, 294, Kane82, 51);
-    giq_option(4, 594, 295, Kane83, 51);
-    giq_option(-3, 594, 296, Kane84, 51);
+    giq_option(4, NAME, 294, Kane82, BAD_REACTION);
+    giq_option(4, NAME, 295, Kane83, BAD_REACTION);
+    giq_option(-3, NAME, 296, Kane84, BAD_REACTION);
 end
 
 procedure Kane82
 begin
-    gsay_message(594, 297, 51);
+    gsay_message(NAME, 297, BAD_REACTION);
     call KaneEndRefuses();
 end
 
 procedure Kane83
 begin
-    gsay_message(594, 298, 51);
+    gsay_message(NAME, 298, BAD_REACTION);
     call KaneEndRefuses();
 end
 
 procedure Kane84
 begin
-    gsay_message(594, 299, 51);
+    gsay_message(NAME, 299, BAD_REACTION);
     call KaneEndRefuses();
 end
 
 procedure Kane85
 begin
-    float_msg(self_obj, message_str(594, 300), 2);
+    float_msg(self_obj, mstr(300), FLOAT_MSG_RED);
 end
 
 procedure Kane86
 begin
     variable LVar0 := 0;
     set_map_var(46, 4);
-    set_global_var(579, 1);
+    set_global_var(GVAR_MARK_HUB_4, 1);
     LVar0 := item_caps_adjust(dude_obj, 500);
-    gsay_message(594, 301, 50);
+    gsay_message(NAME, 301, NEUTRAL_REACTION);
 end
 
 procedure Kane87
@@ -1126,11 +1126,11 @@ begin
     variable LVar0 := 0;
     LVar0 := item_caps_adjust(dude_obj, 2500);
     give_exp_points(600);
-    display_msg(message_str(766, 103) + 600 + message_str(766, 104));
-    set_global_var(155, global_var(155) - 2);
+    display_msg(message_str(SCRIPT_GENCHAT, 103) + 600 + message_str(SCRIPT_GENCHAT, 104));
+    set_global_var(GVAR_PLAYER_REPUATION, global_var(GVAR_PLAYER_REPUATION) - 2);
     set_map_var(46, 5);
     set_local_var(7, 112);
-    gsay_message(594, 302, 50);
+    gsay_message(NAME, 302, NEUTRAL_REACTION);
 end
 
 procedure Kane88
@@ -1138,13 +1138,13 @@ begin
     variable LVar0 := 0;
     LVar0 := item_caps_adjust(dude_obj, 3500);
     give_exp_points(600);
-    display_msg(message_str(766, 103) + 600 + message_str(766, 104));
-    set_global_var(155, global_var(155) - 2);
+    display_msg(message_str(SCRIPT_GENCHAT, 103) + 600 + message_str(SCRIPT_GENCHAT, 104));
+    set_global_var(GVAR_PLAYER_REPUATION, global_var(GVAR_PLAYER_REPUATION) - 2);
     set_map_var(46, 5);
     set_map_var(47, 5);
     set_local_var(7, 112);
-    set_global_var(112, 1);
-    gsay_message(594, 303, 50);
+    set_global_var(GVAR_KILL_JAIN, 1);
+    gsay_message(NAME, 303, NEUTRAL_REACTION);
 end
 
 procedure Kane89
@@ -1152,11 +1152,11 @@ begin
     variable LVar0 := 0;
     LVar0 := item_caps_adjust(dude_obj, 3000);
     give_exp_points(600);
-    display_msg(message_str(766, 103) + 600 + message_str(766, 104));
-    set_global_var(155, global_var(155) - 2);
+    display_msg(message_str(SCRIPT_GENCHAT, 103) + 600 + message_str(SCRIPT_GENCHAT, 104));
+    set_global_var(GVAR_PLAYER_REPUATION, global_var(GVAR_PLAYER_REPUATION) - 2);
     set_map_var(46, 5);
     set_local_var(7, 112);
-    gsay_message(594, 304, 50);
+    gsay_message(NAME, 304, NEUTRAL_REACTION);
 end
 
 procedure Kane90
@@ -1164,20 +1164,20 @@ begin
     variable LVar0 := 0;
     LVar0 := item_caps_adjust(dude_obj, 5000);
     give_exp_points(700);
-    display_msg(message_str(766, 103) + 700 + message_str(766, 104));
-    set_global_var(155, global_var(155) - 2);
+    display_msg(message_str(SCRIPT_GENCHAT, 103) + 700 + message_str(SCRIPT_GENCHAT, 104));
+    set_global_var(GVAR_PLAYER_REPUATION, global_var(GVAR_PLAYER_REPUATION) - 2);
     set_map_var(47, 6);
-    gsay_message(594, 305, 50);
-    gsay_message(594, 306, 50);
+    gsay_message(NAME, 305, NEUTRAL_REACTION);
+    gsay_message(NAME, 306, NEUTRAL_REACTION);
 end
 
 procedure Kane91
 begin
     variable LVar0 := 0;
-    set_global_var(581, 1);
+    set_global_var(GVAR_MARK_HUB_6, 1);
     LVar0 := item_caps_adjust(dude_obj, 1000);
     set_map_var(47, 5);
-    gsay_message(594, 308, 50);
+    gsay_message(NAME, 308, NEUTRAL_REACTION);
 end
 
 procedure Kane92
@@ -1185,23 +1185,23 @@ begin
     variable LVar0 := 0;
     LVar0 := item_caps_adjust(dude_obj, 4000);
     give_exp_points(700);
-    display_msg(message_str(766, 103) + 700 + message_str(766, 104));
-    set_global_var(155, global_var(155) - 2);
+    display_msg(message_str(SCRIPT_GENCHAT, 103) + 700 + message_str(SCRIPT_GENCHAT, 104));
+    set_global_var(GVAR_PLAYER_REPUATION, global_var(GVAR_PLAYER_REPUATION) - 2);
     set_map_var(47, 6);
-    gsay_message(594, 309, 50);
+    gsay_message(NAME, 309, NEUTRAL_REACTION);
 end
 
 procedure Kane93
 begin
-    gsay_reply(594, 310);
-    giq_option(4, 594, 311, Kane95, 50);
-    if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin
-        giq_option(4, 594, 312, Kane148, 51);
+    Reply(310);
+    giq_option(4, NAME, 311, Kane95, NEUTRAL_REACTION);
+    if (((global_var(GVAR_BAD_MONSTER) + global_var(GVAR_GOOD_MONSTER)) >= 25) and ((global_var(GVAR_GOOD_MONSTER) > (2 * global_var(GVAR_BAD_MONSTER))) or (global_var(GVAR_BERSERKER_REPUTATION) == 1))) then begin
+        giq_option(4, NAME, 312, Kane148, BAD_REACTION);
     end
-    giq_option(4, 594, 313, Kane93a, 50);
-    giq_option(4, 594, 314, Kane149, 51);
-    giq_option(-3, 594, 315, Kane94, 50);
-    giq_option(-3, 594, 316, Kane94, 50);
+    giq_option(4, NAME, 313, Kane93a, NEUTRAL_REACTION);
+    giq_option(4, NAME, 314, Kane149, BAD_REACTION);
+    giq_option(-3, NAME, 315, Kane94, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 316, Kane94, NEUTRAL_REACTION);
 end
 
 procedure Kane93a
@@ -1216,215 +1216,215 @@ end
 
 procedure Kane94
 begin
-    gsay_message(594, 317, 50);
+    gsay_message(NAME, 317, NEUTRAL_REACTION);
     call KaneEndRefuses();
 end
 
 procedure Kane95
 begin
-    gsay_reply(594, 318);
-    giq_option(4, 594, 319, Kane98, 51);
-    giq_option(4, 594, 320, Kane99, 51);
-    giq_option(4, 594, 321, Kane97, 51);
-    giq_option(4, 594, 322, Kane98, 51);
+    Reply(318);
+    giq_option(4, NAME, 319, Kane98, BAD_REACTION);
+    giq_option(4, NAME, 320, Kane99, BAD_REACTION);
+    giq_option(4, NAME, 321, Kane97, BAD_REACTION);
+    giq_option(4, NAME, 322, Kane98, BAD_REACTION);
     if (map_var(48) == 1) then begin
-        giq_option(4, 594, 323, Kane96, 51);
+        giq_option(4, NAME, 323, Kane96, BAD_REACTION);
     end
 end
 
 procedure Kane96
 begin
-    gsay_message(594, 324, 51);
+    gsay_message(NAME, 324, BAD_REACTION);
     call KaneEndHostile();
 end
 
 procedure Kane97
 begin
-    gsay_message(594, 325, 51);
+    gsay_message(NAME, 325, BAD_REACTION);
     call KaneEndRefuses();
 end
 
 procedure Kane98
 begin
-    gsay_message(594, 326, 51);
+    gsay_message(NAME, 326, BAD_REACTION);
     call KaneEndRefuses();
 end
 
 procedure Kane99
 begin
-    gsay_message(594, 327, 51);
+    gsay_message(NAME, 327, BAD_REACTION);
     call KaneEndHostile();
 end
 
 procedure Kane100
 begin
-    gsay_reply(594, 328);
-    giq_option(4, 594, 330, Kane103, 51);
-    giq_option(4, 594, 331, Kane102, 50);
-    giq_option(4, 594, 332, Kane104, 51);
-    giq_option(4, 594, 333, Kane105, 50);
-    giq_option(4, 594, 334, Kane101, 50);
+    Reply(328);
+    giq_option(4, NAME, 330, Kane103, BAD_REACTION);
+    giq_option(4, NAME, 331, Kane102, NEUTRAL_REACTION);
+    giq_option(4, NAME, 332, Kane104, BAD_REACTION);
+    giq_option(4, NAME, 333, Kane105, NEUTRAL_REACTION);
+    giq_option(4, NAME, 334, Kane101, NEUTRAL_REACTION);
 end
 
 procedure Kane101
 begin
-    gsay_message(594, 335, 50);
+    gsay_message(NAME, 335, NEUTRAL_REACTION);
     call KaneEnd();
 end
 
 procedure Kane102
 begin
-    gsay_message(594, 336, 50);
+    gsay_message(NAME, 336, NEUTRAL_REACTION);
     call KaneTravel();
 end
 
 procedure Kane103
 begin
-    gsay_message(594, 337, 51);
+    gsay_message(NAME, 337, BAD_REACTION);
     call KaneEndHostile();
 end
 
 procedure Kane104
 begin
-    gsay_message(594, 338, 51);
+    gsay_message(NAME, 338, BAD_REACTION);
     call KaneEndHostile();
 end
 
 procedure Kane105
 begin
-    gsay_message(594, 339, 51);
+    gsay_message(NAME, 339, BAD_REACTION);
     call KaneEndHostile();
 end
 
 procedure Kane106
 begin
-    gsay_reply(594, 340);
+    Reply(340);
     if (map_var(21) == 1) then begin
-        giq_option(4, 594, 341, Kane57, 50);
+        giq_option(4, NAME, 341, Kane57, NEUTRAL_REACTION);
     end
     else begin
-        giq_option(4, 594, 343, Kane132, 50);
+        giq_option(4, NAME, 343, Kane132, NEUTRAL_REACTION);
     end
-    giq_option(4, 594, 344, KaneEnd, 50);
-    giq_option(-3, 594, 345, Kane101, 50);
+    giq_option(4, NAME, 344, KaneEnd, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 345, Kane101, NEUTRAL_REACTION);
 end
 
 procedure Kane131
 begin
-    gsay_message(594, random(403, 407), 50);
+    gsay_message(NAME, random(403, 407), NEUTRAL_REACTION);
     call KaneTravel();
 end
 
 procedure Kane132
 begin
-    gsay_message(594, 408, 50);
+    gsay_message(NAME, 408, NEUTRAL_REACTION);
     call KaneEndTakeHike();
 end
 
 procedure Kane133
 begin
-    giq_option(4, 594, 409, Kane131, 50);
-    giq_option(4, 594, 411, KaneEnd, 50);
-    giq_option(-3, 594, 412, Kane101, 50);
+    giq_option(4, NAME, 409, Kane131, NEUTRAL_REACTION);
+    giq_option(4, NAME, 411, KaneEnd, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 412, Kane101, NEUTRAL_REACTION);
 end
 
 procedure Kane134
 begin
-    gsay_reply(594, 413);
+    Reply(413);
     call Kane133();
 end
 
 procedure Kane135
 begin
-    gsay_message(594, 415, 51);
+    gsay_message(NAME, 415, BAD_REACTION);
 end
 
 procedure Kane136
 begin
-    gsay_message(594, 417, 51);
+    gsay_message(NAME, 417, BAD_REACTION);
 end
 
 procedure Kane137
 begin
-    gsay_message(594, 418, 51);
+    gsay_message(NAME, 418, BAD_REACTION);
 end
 
 procedure Kane138
 begin
-    gsay_reply(594, 420);
-    giq_option(4, 594, 423, Kane139, 50);
-    giq_option(4, 594, 424, KaneEnd, 50);
-    giq_option(-3, 594, 425, KaneEnd, 50);
+    Reply(420);
+    giq_option(4, NAME, 423, Kane139, NEUTRAL_REACTION);
+    giq_option(4, NAME, 424, KaneEnd, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 425, KaneEnd, NEUTRAL_REACTION);
 end
 
 procedure Kane139
 begin
-    gsay_reply(594, 426);
-    giq_option(4, 594, 427, Kane140, 50);
-    giq_option(4, 594, 428, KaneEndHostile, 50);
+    Reply(426);
+    giq_option(4, NAME, 427, Kane140, NEUTRAL_REACTION);
+    giq_option(4, NAME, 428, KaneEndHostile, NEUTRAL_REACTION);
 end
 
 procedure Kane140
 begin
-    gsay_message(594, 429, 50);
+    gsay_message(NAME, 429, NEUTRAL_REACTION);
 end
 
 procedure Kane146
 begin
-    float_msg(self_obj, message_str(594, 449), 2);
+    float_msg(self_obj, mstr(449), FLOAT_MSG_RED);
 end
 
 procedure Kane147
 begin
-    float_msg(self_obj, message_str(594, 451), 2);
+    float_msg(self_obj, mstr(451), FLOAT_MSG_RED);
 end
 
 procedure Kane148
 begin
-    gsay_message(594, 453, 51);
+    gsay_message(NAME, 453, BAD_REACTION);
     call KaneEndHostile();
 end
 
 procedure Kane149
 begin
-    gsay_message(594, 454, 51);
+    gsay_message(NAME, 454, BAD_REACTION);
     call KaneEndHostile();
 end
 
 procedure Kane150
 begin
-    display_msg(message_str(594, 455));
+    display_mstr(455);
 end
 
 procedure Kane151
 begin
-    gsay_message(594, 456, 50);
+    gsay_message(NAME, 456, NEUTRAL_REACTION);
     call KaneTravel();
 end
 
 procedure Kane152
 begin
-    gsay_message(594, 457, 50);
+    gsay_message(NAME, 457, NEUTRAL_REACTION);
     call KaneEndRefuses();
 end
 
 procedure Kane153
 begin
-    gsay_reply(594, 458);
-    giq_option(4, 594, 459, Kane154, 50);
-    giq_option(-3, 594, 460, Kane154, 50);
+    Reply(458);
+    giq_option(4, NAME, 459, Kane154, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 460, Kane154, NEUTRAL_REACTION);
 end
 
 procedure Kane154
 begin
-    gsay_reply(594, 461);
-    giq_option(4, 594, 462, Kane155, 50);
-    giq_option(-3, 594, 463, Kane155, 50);
+    Reply(461);
+    giq_option(4, NAME, 462, Kane155, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 463, Kane155, NEUTRAL_REACTION);
 end
 
 procedure Kane155
 begin
-    gsay_message(594, 464, 51);
+    gsay_message(NAME, 464, BAD_REACTION);
     call KaneEndHostile();
 end
 
@@ -1477,7 +1477,7 @@ begin
     move_to(self_obj, 22526, 1);
     anim(self_obj, 1000, rotation_to_tile(tile_num(self_obj), tile_num(Decker_Ptr)));
     move_to(dude_obj, 23722, 1);
-    anim(dude_obj, 1000, rotation_to_tile(tile_num(dude_obj), tile_num(Decker_Ptr)));
+    anim(dude_obj, 1000, rotation_to_tile(dude_tile, tile_num(Decker_Ptr)));
     gfade_in(1000);
 end
 
@@ -1487,31 +1487,31 @@ begin
         set_local_var(0, 50);
         set_local_var(1, 2);
         set_local_var(2, 1);
-        set_local_var(0, local_var(0) + (5 * get_critter_stat(dude_obj, 3)) - 25);
-        set_local_var(0, local_var(0) + (10 * has_trait(0, dude_obj, 10)));
-        if (has_trait(0, dude_obj, 39)) then begin
-            if (global_var(155) > 0) then begin
-                set_local_var(0, local_var(0) + global_var(155));
+        set_local_var(0, local_var(0) + (5 * dude_charisma) - 25);
+        set_local_var(0, local_var(0) + (10 * has_trait(TRAIT_PERK, dude_obj, PERK_presence)));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_cult_of_personality)) then begin
+            if (global_var(GVAR_PLAYER_REPUATION) > 0) then begin
+                set_local_var(0, local_var(0) + global_var(GVAR_PLAYER_REPUATION));
             end
             else begin
-                set_local_var(0, local_var(0) - global_var(155));
+                set_local_var(0, local_var(0) - global_var(GVAR_PLAYER_REPUATION));
             end
         end
         else begin
             if (local_var(3) == 1) then begin
-                set_local_var(0, local_var(0) - global_var(155));
+                set_local_var(0, local_var(0) - global_var(GVAR_PLAYER_REPUATION));
             end
             else begin
-                set_local_var(0, local_var(0) + global_var(155));
+                set_local_var(0, local_var(0) + global_var(GVAR_PLAYER_REPUATION));
             end
         end
-        if (global_var(158) > 2) then begin
+        if (global_var(GVAR_CHILDKILLER_REPUATION) > 2) then begin
             set_local_var(0, local_var(0) - 30);
         end
-        if (((global_var(160) + global_var(159)) >= 25) and ((global_var(160) > (3 * global_var(159))) or (global_var(157) == 1))) then begin
+        if (((global_var(GVAR_BAD_MONSTER) + global_var(GVAR_GOOD_MONSTER)) >= 25) and ((global_var(160) > (3 * global_var(GVAR_GOOD_MONSTER))) or (global_var(GVAR_CHAMPION_REPUTATION) == 1))) then begin
             set_local_var(0, local_var(0) + 20);
         end
-        if (((global_var(160) + global_var(159)) >= 25) and ((global_var(159) > (2 * global_var(160))) or (global_var(156) == 1))) then begin
+        if (((global_var(GVAR_BAD_MONSTER) + global_var(GVAR_GOOD_MONSTER)) >= 25) and ((global_var(GVAR_GOOD_MONSTER) > (2 * global_var(GVAR_BAD_MONSTER))) or (global_var(GVAR_BERSERKER_REPUTATION) == 1))) then begin
             set_local_var(0, local_var(0) - 20);
         end
         call ReactToLevel();
@@ -1604,6 +1604,5 @@ end
 
 procedure Goodbyes
 begin
-    exit_line := message_str(634, random(100, 105));
+    exit_line := message_str(SCRIPT_MODREACT, random(100, 105));
 end
-
