diff --git a/Games/Fallout2.Steam/Original/FSEMPTER.ssl b/Games/Fallout2.Steam/ReDefine/FSEMPTER.ssl
index 4b6d76b..3483034 100644
--- a/Games/Fallout2.Steam/Original/FSEMPTER.ssl
+++ b/Games/Fallout2.Steam/ReDefine/FSEMPTER.ssl
@@ -243,7 +243,7 @@ begin
     end
     if (GVar22 == 1) then begin
         GVar22 := 0;
-        set_global_var(361, global_var(361) bwand (-1 - 4194304));
+        set_global_var(GVAR_SAN_FRAN_FLAGS, global_var(GVAR_SAN_FRAN_FLAGS) bwand (-1 - 4194304));
     end
     set_local_var(4, 1);
 end
@@ -256,17 +256,17 @@ procedure look_at_p_proc
 begin
     script_overrides;
     if (local_var(4) == 0) then begin
-        display_msg(message_str(853, 100));
+        display_mstr(100);
     end
     else begin
-        display_msg(message_str(853, 101));
+        display_mstr(101);
     end
 end
 
 procedure description_p_proc
 begin
     script_overrides;
-    display_msg(message_str(853, 102));
+    display_mstr(102);
 end
 
 procedure use_skill_on_p_proc
@@ -276,13 +276,13 @@ end
 
 procedure use_obj_on_p_proc
 begin
-    display_msg(message_str(853, 214));
+    display_mstr(214);
 end
 
 procedure damage_p_proc
 begin
     if (not(combat_is_initialized)) then begin
-        set_global_var(361, global_var(361) bwor 1);
+        set_global_var(GVAR_SAN_FRAN_FLAGS, global_var(GVAR_SAN_FRAN_FLAGS) bwor 1);
         call DoCallGuards();
     end
 end
@@ -295,11 +295,11 @@ end
 procedure use_p_proc
 begin
     script_overrides;
-    if (not((global_var(361) bwand 1024) != 0)) then begin
+    if (not((global_var(GVAR_SAN_FRAN_FLAGS) bwand 1024) != 0)) then begin
         dialogue_system_enter;
     end
     else begin
-        display_msg(message_str(853, 215));
+        display_mstr(215);
     end
 end
 
@@ -314,286 +314,286 @@ end
 
 procedure Node001
 begin
-    gsay_reply(853, 103);
-    giq_option(-3, 853, 104, Node999, 50);
-    if ((global_var(361) bwand 2048) != 0) then begin
+    Reply(103);
+    giq_option(-3, NAME, 104, Node999, NEUTRAL_REACTION);
+    if ((global_var(GVAR_SAN_FRAN_FLAGS) bwand 2048) != 0) then begin
         GVar20 := 1;
-        giq_option(4, 853, 105, Node002, 50);
+        giq_option(4, NAME, 105, Node002, NEUTRAL_REACTION);
     end
-    giq_option(4, 853, 106, Node003, 50);
-    giq_option(4, 853, 107, Node003, 50);
-    giq_option(4, 853, 108, NodeHack, 50);
-    giq_option(4, 853, 109, Node999, 50);
+    giq_option(4, NAME, 106, Node003, NEUTRAL_REACTION);
+    giq_option(4, NAME, 107, Node003, NEUTRAL_REACTION);
+    giq_option(4, NAME, 108, NodeHack, NEUTRAL_REACTION);
+    giq_option(4, NAME, 109, Node999, NEUTRAL_REACTION);
 end
 
 procedure Node002
 begin
     if (GVar20) then begin
         GVar20 := 0;
-        gsay_reply(853, 110);
+        Reply(110);
     end
     else begin
-        gsay_reply(853, 111);
+        Reply(111);
     end
     if (4) then begin
-        giq_option(4, 853, 220, Node027, 50);
+        giq_option(4, NAME, 220, Node027, NEUTRAL_REACTION);
     end
-    giq_option(4, 853, 112, Node005, 50);
-    giq_option(4, 853, 113, Node006, 50);
-    giq_option(4, 853, 114, Node007, 50);
-    giq_option(4, 853, 115, Node999, 50);
+    giq_option(4, NAME, 112, Node005, NEUTRAL_REACTION);
+    giq_option(4, NAME, 113, Node006, NEUTRAL_REACTION);
+    giq_option(4, NAME, 114, Node007, NEUTRAL_REACTION);
+    giq_option(4, NAME, 115, Node999, NEUTRAL_REACTION);
 end
 
 procedure Node003
 begin
-    gsay_reply(853, 116);
-    giq_option(4, 853, 117, NodeHack, 50);
-    giq_option(4, 853, 118, Node999, 50);
+    Reply(116);
+    giq_option(4, NAME, 117, NodeHack, NEUTRAL_REACTION);
+    giq_option(4, NAME, 118, Node999, NEUTRAL_REACTION);
 end
 
 procedure Node004
 begin
     set_local_var(7, 1);
     GVar22 := 1;
-    set_global_var(364, 1);
-    set_global_var(361, global_var(361) bwor 1);
+    set_global_var(GVAR_SAN_FRAN_SHIHACKED, 1);
+    set_global_var(GVAR_SAN_FRAN_FLAGS, global_var(GVAR_SAN_FRAN_FLAGS) bwor 1);
     GVar21 := 1;
-    gsay_reply(853, 119);
-    giq_option(4, 853, 120, Node999, 50);
+    Reply(119);
+    giq_option(4, NAME, 120, Node999, NEUTRAL_REACTION);
 end
 
 procedure Node005
 begin
-    gsay_reply(853, 121);
-    giq_option(4, 853, 122, Node008, 50);
-    giq_option(4, 853, 123, Node009, 50);
-    giq_option(4, 853, 124, Node010, 50);
-    giq_option(4, 853, 125, Node002, 50);
+    Reply(121);
+    giq_option(4, NAME, 122, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 123, Node009, NEUTRAL_REACTION);
+    giq_option(4, NAME, 124, Node010, NEUTRAL_REACTION);
+    giq_option(4, NAME, 125, Node002, NEUTRAL_REACTION);
 end
 
 procedure Node006
 begin
-    gsay_reply(853, 126);
-    if ((global_var(361) bwand 4096) != 0) then begin
-        giq_option(4, 853, 127, Node013, 50);
+    Reply(126);
+    if ((global_var(GVAR_SAN_FRAN_FLAGS) bwand 4096) != 0) then begin
+        giq_option(4, NAME, 127, Node013, NEUTRAL_REACTION);
     end
-    if ((global_var(361) bwand 8192) != 0) then begin
-        giq_option(4, 853, 128, Node017, 50);
+    if ((global_var(GVAR_SAN_FRAN_FLAGS) bwand 8192) != 0) then begin
+        giq_option(4, NAME, 128, Node017, NEUTRAL_REACTION);
     end
-    if ((global_var(361) bwand 16384) != 0) then begin
-        giq_option(4, 853, 129, Node022, 50);
+    if ((global_var(GVAR_SAN_FRAN_FLAGS) bwand 16384) != 0) then begin
+        giq_option(4, NAME, 129, Node022, NEUTRAL_REACTION);
     end
-    giq_option(4, 853, 131, Node002, 50);
+    giq_option(4, NAME, 131, Node002, NEUTRAL_REACTION);
 end
 
 procedure Node007
 begin
     variable LVar0 := 0;
     LVar0 := random(132, 140);
-    if ((LVar0 == 132) and not(global_var(1) >= 2)) then begin
+    if ((LVar0 == 132) and not(global_var(GVAR_CHILDKILLER_REPUTATION) >= 2)) then begin
         LVar0 := 133;
     end
-    if ((LVar0 == 133) and (global_var(0) > 0)) then begin
+    if ((LVar0 == 133) and (global_var(GVAR_PLAYER_REPUTATION) > 0)) then begin
         LVar0 := 134;
     end
-    gsay_reply(853, LVar0);
-    giq_option(4, 853, 141, Node007, 50);
-    giq_option(4, 853, 142, Node002, 50);
+    Reply(LVar0);
+    giq_option(4, NAME, 141, Node007, NEUTRAL_REACTION);
+    giq_option(4, NAME, 142, Node002, NEUTRAL_REACTION);
 end
 
 procedure Node008
 begin
     variable LVar0 := 0;
-    if ((global_var(361) bwand 4096) != 0) then begin
-        LVar0 := message_str(853, 143);
+    if ((global_var(GVAR_SAN_FRAN_FLAGS) bwand 4096) != 0) then begin
+        LVar0 := mstr(143);
     end
     else begin
-        LVar0 := message_str(853, 144);
+        LVar0 := mstr(144);
     end
-    if ((global_var(361) bwand 8192) != 0) then begin
-        LVar0 := LVar0 + (" - " + message_str(853, 145));
+    if ((global_var(GVAR_SAN_FRAN_FLAGS) bwand 8192) != 0) then begin
+        LVar0 := LVar0 + (" - " + mstr(145));
     end
     else begin
-        LVar0 := LVar0 + (" - " + message_str(853, 146));
+        LVar0 := LVar0 + (" - " + mstr(146));
     end
-    if ((global_var(361) bwand 16384) != 0) then begin
-        LVar0 := LVar0 + (" - " + message_str(853, 147));
+    if ((global_var(GVAR_SAN_FRAN_FLAGS) bwand 16384) != 0) then begin
+        LVar0 := LVar0 + (" - " + mstr(147));
     end
     else begin
-        LVar0 := LVar0 + (" - " + message_str(853, 148));
+        LVar0 := LVar0 + (" - " + mstr(148));
     end
-    gsay_reply(853, LVar0);
-    if ((global_var(361) bwand 4096) != 0) then begin
-        giq_option(4, 853, 149, NodeBioOff, 50);
-        giq_option(4, 853, 152, Node013, 50);
+    Reply(LVar0);
+    if ((global_var(GVAR_SAN_FRAN_FLAGS) bwand 4096) != 0) then begin
+        giq_option(4, NAME, 149, NodeBioOff, NEUTRAL_REACTION);
+        giq_option(4, NAME, 152, Node013, NEUTRAL_REACTION);
     end
-    if ((global_var(361) bwand 8192) != 0) then begin
-        giq_option(4, 853, 150, NodeChemOff, 50);
-        giq_option(4, 853, 153, Node017, 50);
+    if ((global_var(GVAR_SAN_FRAN_FLAGS) bwand 8192) != 0) then begin
+        giq_option(4, NAME, 150, NodeChemOff, NEUTRAL_REACTION);
+        giq_option(4, NAME, 153, Node017, NEUTRAL_REACTION);
     end
-    if ((global_var(361) bwand 16384) != 0) then begin
-        giq_option(4, 853, 151, NodePhyOff, 50);
-        giq_option(4, 853, 154, Node022, 50);
+    if ((global_var(GVAR_SAN_FRAN_FLAGS) bwand 16384) != 0) then begin
+        giq_option(4, NAME, 151, NodePhyOff, NEUTRAL_REACTION);
+        giq_option(4, NAME, 154, Node022, NEUTRAL_REACTION);
     end
-    if (not((global_var(361) bwand 4096) != 0)) then begin
-        giq_option(4, 853, 155, NodeBioOn, 50);
+    if (not((global_var(GVAR_SAN_FRAN_FLAGS) bwand 4096) != 0)) then begin
+        giq_option(4, NAME, 155, NodeBioOn, NEUTRAL_REACTION);
     end
-    if (not((global_var(361) bwand 8192) != 0)) then begin
-        giq_option(4, 853, 156, NodeChemOn, 50);
+    if (not((global_var(GVAR_SAN_FRAN_FLAGS) bwand 8192) != 0)) then begin
+        giq_option(4, NAME, 156, NodeChemOn, NEUTRAL_REACTION);
     end
-    if (not((global_var(361) bwand 16384) != 0)) then begin
-        giq_option(4, 853, 157, NodePhyOn, 50);
+    if (not((global_var(GVAR_SAN_FRAN_FLAGS) bwand 16384) != 0)) then begin
+        giq_option(4, NAME, 157, NodePhyOn, NEUTRAL_REACTION);
     end
-    giq_option(4, 853, 158, Node005, 50);
+    giq_option(4, NAME, 158, Node005, NEUTRAL_REACTION);
 end
 
 procedure Node009
 begin
-    gsay_reply(853, 159);
-    giq_option(4, 853, 160, Node011, 50);
-    giq_option(4, 853, 161, Node005, 50);
+    Reply(159);
+    giq_option(4, NAME, 160, Node011, NEUTRAL_REACTION);
+    giq_option(4, NAME, 161, Node005, NEUTRAL_REACTION);
 end
 
 procedure Node010
 begin
-    gsay_reply(853, 162);
-    giq_option(4, 853, 163, Node005, 50);
+    Reply(162);
+    giq_option(4, NAME, 163, Node005, NEUTRAL_REACTION);
 end
 
 procedure Node011
 begin
-    gsay_reply(853, 164);
-    giq_option(4, 853, 165, Node012, 50);
-    giq_option(4, 853, 166, Node005, 50);
+    Reply(164);
+    giq_option(4, NAME, 165, Node012, NEUTRAL_REACTION);
+    giq_option(4, NAME, 166, Node005, NEUTRAL_REACTION);
 end
 
 procedure Node012
 begin
-    set_global_var(361, global_var(361) bwor 1);
-    set_global_var(361, global_var(361) bwor 1024);
+    set_global_var(GVAR_SAN_FRAN_FLAGS, global_var(GVAR_SAN_FRAN_FLAGS) bwor 1);
+    set_global_var(GVAR_SAN_FRAN_FLAGS, global_var(GVAR_SAN_FRAN_FLAGS) bwor 1024);
     GVar21 := 1;
-    gsay_reply(853, 167);
-    giq_option(4, 853, 168, Node999, 50);
+    Reply(167);
+    giq_option(4, NAME, 168, Node999, NEUTRAL_REACTION);
 end
 
 procedure Node013
 begin
-    gsay_reply(853, 169);
-    giq_option(4, 853, 170, Node014, 50);
-    giq_option(4, 853, 171, Node015, 50);
-    giq_option(4, 853, 172, Node016, 50);
-    giq_option(4, 853, 173, Node006, 50);
+    Reply(169);
+    giq_option(4, NAME, 170, Node014, NEUTRAL_REACTION);
+    giq_option(4, NAME, 171, Node015, NEUTRAL_REACTION);
+    giq_option(4, NAME, 172, Node016, NEUTRAL_REACTION);
+    giq_option(4, NAME, 173, Node006, NEUTRAL_REACTION);
 end
 
 procedure Node014
 begin
     game_time_advance(60 * 10 * 20);
-    gsay_reply(853, 174);
-    giq_option(4, 853, 175, Node015, 50);
-    giq_option(4, 853, 176, Node016, 50);
-    giq_option(4, 853, 177, Node013, 50);
+    Reply(174);
+    giq_option(4, NAME, 175, Node015, NEUTRAL_REACTION);
+    giq_option(4, NAME, 176, Node016, NEUTRAL_REACTION);
+    giq_option(4, NAME, 177, Node013, NEUTRAL_REACTION);
 end
 
 procedure Node015
 begin
     game_time_advance(60 * 10 * 20);
-    gsay_reply(853, 178);
-    giq_option(4, 853, 179, Node014, 50);
-    giq_option(4, 853, 180, Node016, 50);
-    giq_option(4, 853, 181, Node013, 50);
+    Reply(178);
+    giq_option(4, NAME, 179, Node014, NEUTRAL_REACTION);
+    giq_option(4, NAME, 180, Node016, NEUTRAL_REACTION);
+    giq_option(4, NAME, 181, Node013, NEUTRAL_REACTION);
 end
 
 procedure Node016
 begin
-    gsay_reply(853, 182);
-    giq_option(4, 853, 183, Node014, 50);
-    giq_option(4, 853, 184, Node015, 50);
-    giq_option(4, 853, 185, Node013, 50);
+    Reply(182);
+    giq_option(4, NAME, 183, Node014, NEUTRAL_REACTION);
+    giq_option(4, NAME, 184, Node015, NEUTRAL_REACTION);
+    giq_option(4, NAME, 185, Node013, NEUTRAL_REACTION);
 end
 
 procedure Node017
 begin
-    gsay_reply(853, 186);
-    giq_option(4, 853, 187, Node018, 50);
-    giq_option(4, 853, 188, Node019, 50);
-    giq_option(4, 853, 189, Node006, 50);
+    Reply(186);
+    giq_option(4, NAME, 187, Node018, NEUTRAL_REACTION);
+    giq_option(4, NAME, 188, Node019, NEUTRAL_REACTION);
+    giq_option(4, NAME, 189, Node006, NEUTRAL_REACTION);
 end
 
 procedure Node018
 begin
     if (is_success(roll_vs_skill(dude_obj, 12, -100))) then begin
         game_time_advance(60 * (60 * 10));
-        gsay_reply(853, 190);
+        Reply(190);
     end
     else begin
         game_time_advance(60 * 10 * 15);
-        gsay_reply(853, 191);
+        Reply(191);
     end
-    if (not((global_var(363) bwand 8) != 0) and not((global_var(361) bwand 32768) != 0)) then begin
-        if ((global_var(363) bwand 1) != 0) then begin
-            giq_option(4, 853, 192, NodeTanker2120, 50);
+    if (not((global_var(GVAR_SAN_FRAN_TANKER) bwand 8) != 0) and not((global_var(GVAR_SAN_FRAN_FLAGS) bwand 32768) != 0)) then begin
+        if ((global_var(GVAR_SAN_FRAN_TANKER) bwand 1) != 0) then begin
+            giq_option(4, NAME, 192, NodeTanker2120, NEUTRAL_REACTION);
         end
-        if ((global_var(361) bwand 65536) != 0) then begin
-            giq_option(4, 853, 193, NodeElron20, 50);
+        if ((global_var(GVAR_SAN_FRAN_FLAGS) bwand 65536) != 0) then begin
+            giq_option(4, NAME, 193, NodeElron20, NEUTRAL_REACTION);
         end
     end
-    giq_option(4, 853, 194, Node017, 50);
+    giq_option(4, NAME, 194, Node017, NEUTRAL_REACTION);
 end
 
 procedure Node019
 begin
-    gsay_reply(853, 195);
-    giq_option(4, 853, 196, Node017, 50);
+    Reply(195);
+    giq_option(4, NAME, 196, Node017, NEUTRAL_REACTION);
 end
 
 procedure Node020
 begin
     if (-10 != 0) then begin
-        set_global_var(0, global_var(0) + -10);
+        set_global_var(GVAR_PLAYER_REPUTATION, global_var(GVAR_PLAYER_REPUTATION) + -10);
     end
     debug_msg("Player gains " + -10 + " Karma Points.");
-    set_global_var(37, 0);
-    set_global_var(38, 0);
-    set_global_var(39, 0);
-    set_global_var(40, 0);
-    set_global_var(41, 0);
-    set_global_var(42, 0);
-    set_global_var(43, 0);
-    set_global_var(44, 0);
-    set_global_var(45, 0);
-    if (global_var(0) >= 1000) then begin
-        set_global_var(37, 1);
+    set_global_var(GVAR_KARMA_HOLY_WARRIOR, 0);
+    set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 0);
+    set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 0);
+    set_global_var(GVAR_KARMA_DEFENDER, 0);
+    set_global_var(GVAR_KARMA_WANDERER, 0);
+    set_global_var(GVAR_KARMA_BETRAYER, 0);
+    set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 0);
+    set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 0);
+    set_global_var(GVAR_KARMA_DEMON_SPAWN, 0);
+    if (global_var(GVAR_PLAYER_REPUTATION) >= 1000) then begin
+        set_global_var(GVAR_KARMA_HOLY_WARRIOR, 1);
     end
     else begin
-        if (global_var(0) >= 750) then begin
-            set_global_var(38, 1);
+        if (global_var(GVAR_PLAYER_REPUTATION) >= 750) then begin
+            set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 1);
         end
         else begin
-            if (global_var(0) >= 500) then begin
-                set_global_var(39, 1);
+            if (global_var(GVAR_PLAYER_REPUTATION) >= 500) then begin
+                set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 1);
             end
             else begin
-                if (global_var(0) >= 250) then begin
-                    set_global_var(40, 1);
+                if (global_var(GVAR_PLAYER_REPUTATION) >= 250) then begin
+                    set_global_var(GVAR_KARMA_DEFENDER, 1);
                 end
                 else begin
-                    if (global_var(0) > -250) then begin
-                        set_global_var(41, 1);
+                    if (global_var(GVAR_PLAYER_REPUTATION) > -250) then begin
+                        set_global_var(GVAR_KARMA_WANDERER, 1);
                     end
                     else begin
-                        if (global_var(0) > -500) then begin
-                            set_global_var(42, 1);
+                        if (global_var(GVAR_PLAYER_REPUTATION) > -500) then begin
+                            set_global_var(GVAR_KARMA_BETRAYER, 1);
                         end
                         else begin
-                            if (global_var(0) > -750) then begin
-                                set_global_var(43, 1);
+                            if (global_var(GVAR_PLAYER_REPUTATION) > -750) then begin
+                                set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 1);
                             end
                             else begin
-                                if (global_var(0) > -1000) then begin
-                                    set_global_var(44, 1);
+                                if (global_var(GVAR_PLAYER_REPUTATION) > -1000) then begin
+                                    set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 1);
                                 end
                                 else begin
-                                    set_global_var(45, 1);
+                                    set_global_var(GVAR_KARMA_DEMON_SPAWN, 1);
                                 end
                             end
                         end
@@ -603,71 +603,71 @@ begin
         end
     end
     if (-10 != 0) then begin
-        set_global_var(61, global_var(61) + 1);
+        set_global_var(GVAR_TOWN_REP_SAN_FRANCISCO, global_var(GVAR_TOWN_REP_SAN_FRANCISCO) + 1);
     end
     if (3000 != 0) then begin
         give_exp_points(3000);
     end
-    display_msg(message_str(14, 100) + 3000 + message_str(14, 101));
-    set_global_var(364, 1);
-    gsay_reply(853, 197);
-    giq_option(4, 853, 198, Node999, 50);
+    display_msg(g_mstr(100) + 3000 + g_mstr(101));
+    set_global_var(GVAR_SAN_FRAN_SHIHACKED, 1);
+    Reply(197);
+    giq_option(4, NAME, 198, Node999, NEUTRAL_REACTION);
 end
 
 procedure Node021
 begin
-    gsay_reply(853, 199);
-    giq_option(4, 853, 200, Node999, 50);
+    Reply(199);
+    giq_option(4, NAME, 200, Node999, NEUTRAL_REACTION);
 end
 
 procedure Node022
 begin
-    gsay_reply(853, 201);
-    giq_option(4, 853, 202, Node2324, 50);
-    giq_option(4, 853, 203, Node025, 50);
-    giq_option(4, 853, 204, Node006, 50);
+    Reply(201);
+    giq_option(4, NAME, 202, Node2324, NEUTRAL_REACTION);
+    giq_option(4, NAME, 203, Node025, NEUTRAL_REACTION);
+    giq_option(4, NAME, 204, Node006, NEUTRAL_REACTION);
 end
 
 procedure Node023
 begin
-    gsay_reply(853, 205);
-    if ((global_var(427) == 4) or ((global_var(361) bwand 33554432) != 0)) then begin
-        giq_option(4, 853, 206, NodeCopy, 50);
+    Reply(205);
+    if ((global_var(GVAR_SAN_FRAN_ELRON_WHIRLY) == 4) or ((global_var(GVAR_SAN_FRAN_FLAGS) bwand 33554432) != 0)) then begin
+        giq_option(4, NAME, 206, NodeCopy, NEUTRAL_REACTION);
     end
-    giq_option(4, 853, 207, Node022, 50);
+    giq_option(4, NAME, 207, Node022, NEUTRAL_REACTION);
 end
 
 procedure Node024
 begin
-    gsay_reply(853, 208);
-    giq_option(4, 853, 209, Node022, 50);
+    Reply(208);
+    giq_option(4, NAME, 209, Node022, NEUTRAL_REACTION);
 end
 
 procedure Node025
 begin
-    gsay_reply(853, 210);
-    giq_option(4, 853, 211, Node022, 50);
+    Reply(210);
+    giq_option(4, NAME, 211, Node022, NEUTRAL_REACTION);
 end
 
 procedure Node026
 begin
-    gsay_reply(853, 212);
-    giq_option(4, 853, 213, Node008, 50);
+    Reply(212);
+    giq_option(4, NAME, 213, Node008, NEUTRAL_REACTION);
 end
 
 procedure Node027
 begin
-    gsay_reply(853, 221);
-    if (global_var(494) == 4) then begin
-        giq_option(4, 853, 222, Node028, 50);
+    Reply(221);
+    if (global_var(GVAR_FALLOUT_2) == 4) then begin
+        giq_option(4, NAME, 222, Node028, NEUTRAL_REACTION);
     end
-    giq_option(4, 853, 213, Node002, 50);
+    giq_option(4, NAME, 213, Node002, NEUTRAL_REACTION);
 end
 
 procedure Node028
 begin
-    gsay_reply(853, 223);
-    giq_option(4, 853, 213, Node002, 50);
+    Reply(223);
+    giq_option(4, NAME, 213, Node002, NEUTRAL_REACTION);
 end
 
 procedure DoCallGuards
@@ -676,13 +676,13 @@ begin
     LVar0 := tile_contains_pid_obj(17851, elevation(self_obj), 16777518);
     debug_msg("fsempter: should be attacking: " + LVar0);
     if (LVar0) then begin
-        float_msg(LVar0, message_str(853, random(216, 219)), 2);
+        float_msg(LVar0, mstr(random(216, 219)), FLOAT_MSG_RED);
         attack_setup(LVar0, dude_obj);
     end
     LVar0 := tile_contains_pid_obj(17845, elevation(self_obj), 16777518);
     debug_msg("fsempter: should be attacking: " + LVar0);
     if (LVar0) then begin
-        float_msg(LVar0, message_str(853, random(216, 219)), 2);
+        float_msg(LVar0, mstr(random(216, 219)), FLOAT_MSG_RED);
         attack_setup(LVar0, dude_obj);
     end
 end
@@ -690,56 +690,56 @@ end
 procedure NodeHack
 begin
     if (is_success(roll_vs_skill(dude_obj, 12, 0))) then begin
-        if (has_skill(dude_obj, 12) >= 115) then begin
+        if (dude_skill(SKILL_SCIENCE) >= 115) then begin
             GVar20 := 1;
             if (local_var(8) == 0) then begin
                 set_local_var(8, 1);
                 if (0 != 0) then begin
-                    set_global_var(0, global_var(0) + 0);
+                    set_global_var(GVAR_PLAYER_REPUTATION, global_var(GVAR_PLAYER_REPUTATION) + 0);
                 end
                 debug_msg("Player gains " + 0 + " Karma Points.");
-                set_global_var(37, 0);
-                set_global_var(38, 0);
-                set_global_var(39, 0);
-                set_global_var(40, 0);
-                set_global_var(41, 0);
-                set_global_var(42, 0);
-                set_global_var(43, 0);
-                set_global_var(44, 0);
-                set_global_var(45, 0);
-                if (global_var(0) >= 1000) then begin
-                    set_global_var(37, 1);
+                set_global_var(GVAR_KARMA_HOLY_WARRIOR, 0);
+                set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 0);
+                set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 0);
+                set_global_var(GVAR_KARMA_DEFENDER, 0);
+                set_global_var(GVAR_KARMA_WANDERER, 0);
+                set_global_var(GVAR_KARMA_BETRAYER, 0);
+                set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 0);
+                set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 0);
+                set_global_var(GVAR_KARMA_DEMON_SPAWN, 0);
+                if (global_var(GVAR_PLAYER_REPUTATION) >= 1000) then begin
+                    set_global_var(GVAR_KARMA_HOLY_WARRIOR, 1);
                 end
                 else begin
-                    if (global_var(0) >= 750) then begin
-                        set_global_var(38, 1);
+                    if (global_var(GVAR_PLAYER_REPUTATION) >= 750) then begin
+                        set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 1);
                     end
                     else begin
-                        if (global_var(0) >= 500) then begin
-                            set_global_var(39, 1);
+                        if (global_var(GVAR_PLAYER_REPUTATION) >= 500) then begin
+                            set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 1);
                         end
                         else begin
-                            if (global_var(0) >= 250) then begin
-                                set_global_var(40, 1);
+                            if (global_var(GVAR_PLAYER_REPUTATION) >= 250) then begin
+                                set_global_var(GVAR_KARMA_DEFENDER, 1);
                             end
                             else begin
-                                if (global_var(0) > -250) then begin
-                                    set_global_var(41, 1);
+                                if (global_var(GVAR_PLAYER_REPUTATION) > -250) then begin
+                                    set_global_var(GVAR_KARMA_WANDERER, 1);
                                 end
                                 else begin
-                                    if (global_var(0) > -500) then begin
-                                        set_global_var(42, 1);
+                                    if (global_var(GVAR_PLAYER_REPUTATION) > -500) then begin
+                                        set_global_var(GVAR_KARMA_BETRAYER, 1);
                                     end
                                     else begin
-                                        if (global_var(0) > -750) then begin
-                                            set_global_var(43, 1);
+                                        if (global_var(GVAR_PLAYER_REPUTATION) > -750) then begin
+                                            set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 1);
                                         end
                                         else begin
-                                            if (global_var(0) > -1000) then begin
-                                                set_global_var(44, 1);
+                                            if (global_var(GVAR_PLAYER_REPUTATION) > -1000) then begin
+                                                set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 1);
                                             end
                                             else begin
-                                                set_global_var(45, 1);
+                                                set_global_var(GVAR_KARMA_DEMON_SPAWN, 1);
                                             end
                                         end
                                     end
@@ -749,66 +749,66 @@ begin
                     end
                 end
                 if (0 != 0) then begin
-                    set_global_var(61, global_var(61) + 1);
+                    set_global_var(GVAR_TOWN_REP_SAN_FRANCISCO, global_var(GVAR_TOWN_REP_SAN_FRANCISCO) + 1);
                 end
                 if (7000 != 0) then begin
                     give_exp_points(7000);
                 end
-                display_msg(message_str(14, 100) + 7000 + message_str(14, 101));
+                display_msg(g_mstr(100) + 7000 + g_mstr(101));
             end
             call Node002();
         end
         else begin
-            set_global_var(364, 1);
-            set_global_var(361, global_var(361) bwor 1);
+            set_global_var(GVAR_SAN_FRAN_SHIHACKED, 1);
+            set_global_var(GVAR_SAN_FRAN_FLAGS, global_var(GVAR_SAN_FRAN_FLAGS) bwor 1);
             if (local_var(8) == 0) then begin
                 set_local_var(8, 1);
                 if (-10 != 0) then begin
-                    set_global_var(0, global_var(0) + -10);
+                    set_global_var(GVAR_PLAYER_REPUTATION, global_var(GVAR_PLAYER_REPUTATION) + -10);
                 end
                 debug_msg("Player gains " + -10 + " Karma Points.");
-                set_global_var(37, 0);
-                set_global_var(38, 0);
-                set_global_var(39, 0);
-                set_global_var(40, 0);
-                set_global_var(41, 0);
-                set_global_var(42, 0);
-                set_global_var(43, 0);
-                set_global_var(44, 0);
-                set_global_var(45, 0);
-                if (global_var(0) >= 1000) then begin
-                    set_global_var(37, 1);
+                set_global_var(GVAR_KARMA_HOLY_WARRIOR, 0);
+                set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 0);
+                set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 0);
+                set_global_var(GVAR_KARMA_DEFENDER, 0);
+                set_global_var(GVAR_KARMA_WANDERER, 0);
+                set_global_var(GVAR_KARMA_BETRAYER, 0);
+                set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 0);
+                set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 0);
+                set_global_var(GVAR_KARMA_DEMON_SPAWN, 0);
+                if (global_var(GVAR_PLAYER_REPUTATION) >= 1000) then begin
+                    set_global_var(GVAR_KARMA_HOLY_WARRIOR, 1);
                 end
                 else begin
-                    if (global_var(0) >= 750) then begin
-                        set_global_var(38, 1);
+                    if (global_var(GVAR_PLAYER_REPUTATION) >= 750) then begin
+                        set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 1);
                     end
                     else begin
-                        if (global_var(0) >= 500) then begin
-                            set_global_var(39, 1);
+                        if (global_var(GVAR_PLAYER_REPUTATION) >= 500) then begin
+                            set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 1);
                         end
                         else begin
-                            if (global_var(0) >= 250) then begin
-                                set_global_var(40, 1);
+                            if (global_var(GVAR_PLAYER_REPUTATION) >= 250) then begin
+                                set_global_var(GVAR_KARMA_DEFENDER, 1);
                             end
                             else begin
-                                if (global_var(0) > -250) then begin
-                                    set_global_var(41, 1);
+                                if (global_var(GVAR_PLAYER_REPUTATION) > -250) then begin
+                                    set_global_var(GVAR_KARMA_WANDERER, 1);
                                 end
                                 else begin
-                                    if (global_var(0) > -500) then begin
-                                        set_global_var(42, 1);
+                                    if (global_var(GVAR_PLAYER_REPUTATION) > -500) then begin
+                                        set_global_var(GVAR_KARMA_BETRAYER, 1);
                                     end
                                     else begin
-                                        if (global_var(0) > -750) then begin
-                                            set_global_var(43, 1);
+                                        if (global_var(GVAR_PLAYER_REPUTATION) > -750) then begin
+                                            set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 1);
                                         end
                                         else begin
-                                            if (global_var(0) > -1000) then begin
-                                                set_global_var(44, 1);
+                                            if (global_var(GVAR_PLAYER_REPUTATION) > -1000) then begin
+                                                set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 1);
                                             end
                                             else begin
-                                                set_global_var(45, 1);
+                                                set_global_var(GVAR_KARMA_DEMON_SPAWN, 1);
                                             end
                                         end
                                     end
@@ -818,12 +818,12 @@ begin
                     end
                 end
                 if (-10 != 0) then begin
-                    set_global_var(61, global_var(61) + 1);
+                    set_global_var(GVAR_TOWN_REP_SAN_FRANCISCO, global_var(GVAR_TOWN_REP_SAN_FRANCISCO) + 1);
                 end
                 if (3000 != 0) then begin
                     give_exp_points(3000);
                 end
-                display_msg(message_str(14, 100) + 3000 + message_str(14, 101));
+                display_msg(g_mstr(100) + 3000 + g_mstr(101));
             end
             GVar20 := 1;
             call Node002();
@@ -836,95 +836,95 @@ end
 
 procedure NodeBioOn
 begin
-    set_global_var(361, global_var(361) bwor 4096);
+    set_global_var(GVAR_SAN_FRAN_FLAGS, global_var(GVAR_SAN_FRAN_FLAGS) bwor 4096);
     call Node008();
 end
 
 procedure NodeChemOn
 begin
-    set_global_var(361, global_var(361) bwor 8192);
+    set_global_var(GVAR_SAN_FRAN_FLAGS, global_var(GVAR_SAN_FRAN_FLAGS) bwor 8192);
     call Node008();
 end
 
 procedure NodePhyOn
 begin
-    set_global_var(361, global_var(361) bwor 16384);
+    set_global_var(GVAR_SAN_FRAN_FLAGS, global_var(GVAR_SAN_FRAN_FLAGS) bwor 16384);
     call Node008();
 end
 
 procedure NodeBioOff
 begin
-    set_global_var(361, global_var(361) bwand (-1 - 4096));
+    set_global_var(GVAR_SAN_FRAN_FLAGS, global_var(GVAR_SAN_FRAN_FLAGS) bwand (-1 - 4096));
     call Node008();
 end
 
 procedure NodeChemOff
 begin
-    set_global_var(361, global_var(361) bwand (-1 - 8192));
+    set_global_var(GVAR_SAN_FRAN_FLAGS, global_var(GVAR_SAN_FRAN_FLAGS) bwand (-1 - 8192));
     call Node008();
 end
 
 procedure NodePhyOff
 begin
-    set_global_var(361, global_var(361) bwand (-1 - 16384));
+    set_global_var(GVAR_SAN_FRAN_FLAGS, global_var(GVAR_SAN_FRAN_FLAGS) bwand (-1 - 16384));
     call Node008();
 end
 
 procedure NodeTanker2120
 begin
-    set_global_var(363, global_var(363) bwor 8);
-    if (((global_var(363) bwand 8) != 0) and ((global_var(363) bwand 4) != 0)) then begin
-        if (global_var(494) < 7) then begin
-            set_global_var(494, 7);
+    set_global_var(GVAR_SAN_FRAN_TANKER, global_var(GVAR_SAN_FRAN_TANKER) bwor 8);
+    if (((global_var(GVAR_SAN_FRAN_TANKER) bwand 8) != 0) and ((global_var(GVAR_SAN_FRAN_TANKER) bwand 4) != 0)) then begin
+        if (global_var(GVAR_FALLOUT_2) < 7) then begin
+            set_global_var(GVAR_FALLOUT_2, 7);
         end
     end
     if (853 != 950) then begin
         if (5 != 0) then begin
-            set_global_var(0, global_var(0) + 5);
+            set_global_var(GVAR_PLAYER_REPUTATION, global_var(GVAR_PLAYER_REPUTATION) + 5);
         end
         debug_msg("Player gains " + 5 + " Karma Points.");
-        set_global_var(37, 0);
-        set_global_var(38, 0);
-        set_global_var(39, 0);
-        set_global_var(40, 0);
-        set_global_var(41, 0);
-        set_global_var(42, 0);
-        set_global_var(43, 0);
-        set_global_var(44, 0);
-        set_global_var(45, 0);
-        if (global_var(0) >= 1000) then begin
-            set_global_var(37, 1);
+        set_global_var(GVAR_KARMA_HOLY_WARRIOR, 0);
+        set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 0);
+        set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 0);
+        set_global_var(GVAR_KARMA_DEFENDER, 0);
+        set_global_var(GVAR_KARMA_WANDERER, 0);
+        set_global_var(GVAR_KARMA_BETRAYER, 0);
+        set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 0);
+        set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 0);
+        set_global_var(GVAR_KARMA_DEMON_SPAWN, 0);
+        if (global_var(GVAR_PLAYER_REPUTATION) >= 1000) then begin
+            set_global_var(GVAR_KARMA_HOLY_WARRIOR, 1);
         end
         else begin
-            if (global_var(0) >= 750) then begin
-                set_global_var(38, 1);
+            if (global_var(GVAR_PLAYER_REPUTATION) >= 750) then begin
+                set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 1);
             end
             else begin
-                if (global_var(0) >= 500) then begin
-                    set_global_var(39, 1);
+                if (global_var(GVAR_PLAYER_REPUTATION) >= 500) then begin
+                    set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 1);
                 end
                 else begin
-                    if (global_var(0) >= 250) then begin
-                        set_global_var(40, 1);
+                    if (global_var(GVAR_PLAYER_REPUTATION) >= 250) then begin
+                        set_global_var(GVAR_KARMA_DEFENDER, 1);
                     end
                     else begin
-                        if (global_var(0) > -250) then begin
-                            set_global_var(41, 1);
+                        if (global_var(GVAR_PLAYER_REPUTATION) > -250) then begin
+                            set_global_var(GVAR_KARMA_WANDERER, 1);
                         end
                         else begin
-                            if (global_var(0) > -500) then begin
-                                set_global_var(42, 1);
+                            if (global_var(GVAR_PLAYER_REPUTATION) > -500) then begin
+                                set_global_var(GVAR_KARMA_BETRAYER, 1);
                             end
                             else begin
-                                if (global_var(0) > -750) then begin
-                                    set_global_var(43, 1);
+                                if (global_var(GVAR_PLAYER_REPUTATION) > -750) then begin
+                                    set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 1);
                                 end
                                 else begin
-                                    if (global_var(0) > -1000) then begin
-                                        set_global_var(44, 1);
+                                    if (global_var(GVAR_PLAYER_REPUTATION) > -1000) then begin
+                                        set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 1);
                                     end
                                     else begin
-                                        set_global_var(45, 1);
+                                        set_global_var(GVAR_KARMA_DEMON_SPAWN, 1);
                                     end
                                 end
                             end
@@ -934,15 +934,15 @@ begin
             end
         end
         if (0 != 0) then begin
-            set_global_var(61, global_var(61) + 1);
+            set_global_var(GVAR_TOWN_REP_SAN_FRANCISCO, global_var(GVAR_TOWN_REP_SAN_FRANCISCO) + 1);
         end
         if (5000 != 0) then begin
             give_exp_points(5000);
         end
-        display_msg(message_str(14, 100) + 5000 + message_str(14, 101));
+        display_msg(g_mstr(100) + 5000 + g_mstr(101));
     end
-    set_global_var(532, 2);
-    if ((global_var(361) bwand 2048) != 0) then begin
+    set_global_var(GVAR_SAN_FRAN_FUEL_TANK_QST, 2);
+    if ((global_var(GVAR_SAN_FRAN_FLAGS) bwand 2048) != 0) then begin
         call Node021();
     end
     else begin
@@ -952,50 +952,50 @@ end
 
 procedure NodeElron20
 begin
-    set_global_var(0, global_var(0) + -25);
+    set_global_var(GVAR_PLAYER_REPUTATION, global_var(GVAR_PLAYER_REPUTATION) + -25);
     debug_msg("Player gains " + -25 + " Karma Points.");
-    set_global_var(37, 0);
-    set_global_var(38, 0);
-    set_global_var(39, 0);
-    set_global_var(40, 0);
-    set_global_var(41, 0);
-    set_global_var(42, 0);
-    set_global_var(43, 0);
-    set_global_var(44, 0);
-    set_global_var(45, 0);
-    if (global_var(0) >= 1000) then begin
-        set_global_var(37, 1);
+    set_global_var(GVAR_KARMA_HOLY_WARRIOR, 0);
+    set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 0);
+    set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 0);
+    set_global_var(GVAR_KARMA_DEFENDER, 0);
+    set_global_var(GVAR_KARMA_WANDERER, 0);
+    set_global_var(GVAR_KARMA_BETRAYER, 0);
+    set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 0);
+    set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 0);
+    set_global_var(GVAR_KARMA_DEMON_SPAWN, 0);
+    if (global_var(GVAR_PLAYER_REPUTATION) >= 1000) then begin
+        set_global_var(GVAR_KARMA_HOLY_WARRIOR, 1);
     end
     else begin
-        if (global_var(0) >= 750) then begin
-            set_global_var(38, 1);
+        if (global_var(GVAR_PLAYER_REPUTATION) >= 750) then begin
+            set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 1);
         end
         else begin
-            if (global_var(0) >= 500) then begin
-                set_global_var(39, 1);
+            if (global_var(GVAR_PLAYER_REPUTATION) >= 500) then begin
+                set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 1);
             end
             else begin
-                if (global_var(0) >= 250) then begin
-                    set_global_var(40, 1);
+                if (global_var(GVAR_PLAYER_REPUTATION) >= 250) then begin
+                    set_global_var(GVAR_KARMA_DEFENDER, 1);
                 end
                 else begin
-                    if (global_var(0) > -250) then begin
-                        set_global_var(41, 1);
+                    if (global_var(GVAR_PLAYER_REPUTATION) > -250) then begin
+                        set_global_var(GVAR_KARMA_WANDERER, 1);
                     end
                     else begin
-                        if (global_var(0) > -500) then begin
-                            set_global_var(42, 1);
+                        if (global_var(GVAR_PLAYER_REPUTATION) > -500) then begin
+                            set_global_var(GVAR_KARMA_BETRAYER, 1);
                         end
                         else begin
-                            if (global_var(0) > -750) then begin
-                                set_global_var(43, 1);
+                            if (global_var(GVAR_PLAYER_REPUTATION) > -750) then begin
+                                set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 1);
                             end
                             else begin
-                                if (global_var(0) > -1000) then begin
-                                    set_global_var(44, 1);
+                                if (global_var(GVAR_PLAYER_REPUTATION) > -1000) then begin
+                                    set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 1);
                                 end
                                 else begin
-                                    set_global_var(45, 1);
+                                    set_global_var(GVAR_KARMA_DEMON_SPAWN, 1);
                                 end
                             end
                         end
@@ -1005,16 +1005,16 @@ begin
         end
     end
     give_exp_points(6000);
-    display_msg(message_str(14, 100) + 6000 + message_str(14, 101));
-    set_global_var(61, global_var(61) + 1);
-    set_global_var(361, global_var(361) bwor 32768);
-    set_global_var(535, 2);
+    display_msg(g_mstr(100) + 6000 + g_mstr(101));
+    set_global_var(GVAR_TOWN_REP_SAN_FRANCISCO, global_var(GVAR_TOWN_REP_SAN_FRANCISCO) + 1);
+    set_global_var(GVAR_SAN_FRAN_FLAGS, global_var(GVAR_SAN_FRAN_FLAGS) bwor 32768);
+    set_global_var(GVAR_SAN_FRAN_ELRON_GAS_QST, 2);
     call Node020();
 end
 
 procedure Node2324
 begin
-    if (global_var(519) == 8) then begin
+    if (global_var(GVAR_SAN_FRAN_SHI_WHIRLY) == 8) then begin
         call Node023();
     end
     else begin
@@ -1024,7 +1024,6 @@ end
 
 procedure NodeCopy
 begin
-    add_obj_to_inven(self_obj, create_object_sid(446, tile_num(self_obj), elevation(self_obj), -1));
+    add_obj_to_inven(self_obj, create_object(446, tile_num(self_obj), elevation(self_obj)));
     call Node022();
 end
-
