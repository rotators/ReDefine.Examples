diff --git a/Games/Fallout2.Steam/Original/NCLABISH.ssl b/Games/Fallout2.Steam/ReDefine/NCLABISH.ssl
index 5f59948..db4b1f1 100644
--- a/Games/Fallout2.Steam/Original/NCLABISH.ssl
+++ b/Games/Fallout2.Steam/ReDefine/NCLABISH.ssl
@@ -272,53 +272,53 @@ end
 procedure ChooseFromList
 begin
     variable LVar0 := 0;
-    gsay_reply(433, stored_msg);
-    if (message_str(353, top_msg - 1) != "") then begin
-        giq_option(1, 433, message_str(353, 150), CLICK_PREV, 50);
+    Reply(stored_msg);
+    if (message_str(SCRIPT_NEWR1, top_msg - 1) != "") then begin
+        giq_option(1, NAME, message_str(SCRIPT_NEWR1, 150), CLICK_PREV, NEUTRAL_REACTION);
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, top_msg + 0) != "") then begin
-            giq_option(1, 433, message_str(353, top_msg + 0), CLICK_0, 50);
+        if (message_str(SCRIPT_NEWR1, top_msg + 0) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, top_msg + 0), CLICK_0, NEUTRAL_REACTION);
         end
         else begin
             LVar0 := 1;
         end
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, top_msg + 1) != "") then begin
-            giq_option(1, 433, message_str(353, top_msg + 1), CLICK_1, 50);
+        if (message_str(SCRIPT_NEWR1, top_msg + 1) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, top_msg + 1), CLICK_1, NEUTRAL_REACTION);
         end
         else begin
             LVar0 := 1;
         end
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, top_msg + 2) != "") then begin
-            giq_option(1, 433, message_str(353, top_msg + 2), CLICK_2, 50);
+        if (message_str(SCRIPT_NEWR1, top_msg + 2) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, top_msg + 2), CLICK_2, NEUTRAL_REACTION);
         end
         else begin
             LVar0 := 1;
         end
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, top_msg + 3) != "") then begin
-            giq_option(1, 433, message_str(353, top_msg + 3), CLICK_3, 50);
+        if (message_str(SCRIPT_NEWR1, top_msg + 3) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, top_msg + 3), CLICK_3, NEUTRAL_REACTION);
         end
         else begin
             LVar0 := 1;
         end
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, top_msg + 4) != "") then begin
-            giq_option(1, 433, message_str(353, top_msg + 4), CLICK_4, 50);
+        if (message_str(SCRIPT_NEWR1, top_msg + 4) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, top_msg + 4), CLICK_4, NEUTRAL_REACTION);
         end
         else begin
             LVar0 := 1;
         end
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, top_msg + 5) != "") then begin
-            giq_option(1, 433, message_str(353, 151), CLICK_MORE, 50);
+        if (message_str(SCRIPT_NEWR1, top_msg + 5) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, 151), CLICK_MORE, NEUTRAL_REACTION);
         end
     end
 end
@@ -378,10 +378,10 @@ begin
                     if (anim_busy(self_obj) == 0) then begin
                         if ((tile_distance_objs(self_obj, dude_obj) < 8) or obj_can_see_obj(self_obj, dude_obj)) then begin
                             if (anim_busy(self_obj) == 0) then begin
-                                global_temp := rotation_to_tile(tile_num(dude_obj), tile_num(self_obj));
+                                global_temp := rotation_to_tile(dude_tile, tile_num(self_obj));
                                 animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(3, 10)), 1);
                                 global_temp := (global_temp + 1) % 6;
-                                while ((anim_busy(self_obj) == 0) and (global_temp != rotation_to_tile(tile_num(dude_obj), tile_num(self_obj)))) do begin
+                                while ((anim_busy(self_obj) == 0) and (global_temp != rotation_to_tile(dude_tile, tile_num(self_obj)))) do begin
                                     debug_msg("flee loop: rot == " + global_temp);
                                     animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(3, 10)), 1);
                                     global_temp := (global_temp + 1) % 6;
@@ -391,7 +391,7 @@ begin
                     end
                 end
                 else begin
-                    attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);
+                    attack(dude_obj);
                 end
             end
             else begin
@@ -400,7 +400,7 @@ begin
                         animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(angela_guard_obj), rotation_to_tile(tile_num(angela_guard_obj), tile_num(self_obj)), 1), 1);
                     end
                     else begin
-                        if (rotation_to_tile(tile_num(self_obj), tile_num(angela_guard_obj)) != has_trait(1, self_obj, 10)) then begin
+                        if (rotation_to_tile(tile_num(self_obj), tile_num(angela_guard_obj)) != obj_get_rot(self_obj)) then begin
                             if (anim_busy(self_obj) == 0) then begin
                                 anim(self_obj, 1000, rotation_to_tile(tile_num(self_obj), tile_num(angela_guard_obj)));
                             end
@@ -414,7 +414,7 @@ end
 
 procedure pickup_p_proc
 begin
-    if ((source_obj == dude_obj) or (party_member_obj(obj_pid(source_obj)) != 0)) then begin
+    if ((source_obj == dude_obj) or (obj_in_party(source_obj))) then begin
         call Node998();
     end
 end
@@ -438,7 +438,7 @@ begin
         forced_node := 0;
     end
     else begin
-        if (((global_var(263) bwand 64) != 0) or ((local_var(7) bwand 2) != 0)) then begin
+        if (((global_var(GVAR_NEW_RENO_MRS_BISHOP) bwand 64) != 0) or ((local_var(7) bwand 2) != 0)) then begin
             call Node103();
         end
         else begin
@@ -446,11 +446,11 @@ begin
                 call Node102();
             end
             else begin
-                if ((global_var(263) bwand 128) != 0) then begin
+                if ((global_var(GVAR_NEW_RENO_MRS_BISHOP) bwand 128) != 0) then begin
                     call Node031();
                 end
                 else begin
-                    if (((global_var(263) bwand 2048) != 0) or ((local_var(7) bwand 4096) != 0)) then begin
+                    if (((global_var(GVAR_NEW_RENO_MRS_BISHOP) bwand 2048) != 0) or ((local_var(7) bwand 4096) != 0)) then begin
                         if (in_dialog == 0) then begin
                             in_dialog := 1;
                             start_gdialog(433, self_obj, 4, -1, -1);
@@ -485,66 +485,66 @@ begin
     set_local_var(7, local_var(7) bwor 1);
     last_timed_obj := self_obj;
     last_timed_param := last_timed_param;
-    metarule3(100, self_obj, 1, 0);
+    rm_fixed_timer_event(self_obj, 1);
     add_timer_event(self_obj, game_ticks(25) + random(0, game_ticks(35 - 25)), 1);
 end
 
 procedure destroy_p_proc
 begin
     if (source_obj == dude_obj) then begin
-        set_global_var(5, global_var(5) + 1);
-        if (((global_var(4) + global_var(5)) >= 25) and ((global_var(4) > (3 * global_var(5))) or (global_var(2) == 1)) and (global_var(1) == 0)) then begin
-            set_global_var(2, 1);
-            set_global_var(3, 0);
+        set_global_var(GVAR_GOOD_MONSTER, global_var(GVAR_GOOD_MONSTER) + 1);
+        if (((global_var(GVAR_BAD_MONSTER) + global_var(GVAR_GOOD_MONSTER)) >= 25) and ((global_var(4) > (3 * global_var(GVAR_GOOD_MONSTER))) or (global_var(GVAR_CHAMPION_REPUTATION) == 1)) and (global_var(GVAR_CHILDKILLER_REPUTATION) == 0)) then begin
+            set_global_var(GVAR_CHAMPION_REPUTATION, 1);
+            set_global_var(GVAR_BERSERKER_REPUTATION, 0);
         end
-        if (metarule(51, self_obj) == 2) then begin
+        if (critter_kill_type(self_obj) == KILL_TYPE_children_kills) then begin
             if (source_obj == dude_obj) then begin
-                set_global_var(2, 0);
-                set_global_var(1, global_var(1) + 1);
-                set_global_var(0, global_var(0) + -15);
+                set_global_var(GVAR_CHAMPION_REPUTATION, 0);
+                set_global_var(GVAR_CHILDKILLER_REPUTATION, global_var(GVAR_CHILDKILLER_REPUTATION) + 1);
+                set_global_var(GVAR_PLAYER_REPUTATION, global_var(GVAR_PLAYER_REPUTATION) + -15);
                 debug_msg("Player gains " + -15 + " Karma Points.");
-                set_global_var(37, 0);
-                set_global_var(38, 0);
-                set_global_var(39, 0);
-                set_global_var(40, 0);
-                set_global_var(41, 0);
-                set_global_var(42, 0);
-                set_global_var(43, 0);
-                set_global_var(44, 0);
-                set_global_var(45, 0);
-                if (global_var(0) >= 1000) then begin
-                    set_global_var(37, 1);
+                set_global_var(GVAR_KARMA_HOLY_WARRIOR, 0);
+                set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 0);
+                set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 0);
+                set_global_var(GVAR_KARMA_DEFENDER, 0);
+                set_global_var(GVAR_KARMA_WANDERER, 0);
+                set_global_var(GVAR_KARMA_BETRAYER, 0);
+                set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 0);
+                set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 0);
+                set_global_var(GVAR_KARMA_DEMON_SPAWN, 0);
+                if (global_var(GVAR_PLAYER_REPUTATION) >= 1000) then begin
+                    set_global_var(GVAR_KARMA_HOLY_WARRIOR, 1);
                 end
                 else begin
-                    if (global_var(0) >= 750) then begin
-                        set_global_var(38, 1);
+                    if (global_var(GVAR_PLAYER_REPUTATION) >= 750) then begin
+                        set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 1);
                     end
                     else begin
-                        if (global_var(0) >= 500) then begin
-                            set_global_var(39, 1);
+                        if (global_var(GVAR_PLAYER_REPUTATION) >= 500) then begin
+                            set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 1);
                         end
                         else begin
-                            if (global_var(0) >= 250) then begin
-                                set_global_var(40, 1);
+                            if (global_var(GVAR_PLAYER_REPUTATION) >= 250) then begin
+                                set_global_var(GVAR_KARMA_DEFENDER, 1);
                             end
                             else begin
-                                if (global_var(0) > -250) then begin
-                                    set_global_var(41, 1);
+                                if (global_var(GVAR_PLAYER_REPUTATION) > -250) then begin
+                                    set_global_var(GVAR_KARMA_WANDERER, 1);
                                 end
                                 else begin
-                                    if (global_var(0) > -500) then begin
-                                        set_global_var(42, 1);
+                                    if (global_var(GVAR_PLAYER_REPUTATION) > -500) then begin
+                                        set_global_var(GVAR_KARMA_BETRAYER, 1);
                                     end
                                     else begin
-                                        if (global_var(0) > -750) then begin
-                                            set_global_var(43, 1);
+                                        if (global_var(GVAR_PLAYER_REPUTATION) > -750) then begin
+                                            set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 1);
                                         end
                                         else begin
-                                            if (global_var(0) > -1000) then begin
-                                                set_global_var(44, 1);
+                                            if (global_var(GVAR_PLAYER_REPUTATION) > -1000) then begin
+                                                set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 1);
                                             end
                                             else begin
-                                                set_global_var(45, 1);
+                                                set_global_var(GVAR_KARMA_DEMON_SPAWN, 1);
                                             end
                                         end
                                     end
@@ -553,58 +553,58 @@ begin
                         end
                     end
                 end
-                set_global_var(55, global_var(55) + -8);
+                set_global_var(GVAR_TOWN_REP_NEW_RENO, global_var(GVAR_TOWN_REP_NEW_RENO) + -8);
                 debug_msg("Added " + -8 + " to Town Rep");
             end
         end
-        if (((global_var(4) + global_var(5)) >= 25) and ((global_var(5) > (2 * global_var(4))) or (global_var(3) == 1))) then begin
-            set_global_var(3, 1);
-            set_global_var(2, 0);
+        if (((global_var(GVAR_BAD_MONSTER) + global_var(GVAR_GOOD_MONSTER)) >= 25) and ((global_var(GVAR_GOOD_MONSTER) > (2 * global_var(GVAR_BAD_MONSTER))) or (global_var(GVAR_BERSERKER_REPUTATION) == 1))) then begin
+            set_global_var(GVAR_BERSERKER_REPUTATION, 1);
+            set_global_var(GVAR_CHAMPION_REPUTATION, 0);
         end
-        set_global_var(0, global_var(0) + -10);
+        set_global_var(GVAR_PLAYER_REPUTATION, global_var(GVAR_PLAYER_REPUTATION) + -10);
         debug_msg("Player gains " + -10 + " Karma Points.");
-        set_global_var(37, 0);
-        set_global_var(38, 0);
-        set_global_var(39, 0);
-        set_global_var(40, 0);
-        set_global_var(41, 0);
-        set_global_var(42, 0);
-        set_global_var(43, 0);
-        set_global_var(44, 0);
-        set_global_var(45, 0);
-        if (global_var(0) >= 1000) then begin
-            set_global_var(37, 1);
+        set_global_var(GVAR_KARMA_HOLY_WARRIOR, 0);
+        set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 0);
+        set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 0);
+        set_global_var(GVAR_KARMA_DEFENDER, 0);
+        set_global_var(GVAR_KARMA_WANDERER, 0);
+        set_global_var(GVAR_KARMA_BETRAYER, 0);
+        set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 0);
+        set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 0);
+        set_global_var(GVAR_KARMA_DEMON_SPAWN, 0);
+        if (global_var(GVAR_PLAYER_REPUTATION) >= 1000) then begin
+            set_global_var(GVAR_KARMA_HOLY_WARRIOR, 1);
         end
         else begin
-            if (global_var(0) >= 750) then begin
-                set_global_var(38, 1);
+            if (global_var(GVAR_PLAYER_REPUTATION) >= 750) then begin
+                set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 1);
             end
             else begin
-                if (global_var(0) >= 500) then begin
-                    set_global_var(39, 1);
+                if (global_var(GVAR_PLAYER_REPUTATION) >= 500) then begin
+                    set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 1);
                 end
                 else begin
-                    if (global_var(0) >= 250) then begin
-                        set_global_var(40, 1);
+                    if (global_var(GVAR_PLAYER_REPUTATION) >= 250) then begin
+                        set_global_var(GVAR_KARMA_DEFENDER, 1);
                     end
                     else begin
-                        if (global_var(0) > -250) then begin
-                            set_global_var(41, 1);
+                        if (global_var(GVAR_PLAYER_REPUTATION) > -250) then begin
+                            set_global_var(GVAR_KARMA_WANDERER, 1);
                         end
                         else begin
-                            if (global_var(0) > -500) then begin
-                                set_global_var(42, 1);
+                            if (global_var(GVAR_PLAYER_REPUTATION) > -500) then begin
+                                set_global_var(GVAR_KARMA_BETRAYER, 1);
                             end
                             else begin
-                                if (global_var(0) > -750) then begin
-                                    set_global_var(43, 1);
+                                if (global_var(GVAR_PLAYER_REPUTATION) > -750) then begin
+                                    set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 1);
                                 end
                                 else begin
-                                    if (global_var(0) > -1000) then begin
-                                        set_global_var(44, 1);
+                                    if (global_var(GVAR_PLAYER_REPUTATION) > -1000) then begin
+                                        set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 1);
                                     end
                                     else begin
-                                        set_global_var(45, 1);
+                                        set_global_var(GVAR_KARMA_DEMON_SPAWN, 1);
                                     end
                                 end
                             end
@@ -613,31 +613,31 @@ begin
                 end
             end
         end
-        set_global_var(55, global_var(55) + -5);
+        set_global_var(GVAR_TOWN_REP_NEW_RENO, global_var(GVAR_TOWN_REP_NEW_RENO) + -5);
         debug_msg("Added " + -5 + " to Town Rep");
     end
-    set_global_var(263, global_var(263) bwor 512);
+    set_global_var(GVAR_NEW_RENO_MRS_BISHOP, global_var(GVAR_NEW_RENO_MRS_BISHOP) bwor 512);
 end
 
 procedure look_at_p_proc
 begin
     script_overrides;
-    display_msg(message_str(433, 100 + ((global_var(263) bwand 64) != 0)));
+    display_mstr(100 + ((global_var(GVAR_NEW_RENO_MRS_BISHOP) bwand 64) != 0));
 end
 
 procedure description_p_proc
 begin
     script_overrides;
-    if ((global_var(263) bwand 64) != 0) then begin
-        display_msg(message_str(433, 500));
+    if ((global_var(GVAR_NEW_RENO_MRS_BISHOP) bwand 64) != 0) then begin
+        display_mstr(500);
     end
     else begin
         if ((tile_num(self_obj) == 15891) and (elevation(self_obj) == 2)) then begin
-            display_msg(message_str(433, 490 + ((local_var(7) bwand 4) != 0)));
+            display_mstr(490 + ((local_var(7) bwand 4) != 0));
             set_local_var(7, local_var(7) bwor 4);
         end
         else begin
-            display_msg(message_str(433, 150 + ((local_var(7) bwand 1) != 0)));
+            display_mstr(150 + ((local_var(7) bwand 1) != 0));
         end
     end
 end
@@ -657,24 +657,24 @@ end
 
 procedure map_enter_p_proc
 begin
-    if (metarule(22, 0) == 0) then begin
-        if (metarule(14, 0)) then begin
+    if (is_loading_game == 0) then begin
+        if (map_first_run) then begin
             set_local_var(8, tile_num(self_obj));
-            set_local_var(9, has_trait(1, self_obj, 10));
+            set_local_var(9, obj_get_rot(self_obj));
             set_local_var(10, elevation(self_obj));
-            critter_add_trait(self_obj, 1, 6, 57);
-            critter_add_trait(self_obj, 1, 5, 24);
+            critter_add_trait(self_obj, TRAIT_OBJECT, OBJECT_TEAM_NUM, 57);
+            critter_add_trait(self_obj, TRAIT_OBJECT, OBJECT_AI_PACKET, AI_TOUGH_CITIZEN);
         end
         if ((tile_num(self_obj) != local_var(8)) or (elevation(self_obj) != local_var(10))) then begin
             animate_stand_obj(self_obj);
             move_to(self_obj, local_var(8), local_var(10));
-            if (has_trait(1, self_obj, 10) != local_var(9)) then begin
+            if (obj_get_rot(self_obj) != local_var(9)) then begin
                 anim(self_obj, 1000, local_var(9));
             end
         end
         last_timed_obj := self_obj;
         last_timed_param := last_timed_param;
-        metarule3(100, self_obj, 1, 0);
+        rm_fixed_timer_event(self_obj, 1);
         add_timer_event(self_obj, game_ticks(25) + random(0, game_ticks(35 - 25)), 1);
     end
 end
@@ -687,7 +687,7 @@ procedure timed_event_p_proc
 begin
     if (fixed_param == 1) then begin
         if (combat_is_initialized == 0) then begin
-            if (((global_var(263) bwand 64) != 0) or ((local_var(7) bwand 2) != 0) and obj_can_see_obj(self_obj, dude_obj)) then begin
+            if (((global_var(GVAR_NEW_RENO_MRS_BISHOP) bwand 64) != 0) or ((local_var(7) bwand 2) != 0) and obj_can_see_obj(self_obj, dude_obj)) then begin
                 call Node103();
             end
             else begin
@@ -701,20 +701,20 @@ begin
         end
         last_timed_obj := self_obj;
         last_timed_param := last_timed_param;
-        metarule3(100, self_obj, 1, 0);
+        rm_fixed_timer_event(self_obj, 1);
         add_timer_event(self_obj, game_ticks(25) + random(0, game_ticks(35 - 25)), 1);
     end
     else begin
         if (fixed_param == 31) then begin
             game_ui_enable;
             gfade_in(10);
-            if (get_critter_stat(dude_obj, 4) < 4) then begin
-                debug_msg("force_dialog_start(" + forced_node + "): " + obj_name(self_obj));
+            if (dude_iq < 4) then begin
+                debug_msg("force_dialog_start(" + forced_node + "): " + self_name);
                 forced_node := "Node104";
                 dialogue_system_enter;
             end
             else begin
-                debug_msg("force_dialog_start(" + forced_node + "): " + obj_name(self_obj));
+                debug_msg("force_dialog_start(" + forced_node + "): " + self_name);
                 forced_node := "Node124";
                 dialogue_system_enter;
             end
@@ -723,13 +723,13 @@ begin
             if (fixed_param == 37) then begin
                 game_ui_enable;
                 gfade_in(10);
-                if (((((get_critter_stat(dude_obj, 3) * 50) + (get_critter_stat(dude_obj, 2) * 25) + (get_critter_stat(dude_obj, 5) * 13) + (get_critter_stat(dude_obj, 0) * 12)) / 100) + (has_trait(0, dude_obj, 94) * 2) + has_trait(2, dude_obj, 13) + (((global_var(194) >= 100) or (global_var(232) > 0)) * 2 * (dude_obj == dude_obj))) > 3) then begin
-                    debug_msg("force_dialog_start(" + forced_node + "): " + obj_name(self_obj));
+                if (((((dude_charisma * 50) + (dude_endurance * 25) + (get_critter_stat(dude_obj, STAT_ag) * 13) + (dude_strength * 12)) / 100) + (has_trait(TRAIT_PERK, dude_obj, PERK_kama_sutra_perk) * 2) + has_trait(2, dude_obj, 13) + (((global_var(GVAR_PLAYER_SEX_LEVEL) >= 100) or (global_var(GVAR_NEW_RENO_PORN_STAR) > 0)) * 2 * (dude_obj == dude_obj))) > 3) then begin
+                    debug_msg("force_dialog_start(" + forced_node + "): " + self_name);
                     forced_node := "Node131";
                     dialogue_system_enter;
                 end
                 else begin
-                    debug_msg("force_dialog_start(" + forced_node + "): " + obj_name(self_obj));
+                    debug_msg("force_dialog_start(" + forced_node + "): " + self_name);
                     forced_node := "Node165";
                     dialogue_system_enter;
                 end
@@ -744,176 +744,176 @@ end
 
 procedure Node001
 begin
-    gsay_reply(433, 200 + ((local_var(7) bwand 1) != 0));
-    giq_option(-3, 433, 203, Node002, 50);
-    giq_option(-3, 433, 204, Node006, 51);
-    giq_option(-3, 433, 205, Node999, 50);
-    if ((global_var(263) bwand 1) != 0) then begin
-        giq_option(4, 433, 207, Node010, 50);
+    Reply(200 + ((local_var(7) bwand 1) != 0));
+    giq_option(-3, NAME, 203, Node002, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 204, Node006, BAD_REACTION);
+    giq_option(-3, NAME, 205, Node999, NEUTRAL_REACTION);
+    if ((global_var(GVAR_NEW_RENO_MRS_BISHOP) bwand 1) != 0) then begin
+        giq_option(4, NAME, 207, Node010, NEUTRAL_REACTION);
     end
     else begin
-        giq_option(4, 433, 206, Node009, 50);
+        giq_option(4, NAME, 206, Node009, NEUTRAL_REACTION);
     end
-    giq_option(4, 433, 208, Node999, 50);
+    giq_option(4, NAME, 208, Node999, NEUTRAL_REACTION);
     prev_node := 1;
 end
 
 procedure Node002
 begin
-    gsay_reply(433, 210);
-    giq_option(-3, 433, 211, Node003, 50);
-    giq_option(-3, 433, 212, Node006, 51);
-    giq_option(-3, 433, 205, Node999, 50);
+    Reply(210);
+    giq_option(-3, NAME, 211, Node003, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 212, Node006, BAD_REACTION);
+    giq_option(-3, NAME, 205, Node999, NEUTRAL_REACTION);
     prev_node := 2;
 end
 
 procedure Node003
 begin
-    gsay_reply(433, 215);
-    giq_option(-3, 433, 216, Node004, 50);
-    giq_option(-3, 433, 217, Node005, 51);
-    giq_option(-3, 433, 218, Node005, 51);
+    Reply(215);
+    giq_option(-3, NAME, 216, Node004, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 217, Node005, BAD_REACTION);
+    giq_option(-3, NAME, 218, Node005, BAD_REACTION);
     prev_node := 3;
 end
 
 procedure Node004
 begin
-    gsay_reply(433, 220);
-    giq_option(-3, 433, 221, Node005, 51);
+    Reply(220);
+    giq_option(-3, NAME, 221, Node005, BAD_REACTION);
     prev_node := 4;
 end
 
 procedure Node005
 begin
-    gsay_reply(433, 225);
-    giq_option(-3, 433, 226 + (prev_node != 4), Node999, 50);
+    Reply(225);
+    giq_option(-3, NAME, 226 + (prev_node != 4), Node999, NEUTRAL_REACTION);
     prev_node := 5;
 end
 
 procedure Node006
 begin
-    if (get_critter_stat(dude_obj, 0) > 7) then begin
-        gsay_reply(433, 230);
-        giq_option(-3, 433, 233, Node990, 50);
-        giq_option(-3, 433, 234, Node007, 50);
-        giq_option(-3, 433, 235, Node008, 51);
+    if (dude_strength > 7) then begin
+        Reply(230);
+        giq_option(-3, NAME, 233, Node990, NEUTRAL_REACTION);
+        giq_option(-3, NAME, 234, Node007, NEUTRAL_REACTION);
+        giq_option(-3, NAME, 235, Node008, BAD_REACTION);
     end
     else begin
-        if (get_critter_stat(dude_obj, 3) > 7) then begin
-            gsay_reply(433, 231);
-            giq_option(-3, 433, 233, Node990, 50);
-            giq_option(-3, 433, 234, Node007, 50);
-            giq_option(-3, 433, 235, Node008, 51);
+        if (dude_charisma > 7) then begin
+            Reply(231);
+            giq_option(-3, NAME, 233, Node990, NEUTRAL_REACTION);
+            giq_option(-3, NAME, 234, Node007, NEUTRAL_REACTION);
+            giq_option(-3, NAME, 235, Node008, BAD_REACTION);
         end
         else begin
-            gsay_reply(433, 232);
+            Reply(232);
         end
     end
-    giq_option(-3, 433, 236, Node999, 50);
+    giq_option(-3, NAME, 236, Node999, NEUTRAL_REACTION);
     prev_node := 6;
 end
 
 procedure Node007
 begin
-    gsay_reply(433, 240);
-    giq_option(-3, 433, 233, Node990, 50);
-    giq_option(-3, 433, 235, Node008, 51);
+    Reply(240);
+    giq_option(-3, NAME, 233, Node990, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 235, Node008, BAD_REACTION);
     prev_node := 7;
 end
 
 procedure Node008
 begin
-    gsay_reply(433, 245);
-    giq_option(-3, 433, 246, Node999, 50);
+    Reply(245);
+    giq_option(-3, NAME, 246, Node999, NEUTRAL_REACTION);
     prev_node := 8;
 end
 
 procedure Node009
 begin
-    gsay_reply(433, message_str(433, 250) + message_str(433, 251 + ((global_var(255) bwand 512) != 0)));
-    set_global_var(255, global_var(255) bwor 1);
-    set_global_var(263, global_var(263) bwor 1);
-    giq_option(4, 433, message_str(433, 253) + obj_name(dude_obj) + message_str(433, 1253), Node989, 50);
-    giq_option(4, 433, 254, Node016, 50);
-    if (global_var(494) == 0) then begin
-        giq_option(4, 433, 255, Node020, 50);
+    Reply(mstr(250) + mstr(251 + ((global_var(GVAR_NEW_RENO_BISHOP) bwand 512) != 0)));
+    set_global_var(GVAR_NEW_RENO_BISHOP, global_var(GVAR_NEW_RENO_BISHOP) bwor 1);
+    set_global_var(GVAR_NEW_RENO_MRS_BISHOP, global_var(GVAR_NEW_RENO_MRS_BISHOP) bwor 1);
+    giq_option(4, NAME, mstr(253) + dude_name + mstr(1253), Node989, NEUTRAL_REACTION);
+    giq_option(4, NAME, 254, Node016, NEUTRAL_REACTION);
+    if (global_var(GVAR_FALLOUT_2) == 0) then begin
+        giq_option(4, NAME, 255, Node020, NEUTRAL_REACTION);
     end
-    if (global_var(629) == 0) then begin
-        giq_option(4, 433, 256, Node017, 50);
+    if (global_var(GVAR_GAVE_GECK_EXP) == 0) then begin
+        giq_option(4, NAME, 256, Node017, NEUTRAL_REACTION);
     end
-    giq_option(4, 433, 257, Node988, 50);
+    giq_option(4, NAME, 257, Node988, NEUTRAL_REACTION);
     prev_node := 9;
 end
 
 procedure Node010
 begin
-    gsay_reply(433, 260);
-    if ((global_var(263) bwand 1) != 0) then begin
-        giq_option(4, 433, 261, Node011, 51);
-        if ((global_var(255) bwand 1) != 0) then begin
-            giq_option(4, 433, 262, Node013, 51);
+    Reply(260);
+    if ((global_var(GVAR_NEW_RENO_MRS_BISHOP) bwand 1) != 0) then begin
+        giq_option(4, NAME, 261, Node011, BAD_REACTION);
+        if ((global_var(GVAR_NEW_RENO_BISHOP) bwand 1) != 0) then begin
+            giq_option(4, NAME, 262, Node013, BAD_REACTION);
         end
     end
-    if (global_var(494) == 0) then begin
-        giq_option(4, 433, 263, Node020, 50);
+    if (global_var(GVAR_FALLOUT_2) == 0) then begin
+        giq_option(4, NAME, 263, Node020, NEUTRAL_REACTION);
     end
-    if (global_var(629) == 0) then begin
-        giq_option(4, 433, 264, Node017, 50);
+    if (global_var(GVAR_GAVE_GECK_EXP) == 0) then begin
+        giq_option(4, NAME, 264, Node017, NEUTRAL_REACTION);
     end
-    giq_option(4, 433, 265, Node988, 50);
+    giq_option(4, NAME, 265, Node988, NEUTRAL_REACTION);
     prev_node := 10;
 end
 
 procedure Node011
 begin
-    if ((global_var(255) bwand 512) != 0) then begin
-        gsay_reply(433, 270);
+    if ((global_var(GVAR_NEW_RENO_BISHOP) bwand 512) != 0) then begin
+        Reply(270);
     end
     else begin
-        gsay_reply(433, 271);
-        if ((((global_var(495) bwand 128) != 0) != 0) and (((global_var(373) bwand 1) != 0) == 0)) then begin
-            giq_option(4, 433, 272, Node034, 51);
+        Reply(271);
+        if ((((global_var(GVAR_NEW_RENO_FLAG_3) bwand 128) != 0) != 0) and (((global_var(GVAR_RAIDERS_FLAGS) bwand 1) != 0) == 0)) then begin
+            giq_option(4, NAME, 272, Node034, BAD_REACTION);
         end
-        giq_option(4, 433, 273, Node012, 51);
+        giq_option(4, NAME, 273, Node012, BAD_REACTION);
     end
-    giq_option(4, 433, 447, Node010, 50);
-    if (get_critter_stat(dude_obj, 3) < 6) then begin
-        giq_option(4, 433, 275, Node988, 50);
+    giq_option(4, NAME, 447, Node010, NEUTRAL_REACTION);
+    if (dude_charisma < 6) then begin
+        giq_option(4, NAME, 275, Node988, NEUTRAL_REACTION);
     end
     else begin
-        giq_option(4, 433, 276, Node988, 49);
+        giq_option(4, NAME, 276, Node988, GOOD_REACTION);
     end
     prev_node := 11;
 end
 
 procedure Node012
 begin
-    gsay_reply(433, 280);
-    giq_option(4, 433, 281, Node010, 50);
-    if (get_critter_stat(dude_obj, 3) < 6) then begin
-        giq_option(4, 433, 275, Node988, 50);
+    Reply(280);
+    giq_option(4, NAME, 281, Node010, NEUTRAL_REACTION);
+    if (dude_charisma < 6) then begin
+        giq_option(4, NAME, 275, Node988, NEUTRAL_REACTION);
     end
     else begin
-        giq_option(4, 433, 276, Node988, 49);
+        giq_option(4, NAME, 276, Node988, GOOD_REACTION);
     end
     prev_node := 12;
 end
 
 procedure Node013
 begin
-    gsay_reply(433, 285);
-    giq_option(5, 433, 286, Node014, 50);
-    if (((global_var(255) bwand 512) != 0) == 0) then begin
-        if ((((global_var(495) bwand 128) != 0) != 0) and (((global_var(373) bwand 1) != 0) == 0)) then begin
-            giq_option(4, 433, 287, Node034, 51);
+    Reply(285);
+    giq_option(5, NAME, 286, Node014, NEUTRAL_REACTION);
+    if (((global_var(GVAR_NEW_RENO_BISHOP) bwand 512) != 0) == 0) then begin
+        if ((((global_var(GVAR_NEW_RENO_FLAG_3) bwand 128) != 0) != 0) and (((global_var(GVAR_RAIDERS_FLAGS) bwand 1) != 0) == 0)) then begin
+            giq_option(4, NAME, 287, Node034, BAD_REACTION);
         end
     end
-    giq_option(4, 433, 288, Node010, 50);
-    if (get_critter_stat(dude_obj, 3) < 6) then begin
-        giq_option(4, 433, 275, Node988, 50);
+    giq_option(4, NAME, 288, Node010, NEUTRAL_REACTION);
+    if (dude_charisma < 6) then begin
+        giq_option(4, NAME, 275, Node988, NEUTRAL_REACTION);
     end
     else begin
-        giq_option(4, 433, 276, Node988, 49);
+        giq_option(4, NAME, 276, Node988, GOOD_REACTION);
     end
     prev_node := 13;
 end
@@ -922,175 +922,175 @@ procedure Node014
 begin
     variable LVar0 := "";
     if ((party_member_obj(16777380) != 0) or (party_member_obj(16777379) != 0)) then begin
-        LVar0 := LVar0 + message_str(433, 295);
+        LVar0 := LVar0 + mstr(295);
     end
-    LVar0 := LVar0 + message_str(433, 296 + (((global_var(255) bwand 512) != 0) == 0));
-    if (((global_var(260) bwand 512) != 0) == 0) then begin
-        gsay_reply(433, LVar0 + message_str(433, 298));
-        giq_option(4, 433, 299 + ((global_var(260) bwand 1) != 0), Node015, 50);
+    LVar0 := LVar0 + mstr(296 + (((global_var(GVAR_NEW_RENO_BISHOP) bwand 512) != 0) == 0));
+    if (((global_var(GVAR_NEW_RENO_ANGELA) bwand 512) != 0) == 0) then begin
+        Reply(LVar0 + mstr(298));
+        giq_option(4, NAME, 299 + ((global_var(GVAR_NEW_RENO_ANGELA) bwand 1) != 0), Node015, NEUTRAL_REACTION);
     end
     else begin
-        gsay_reply(433, LVar0);
+        Reply(LVar0);
     end
-    giq_option(4, 433, 301, Node010, 50);
-    if (get_critter_stat(dude_obj, 3) < 6) then begin
-        giq_option(4, 433, 275, Node988, 50);
+    giq_option(4, NAME, 301, Node010, NEUTRAL_REACTION);
+    if (dude_charisma < 6) then begin
+        giq_option(4, NAME, 275, Node988, NEUTRAL_REACTION);
     end
     else begin
-        giq_option(4, 433, 276, Node988, 49);
+        giq_option(4, NAME, 276, Node988, GOOD_REACTION);
     end
     prev_node := 14;
 end
 
 procedure Node015
 begin
-    if ((global_var(260) bwand 2048) != 0) then begin
-        gsay_reply(433, 305);
+    if ((global_var(GVAR_NEW_RENO_ANGELA) bwand 2048) != 0) then begin
+        Reply(305);
     end
     else begin
-        gsay_reply(433, 306);
+        Reply(306);
     end
-    if ((global_var(260) bwand 256) != 0) then begin
-        giq_option(4, 433, 308 + (get_critter_stat(dude_obj, 4) >= 5), Node988, 50);
+    if ((global_var(GVAR_NEW_RENO_ANGELA) bwand 256) != 0) then begin
+        giq_option(4, NAME, 308 + (dude_iq >= 5), Node988, NEUTRAL_REACTION);
     end
-    giq_option(4, 433, 281, Node010, 50);
+    giq_option(4, NAME, 281, Node010, NEUTRAL_REACTION);
     prev_node := 15;
-    if (get_critter_stat(dude_obj, 3) < 6) then begin
-        giq_option(4, 433, 275, Node988, 50);
+    if (dude_charisma < 6) then begin
+        giq_option(4, NAME, 275, Node988, NEUTRAL_REACTION);
     end
     else begin
-        giq_option(4, 433, 276, Node988, 49);
+        giq_option(4, NAME, 276, Node988, GOOD_REACTION);
     end
 end
 
 procedure Node016
 begin
     if ((local_var(7) bwand 2048) != 0) then begin
-        gsay_reply(433, message_str(433, 315) + obj_name(dude_obj) + message_str(433, 1315) + obj_name(dude_obj) + message_str(433, 2315));
+        Reply(mstr(315) + dude_name + mstr(1315) + dude_name + mstr(2315));
     end
     else begin
-        gsay_reply(433, 316);
+        Reply(316);
     end
-    if ((global_var(263) bwand 1) != 0) then begin
-        giq_option(4, 433, 261, Node011, 51);
-        if ((global_var(255) bwand 1) != 0) then begin
-            giq_option(4, 433, 262, Node013, 51);
+    if ((global_var(GVAR_NEW_RENO_MRS_BISHOP) bwand 1) != 0) then begin
+        giq_option(4, NAME, 261, Node011, BAD_REACTION);
+        if ((global_var(GVAR_NEW_RENO_BISHOP) bwand 1) != 0) then begin
+            giq_option(4, NAME, 262, Node013, BAD_REACTION);
         end
     end
-    if (global_var(494) == 0) then begin
-        giq_option(4, 433, 263, Node020, 50);
+    if (global_var(GVAR_FALLOUT_2) == 0) then begin
+        giq_option(4, NAME, 263, Node020, NEUTRAL_REACTION);
     end
-    if (global_var(629) == 0) then begin
-        giq_option(4, 433, 264, Node017, 50);
+    if (global_var(GVAR_GAVE_GECK_EXP) == 0) then begin
+        giq_option(4, NAME, 264, Node017, NEUTRAL_REACTION);
     end
-    giq_option(4, 433, 321, Node988, 50);
+    giq_option(4, NAME, 321, Node988, NEUTRAL_REACTION);
     prev_node := 16;
 end
 
 procedure Node017
 begin
-    gsay_reply(433, 325);
-    giq_option(4, 433, 326, Node018, 50);
-    giq_option(4, 433, 301, Node010, 50);
-    giq_option(4, 433, 328, Node988, 50);
+    Reply(325);
+    giq_option(4, NAME, 326, Node018, NEUTRAL_REACTION);
+    giq_option(4, NAME, 301, Node010, NEUTRAL_REACTION);
+    giq_option(4, NAME, 328, Node988, NEUTRAL_REACTION);
     prev_node := 17;
 end
 
 procedure Node018
 begin
     set_local_var(7, local_var(7) bwor 512);
-    if (metarule(17, 4) == 0) then begin
+    if (town_known(4) == 0) then begin
         debug_msg("  mark_on_map(" + 4 + ")");
         mark_area_known(0, 4, 1);
     end
-    gsay_reply(433, 330);
-    giq_option(4, 433, 331, Node019, 50);
-    giq_option(4, 433, 332, Node010, 50);
-    giq_option(4, 433, 333, Node988, 50);
+    Reply(330);
+    giq_option(4, NAME, 331, Node019, NEUTRAL_REACTION);
+    giq_option(4, NAME, 332, Node010, NEUTRAL_REACTION);
+    giq_option(4, NAME, 333, Node988, NEUTRAL_REACTION);
     prev_node := 18;
 end
 
 procedure Node019
 begin
-    gsay_reply(433, 335);
-    giq_option(4, 433, 336, Node010, 50);
-    giq_option(4, 433, 337, Node988, 50);
+    Reply(335);
+    giq_option(4, NAME, 336, Node010, NEUTRAL_REACTION);
+    giq_option(4, NAME, 337, Node988, NEUTRAL_REACTION);
     prev_node := 19;
 end
 
 procedure Node020
 begin
-    if (metarule(17, 4) == 0) then begin
+    if (town_known(4) == 0) then begin
         debug_msg("  mark_on_map(" + 4 + ")");
         mark_area_known(0, 4, 1);
     end
-    gsay_reply(433, 340 + (((local_var(7) bwand 512) != 0) == 0));
+    Reply(340 + (((local_var(7) bwand 512) != 0) == 0));
     set_local_var(7, local_var(7) bwor 512);
-    if ((global_var(495) bwand 4194304) != 0) then begin
-        giq_option(4, 433, 342, Node021, 50);
+    if ((global_var(GVAR_NEW_RENO_FLAG_3) bwand 4194304) != 0) then begin
+        giq_option(4, NAME, 342, Node021, NEUTRAL_REACTION);
     end
     else begin
-        giq_option(4, 433, 343, Node022, 50);
+        giq_option(4, NAME, 343, Node022, NEUTRAL_REACTION);
     end
-    giq_option(4, 433, 332, Node010, 50);
-    giq_option(4, 433, 345, Node988, 50);
+    giq_option(4, NAME, 332, Node010, NEUTRAL_REACTION);
+    giq_option(4, NAME, 345, Node988, NEUTRAL_REACTION);
     prev_node := 20;
 end
 
 procedure Node021
 begin
-    gsay_reply(433, 350);
-    giq_option(4, 433, 301, Node010, 50);
-    giq_option(4, 433, 352, Node023, 50);
-    if (get_critter_stat(dude_obj, 3) < 6) then begin
-        giq_option(4, 433, 353, Node988, 50);
+    Reply(350);
+    giq_option(4, NAME, 301, Node010, NEUTRAL_REACTION);
+    giq_option(4, NAME, 352, Node023, NEUTRAL_REACTION);
+    if (dude_charisma < 6) then begin
+        giq_option(4, NAME, 353, Node988, NEUTRAL_REACTION);
     end
     else begin
-        giq_option(4, 433, 354, Node988, 49);
+        giq_option(4, NAME, 354, Node988, GOOD_REACTION);
     end
     prev_node := 21;
 end
 
 procedure Node022
 begin
-    gsay_reply(433, 360);
-    giq_option(4, 433, 301, Node010, 50);
-    if (get_critter_stat(dude_obj, 3) < 6) then begin
-        giq_option(4, 433, 362, Node988, 50);
+    Reply(360);
+    giq_option(4, NAME, 301, Node010, NEUTRAL_REACTION);
+    if (dude_charisma < 6) then begin
+        giq_option(4, NAME, 362, Node988, NEUTRAL_REACTION);
     end
     else begin
-        giq_option(4, 433, 363, Node988, 49);
+        giq_option(4, NAME, 363, Node988, GOOD_REACTION);
     end
     prev_node := 22;
 end
 
 procedure Node023
 begin
-    gsay_reply(433, message_str(433, 370 + (get_critter_stat(dude_obj, 34) == 1)) + message_str(433, 372));
-    giq_option(4, 433, 301, Node010, 50);
-    if (get_critter_stat(dude_obj, 3) < 6) then begin
-        giq_option(4, 433, 374, Node988, 50);
+    Reply(mstr(370 + (dude_gender == 1)) + mstr(372));
+    giq_option(4, NAME, 301, Node010, NEUTRAL_REACTION);
+    if (dude_charisma < 6) then begin
+        giq_option(4, NAME, 374, Node988, NEUTRAL_REACTION);
     end
     else begin
-        giq_option(4, 433, 375, Node988, 49);
+        giq_option(4, NAME, 375, Node988, GOOD_REACTION);
     end
     prev_node := 23;
 end
 
 procedure Node024
 begin
-    gsay_reply(433, 380 + ((local_var(7) bwand 8192) != 0));
+    Reply(380 + ((local_var(7) bwand 8192) != 0));
     set_local_var(7, local_var(7) bwor 8192);
-    giq_option(4, 433, 382, Node025, 50);
-    giq_option(4, 433, 383, Node029, 50);
-    if (global_var(6) != 0) then begin
-        giq_option(4, 433, 384, Node033, 50);
+    giq_option(4, NAME, 382, Node025, NEUTRAL_REACTION);
+    giq_option(4, NAME, 383, Node029, NEUTRAL_REACTION);
+    if (global_var(GVAR_PLAYER_MARRIED) != 0) then begin
+        giq_option(4, NAME, 384, Node033, NEUTRAL_REACTION);
     end
-    giq_option(4, 433, 385, Node027, 50);
-    if (((global_var(255) bwand 512) != 0) == 0) then begin
-        giq_option(4, 433, 386, Node026, 50);
-        if (((global_var(230) / 100) == 2) or (((global_var(547) == 0) and (((global_var(174) bwand 2) != 0) == 0)) == 0) or (((global_var(548) == 0) and (((global_var(175) bwand 2) != 0) == 0)) == 0)) then begin
-            giq_option(4, 433, 387, Node026, 50);
+    giq_option(4, NAME, 385, Node027, NEUTRAL_REACTION);
+    if (((global_var(GVAR_NEW_RENO_BISHOP) bwand 512) != 0) == 0) then begin
+        giq_option(4, NAME, 386, Node026, NEUTRAL_REACTION);
+        if (((global_var(GVAR_NEW_RENO_MADE_MAN) / 100) == 2) or (((global_var(GVAR_NEW_RENO_WESTIN_SNUFF_PIP) == 0) and (((global_var(GVAR_NEWRENO_SNUFF_WESTIN) bwand 2) != 0) == 0)) == 0) or (((global_var(GVAR_NEW_RENO_CARLSON_SNUFF_PIP) == 0) and (((global_var(GVAR_NEWRENO_SNUFF_CARLSON) bwand 2) != 0) == 0)) == 0)) then begin
+            giq_option(4, NAME, 387, Node026, NEUTRAL_REACTION);
         end
     end
     prev_node := 24;
@@ -1098,16 +1098,16 @@ end
 
 procedure Node025
 begin
-    gsay_reply(433, 390);
-    giq_option(4, 433, 391, Node029, 50);
-    if (get_critter_stat(dude_obj, 3) > 5) then begin
-        giq_option(4, 433, 392, Node030, 50);
+    Reply(390);
+    giq_option(4, NAME, 391, Node029, NEUTRAL_REACTION);
+    if (dude_charisma > 5) then begin
+        giq_option(4, NAME, 392, Node030, NEUTRAL_REACTION);
     end
-    giq_option(4, 433, 393, Node027, 51);
-    if (((global_var(255) bwand 512) != 0) == 0) then begin
-        giq_option(4, 433, 394, Node026, 50);
-        if (((global_var(230) / 100) == 2) or (((global_var(547) == 0) and (((global_var(174) bwand 2) != 0) == 0)) == 0) or (((global_var(548) == 0) and (((global_var(175) bwand 2) != 0) == 0)) == 0)) then begin
-            giq_option(4, 433, 387, Node026, 50);
+    giq_option(4, NAME, 393, Node027, BAD_REACTION);
+    if (((global_var(GVAR_NEW_RENO_BISHOP) bwand 512) != 0) == 0) then begin
+        giq_option(4, NAME, 394, Node026, NEUTRAL_REACTION);
+        if (((global_var(GVAR_NEW_RENO_MADE_MAN) / 100) == 2) or (((global_var(GVAR_NEW_RENO_WESTIN_SNUFF_PIP) == 0) and (((global_var(GVAR_NEWRENO_SNUFF_WESTIN) bwand 2) != 0) == 0)) == 0) or (((global_var(GVAR_NEW_RENO_CARLSON_SNUFF_PIP) == 0) and (((global_var(GVAR_NEWRENO_SNUFF_CARLSON) bwand 2) != 0) == 0)) == 0)) then begin
+            giq_option(4, NAME, 387, Node026, NEUTRAL_REACTION);
         end
     end
     prev_node := 25;
@@ -1115,131 +1115,131 @@ end
 
 procedure Node026
 begin
-    gsay_reply(433, message_str(433, 400) + message_str(433, 401 + (((global_var(255) bwand 512) != 0) == 0)));
-    giq_option(4, 433, 391, Node029, 50);
-    if (get_critter_stat(dude_obj, 3) > 5) then begin
-        giq_option(4, 433, 404, Node030, 50);
+    Reply(mstr(400) + mstr(401 + (((global_var(GVAR_NEW_RENO_BISHOP) bwand 512) != 0) == 0)));
+    giq_option(4, NAME, 391, Node029, NEUTRAL_REACTION);
+    if (dude_charisma > 5) then begin
+        giq_option(4, NAME, 404, Node030, NEUTRAL_REACTION);
     end
-    giq_option(4, 433, 393, Node027, 50);
+    giq_option(4, NAME, 393, Node027, NEUTRAL_REACTION);
     prev_node := 26;
 end
 
 procedure Node027
 begin
-    gsay_reply(433, 410 + (((global_var(255) bwand 512) != 0) == 0));
-    giq_option(4, 433, 412, Node028, 51);
-    giq_option(4, 433, 413, Node029, 50);
-    giq_option(4, 433, 414, Node028, 51);
+    Reply(410 + (((global_var(GVAR_NEW_RENO_BISHOP) bwand 512) != 0) == 0));
+    giq_option(4, NAME, 412, Node028, BAD_REACTION);
+    giq_option(4, NAME, 413, Node029, NEUTRAL_REACTION);
+    giq_option(4, NAME, 414, Node028, BAD_REACTION);
     prev_node := 27;
 end
 
 procedure Node028
 begin
-    set_global_var(263, global_var(263) bwor 128);
-    gsay_reply(433, 415);
-    giq_option(4, 433, 416, Node999, 50);
+    set_global_var(GVAR_NEW_RENO_MRS_BISHOP, global_var(GVAR_NEW_RENO_MRS_BISHOP) bwor 128);
+    Reply(415);
+    giq_option(4, NAME, 416, Node999, NEUTRAL_REACTION);
     prev_node := 28;
 end
 
 procedure Node029
 begin
-    gsay_reply(433, 420);
-    giq_option(1, 433, 233, Node990, 50);
+    Reply(420);
+    giq_option(1, NAME, 233, Node990, NEUTRAL_REACTION);
     prev_node := 29;
 end
 
 procedure Node030
 begin
     set_local_var(7, local_var(7) bwor 4096);
-    gsay_reply(433, 425);
-    giq_option(4, 433, 426, Node999, 50);
+    Reply(425);
+    giq_option(4, NAME, 426, Node999, NEUTRAL_REACTION);
     prev_node := 30;
 end
 
 procedure Node031
 begin
-    float_msg(self_obj, message_str(433, 430), 8);
+    float_msg(self_obj, mstr(430), FLOAT_MSG_YELLOW);
 end
 
 procedure Node032
 begin
-    gsay_reply(433, 435);
-    giq_option(4, 433, 436 + ((global_var(263) bwand 2048) != 0), Node029, 50);
-    giq_option(4, 433, 438, Node010, 50);
-    giq_option(4, 433, 439, Node999, 50);
+    Reply(435);
+    giq_option(4, NAME, 436 + ((global_var(GVAR_NEW_RENO_MRS_BISHOP) bwand 2048) != 0), Node029, NEUTRAL_REACTION);
+    giq_option(4, NAME, 438, Node010, NEUTRAL_REACTION);
+    giq_option(4, NAME, 439, Node999, NEUTRAL_REACTION);
     prev_node := 32;
 end
 
 procedure Node033
 begin
-    gsay_reply(433, 440);
-    giq_option(4, 433, 441, Node029, 50);
-    if (get_critter_stat(dude_obj, 3) > 5) then begin
-        giq_option(4, 433, 404, Node030, 50);
+    Reply(440);
+    giq_option(4, NAME, 441, Node029, NEUTRAL_REACTION);
+    if (dude_charisma > 5) then begin
+        giq_option(4, NAME, 404, Node030, NEUTRAL_REACTION);
     end
-    giq_option(4, 433, 443, Node027, 51);
+    giq_option(4, NAME, 443, Node027, BAD_REACTION);
     prev_node := 33;
 end
 
 procedure Node034
 begin
-    gsay_reply(433, 445);
-    giq_option(4, 433, 446, Node035, 50);
-    giq_option(4, 433, 447, Node010, 50);
-    if (get_critter_stat(dude_obj, 3) < 6) then begin
-        giq_option(4, 433, 448, Node988, 50);
+    Reply(445);
+    giq_option(4, NAME, 446, Node035, NEUTRAL_REACTION);
+    giq_option(4, NAME, 447, Node010, NEUTRAL_REACTION);
+    if (dude_charisma < 6) then begin
+        giq_option(4, NAME, 448, Node988, NEUTRAL_REACTION);
     end
     else begin
-        giq_option(4, 433, 449, Node988, 50);
+        giq_option(4, NAME, 449, Node988, NEUTRAL_REACTION);
     end
     prev_node := 34;
 end
 
 procedure Node035
 begin
-    gsay_reply(433, 450);
-    giq_option(8, 433, 451 + (metarule(17, 10) != 0), Node036, 50);
-    giq_option(-7, 433, 453, Node038, 50);
-    giq_option(4, 433, 447, Node010, 50);
-    if (get_critter_stat(dude_obj, 3) < 6) then begin
-        giq_option(4, 433, 448, Node988, 50);
+    Reply(450);
+    giq_option(8, NAME, 451 + (town_known(10) != 0), Node036, NEUTRAL_REACTION);
+    giq_option(-7, NAME, 453, Node038, NEUTRAL_REACTION);
+    giq_option(4, NAME, 447, Node010, NEUTRAL_REACTION);
+    if (dude_charisma < 6) then begin
+        giq_option(4, NAME, 448, Node988, NEUTRAL_REACTION);
     end
     else begin
-        giq_option(4, 433, 449, Node988, 50);
+        giq_option(4, NAME, 449, Node988, NEUTRAL_REACTION);
     end
     prev_node := 35;
 end
 
 procedure Node036
 begin
-    gsay_reply(433, 460);
-    giq_option(4, 433, 461, Node038, 50);
-    giq_option(4, 433, 462, Node010, 50);
-    if (get_critter_stat(dude_obj, 3) < 6) then begin
-        giq_option(4, 433, 448, Node988, 50);
+    Reply(460);
+    giq_option(4, NAME, 461, Node038, NEUTRAL_REACTION);
+    giq_option(4, NAME, 462, Node010, NEUTRAL_REACTION);
+    if (dude_charisma < 6) then begin
+        giq_option(4, NAME, 448, Node988, NEUTRAL_REACTION);
     end
     else begin
-        giq_option(4, 433, 449, Node988, 50);
+        giq_option(4, NAME, 449, Node988, NEUTRAL_REACTION);
     end
     prev_node := 36;
 end
 
 procedure Node038
 begin
-    gsay_reply(433, message_str(433, 470 + (prev_node == 36)) + message_str(433, 472));
-    giq_option(4, 433, 473, Node010, 50);
-    if (get_critter_stat(dude_obj, 3) < 6) then begin
-        giq_option(4, 433, 474, Node988, 50);
+    Reply(mstr(470 + (prev_node == 36)) + mstr(472));
+    giq_option(4, NAME, 473, Node010, NEUTRAL_REACTION);
+    if (dude_charisma < 6) then begin
+        giq_option(4, NAME, 474, Node988, NEUTRAL_REACTION);
     end
     else begin
-        giq_option(4, 433, 475, Node988, 50);
+        giq_option(4, NAME, 475, Node988, NEUTRAL_REACTION);
     end
     prev_node := 38;
 end
 
 procedure Node039
 begin
-    float_msg(self_obj, message_str(433, random(480, 483)), 8);
+    float_msg(self_obj, mstr(random(480, 483)), FLOAT_MSG_YELLOW);
 end
 
 procedure Node102
@@ -1247,23 +1247,23 @@ begin
     variable LVar0 := 0;
     LVar0 := random(0, 2);
     if (LVar0 == 0) then begin
-        float_msg(self_obj, message_str(433, 510) + obj_name(dude_obj) + message_str(433, 1510), 8);
+        float_msg(self_obj, mstr(510) + dude_name + mstr(1510), FLOAT_MSG_YELLOW);
     end
     else begin
         if (LVar0 == 1) then begin
-            float_msg(self_obj, message_str(433, 511) + obj_name(dude_obj) + message_str(433, 1511) + obj_name(dude_obj) + message_str(433, 2511), 8);
+            float_msg(self_obj, mstr(511) + dude_name + mstr(1511) + dude_name + mstr(2511), FLOAT_MSG_YELLOW);
         end
         else begin
-            if (global_var(530) == 0) then begin
+            if (global_var(GVAR_NEW_RENO_MRS_BISHOP_COMBINATION) == 0) then begin
                 if (obj_on_screen(self_obj)) then begin
-                    set_global_var(530, (random(1, 99) * 10000) + (random(1, 99) * 100) + random(1, 99));
-                    debug_msg("   set_mrs_bishop_combination == " + ("" + (global_var(530) / 10000) + " - " + (global_var(530) / 100 % 100) + " - " + (global_var(530) % 100)));
+                    set_global_var(GVAR_NEW_RENO_MRS_BISHOP_COMBINATION, (random(1, 99) * 10000) + (random(1, 99) * 100) + random(1, 99));
+                    debug_msg("   set_mrs_bishop_combination == " + ("" + (global_var(GVAR_NEW_RENO_MRS_BISHOP_COMBINATION) / 10000) + " - " + (global_var(GVAR_NEW_RENO_MRS_BISHOP_COMBINATION) / 100 % 100) + " - " + (global_var(GVAR_NEW_RENO_MRS_BISHOP_COMBINATION) % 100)));
                 end
             end
-            debug_msg("check_mrs_bishop_combination == " + ("" + (global_var(530) / 10000) + " - " + (global_var(530) / 100 % 100) + " - " + (global_var(530) % 100)));
-            if (global_var(530) != 0) then begin
-                debug_msg("combination var == " + global_var(530));
-                float_msg(self_obj, message_str(433, 512) + ("" + (global_var(530) / 10000) + " - " + (global_var(530) / 100 % 100) + " - " + (global_var(530) % 100)) + message_str(433, 1512), 8);
+            debug_msg("check_mrs_bishop_combination == " + ("" + (global_var(GVAR_NEW_RENO_MRS_BISHOP_COMBINATION) / 10000) + " - " + (global_var(GVAR_NEW_RENO_MRS_BISHOP_COMBINATION) / 100 % 100) + " - " + (global_var(GVAR_NEW_RENO_MRS_BISHOP_COMBINATION) % 100)));
+            if (global_var(GVAR_NEW_RENO_MRS_BISHOP_COMBINATION) != 0) then begin
+                debug_msg("combination var == " + global_var(GVAR_NEW_RENO_MRS_BISHOP_COMBINATION));
+                float_msg(self_obj, mstr(512) + ("" + (global_var(GVAR_NEW_RENO_MRS_BISHOP_COMBINATION) / 10000) + " - " + (global_var(GVAR_NEW_RENO_MRS_BISHOP_COMBINATION) / 100 % 100) + " - " + (global_var(GVAR_NEW_RENO_MRS_BISHOP_COMBINATION) % 100)) + mstr(1512), FLOAT_MSG_YELLOW);
             end
         end
     end
@@ -1271,134 +1271,134 @@ end
 
 procedure Node103
 begin
-    float_msg(self_obj, message_str(433, random(515, 517)), 8);
+    float_msg(self_obj, mstr(random(515, 517)), FLOAT_MSG_YELLOW);
 end
 
 procedure Node104
 begin
-    set_global_var(263, global_var(263) bwor 1);
-    gsay_reply(433, 520);
-    giq_option(-3, 433, 521, Node987, 50);
-    giq_option(-3, 433, 522, Node105, 51);
+    set_global_var(GVAR_NEW_RENO_MRS_BISHOP, global_var(GVAR_NEW_RENO_MRS_BISHOP) bwor 1);
+    Reply(520);
+    giq_option(-3, NAME, 521, Node987, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 522, Node105, BAD_REACTION);
     prev_node := 104;
 end
 
 procedure Node105
 begin
-    gsay_reply(433, 525);
-    giq_option(-3, 433, 526, Node106, 51);
-    giq_option(-3, 433, 527, Node987, 50);
+    Reply(525);
+    giq_option(-3, NAME, 526, Node106, BAD_REACTION);
+    giq_option(-3, NAME, 527, Node987, NEUTRAL_REACTION);
     prev_node := 105;
 end
 
 procedure Node106
 begin
-    set_global_var(263, global_var(263) bwor 64);
-    gsay_reply(433, 530);
-    giq_option(-3, 433, 531, Node998, 51);
-    giq_option(-3, 433, 532, Node998, 51);
-    giq_option(-3, 433, 533, Node998, 51);
+    set_global_var(GVAR_NEW_RENO_MRS_BISHOP, global_var(GVAR_NEW_RENO_MRS_BISHOP) bwor 64);
+    Reply(530);
+    giq_option(-3, NAME, 531, Node998, BAD_REACTION);
+    giq_option(-3, NAME, 532, Node998, BAD_REACTION);
+    giq_option(-3, NAME, 533, Node998, BAD_REACTION);
     prev_node := 106;
 end
 
 procedure Node122
 begin
-    gsay_reply(433, 535);
-    giq_option(-4, 433, 536, Node123, 50);
-    if ((global_var(260) bwand 256) != 0) then begin
-        giq_option(5, 433, 537, Node123, 51);
+    Reply(535);
+    giq_option(-4, NAME, 536, Node123, NEUTRAL_REACTION);
+    if ((global_var(GVAR_NEW_RENO_ANGELA) bwand 256) != 0) then begin
+        giq_option(5, NAME, 537, Node123, BAD_REACTION);
     end
     else begin
-        giq_option(4, 433, 538, Node123, 50);
+        giq_option(4, NAME, 538, Node123, NEUTRAL_REACTION);
     end
-    giq_option(4, 433, 539, Node126, 51);
+    giq_option(4, NAME, 539, Node126, BAD_REACTION);
     prev_node := 122;
 end
 
 procedure Node123
 begin
-    gsay_reply(433, 540 + (((global_var(260) bwand 256) != 0) == 0));
-    giq_option(4, 433, 542, Node987, 50);
-    giq_option(4, 433, 543, Node126, 51);
+    Reply(540 + (((global_var(GVAR_NEW_RENO_ANGELA) bwand 256) != 0) == 0));
+    giq_option(4, NAME, 542, Node987, NEUTRAL_REACTION);
+    giq_option(4, NAME, 543, Node126, BAD_REACTION);
     prev_node := 123;
 end
 
 procedure Node124
 begin
-    gsay_reply(433, 545);
-    giq_option(4, 433, 546 + (get_critter_stat(dude_obj, 34) == 1), Node987, 50);
-    if ((global_var(260) bwand 2048) != 0) then begin
-        giq_option(4, 433, 548, Node122, 51);
-        giq_option(4, 433, 549, Node125, 51);
+    Reply(545);
+    giq_option(4, NAME, 546 + (dude_gender == 1), Node987, NEUTRAL_REACTION);
+    if ((global_var(GVAR_NEW_RENO_ANGELA) bwand 2048) != 0) then begin
+        giq_option(4, NAME, 548, Node122, BAD_REACTION);
+        giq_option(4, NAME, 549, Node125, BAD_REACTION);
     end
-    giq_option(4, 433, 550, Node126, 51);
+    giq_option(4, NAME, 550, Node126, BAD_REACTION);
     prev_node := 124;
 end
 
 procedure Node125
 begin
-    gsay_reply(433, 555);
-    giq_option(4, 433, 556, Node987, 50);
-    giq_option(4, 433, 557, Node126, 51);
+    Reply(555);
+    giq_option(4, NAME, 556, Node987, NEUTRAL_REACTION);
+    giq_option(4, NAME, 557, Node126, BAD_REACTION);
     prev_node := 125;
 end
 
 procedure Node126
 begin
-    gsay_reply(433, 560);
-    giq_option(4, 433, 561, Node127, 51);
-    if ((global_var(345) bwand 2) != 0) then begin
-        if ((get_critter_stat(dude_obj, 3) > 6) or has_trait(0, dude_obj, 49)) then begin
-            giq_option(4, 433, 562, Node129, 50);
+    Reply(560);
+    giq_option(4, NAME, 561, Node127, BAD_REACTION);
+    if ((global_var(GVAR_NEW_RENO_FLAG_2) bwand 2) != 0) then begin
+        if ((dude_charisma > 6) or has_trait(TRAIT_PERK, dude_obj, PERK_smooth_talker)) then begin
+            giq_option(4, NAME, 562, Node129, NEUTRAL_REACTION);
         end
     end
     else begin
-        if ((get_critter_stat(dude_obj, 3) > 8) or has_trait(0, dude_obj, 49)) then begin
-            giq_option(4, 433, 563, Node129, 50);
+        if ((dude_charisma > 8) or has_trait(TRAIT_PERK, dude_obj, PERK_smooth_talker)) then begin
+            giq_option(4, NAME, 563, Node129, NEUTRAL_REACTION);
         end
     end
-    giq_option(4, 433, 564, Node127, 51);
+    giq_option(4, NAME, 564, Node127, BAD_REACTION);
     prev_node := 126;
 end
 
 procedure Node127
 begin
-    gsay_reply(433, 565);
-    giq_option(4, 433, 566, Node128, 51);
-    if ((global_var(345) bwand 2) != 0) then begin
-        if ((get_critter_stat(dude_obj, 3) > 6) or has_trait(0, dude_obj, 49)) then begin
-            giq_option(4, 433, 567, Node129, 50);
+    Reply(565);
+    giq_option(4, NAME, 566, Node128, BAD_REACTION);
+    if ((global_var(GVAR_NEW_RENO_FLAG_2) bwand 2) != 0) then begin
+        if ((dude_charisma > 6) or has_trait(TRAIT_PERK, dude_obj, PERK_smooth_talker)) then begin
+            giq_option(4, NAME, 567, Node129, NEUTRAL_REACTION);
         end
     end
     else begin
-        if ((get_critter_stat(dude_obj, 3) > 8) or has_trait(0, dude_obj, 49)) then begin
-            giq_option(4, 433, 563, Node129, 50);
+        if ((dude_charisma > 8) or has_trait(TRAIT_PERK, dude_obj, PERK_smooth_talker)) then begin
+            giq_option(4, NAME, 563, Node129, NEUTRAL_REACTION);
         end
     end
-    giq_option(4, 433, 569 + (global_var(0) > 0), Node987, 50);
+    giq_option(4, NAME, 569 + (global_var(GVAR_PLAYER_REPUTATION) > 0), Node987, NEUTRAL_REACTION);
     prev_node := 127;
 end
 
 procedure Node128
 begin
-    gsay_reply(433, 575);
-    giq_option(4, 433, 576, Node998, 51);
-    giq_option(4, 433, 577, Node998, 51);
+    Reply(575);
+    giq_option(4, NAME, 576, Node998, BAD_REACTION);
+    giq_option(4, NAME, 577, Node998, BAD_REACTION);
     prev_node := 128;
 end
 
 procedure Node129
 begin
-    gsay_reply(433, 580);
-    giq_option(4, 433, 581, Node130, 51);
-    giq_option(4, 433, 582, Node130, 50);
+    Reply(580);
+    giq_option(4, NAME, 581, Node130, BAD_REACTION);
+    giq_option(4, NAME, 582, Node130, NEUTRAL_REACTION);
     prev_node := 129;
 end
 
 procedure Node130
 begin
-    gsay_reply(433, 585);
-    giq_option(4, 433, 586, Node984, 50);
+    Reply(585);
+    giq_option(4, NAME, 586, Node984, NEUTRAL_REACTION);
     prev_node := 130;
 end
 
@@ -1406,22 +1406,22 @@ procedure Node131
 begin
     animate_stand_obj(dude_obj);
     move_to(dude_obj, 16688, 2);
-    anim(dude_obj, 1000, rotation_to_tile(tile_num(dude_obj), tile_num(self_obj)));
-    if (((((get_critter_stat(dude_obj, 3) * 50) + (get_critter_stat(dude_obj, 2) * 25) + (get_critter_stat(dude_obj, 5) * 13) + (get_critter_stat(dude_obj, 0) * 12)) / 100) + (has_trait(0, dude_obj, 94) * 2) + has_trait(2, dude_obj, 13) + (((global_var(194) >= 100) or (global_var(232) > 0)) * 2 * (dude_obj == dude_obj))) >= 9) then begin
+    anim(dude_obj, 1000, rotation_to_tile(dude_tile, tile_num(self_obj)));
+    if (((((dude_charisma * 50) + (dude_endurance * 25) + (get_critter_stat(dude_obj, STAT_ag) * 13) + (dude_strength * 12)) / 100) + (has_trait(TRAIT_PERK, dude_obj, PERK_kama_sutra_perk) * 2) + has_trait(2, dude_obj, 13) + (((global_var(GVAR_PLAYER_SEX_LEVEL) >= 100) or (global_var(GVAR_NEW_RENO_PORN_STAR) > 0)) * 2 * (dude_obj == dude_obj))) >= 9) then begin
         set_local_var(4, 10);
-        gsay_reply(433, message_str(433, 591) + obj_name(dude_obj) + message_str(433, 1591) + message_str(433, 592 + (get_critter_stat(dude_obj, 34) == 1)));
-        giq_option(1, 433, 596, Node132, 50);
+        Reply(mstr(591) + dude_name + mstr(1591) + mstr(592 + (dude_gender == 1)));
+        giq_option(1, NAME, 596, Node132, NEUTRAL_REACTION);
     end
     else begin
-        if (((((get_critter_stat(dude_obj, 3) * 50) + (get_critter_stat(dude_obj, 2) * 25) + (get_critter_stat(dude_obj, 5) * 13) + (get_critter_stat(dude_obj, 0) * 12)) / 100) + (has_trait(0, dude_obj, 94) * 2) + has_trait(2, dude_obj, 13) + (((global_var(194) >= 100) or (global_var(232) > 0)) * 2 * (dude_obj == dude_obj))) >= 7) then begin
+        if (((((dude_charisma * 50) + (dude_endurance * 25) + (get_critter_stat(dude_obj, STAT_ag) * 13) + (dude_strength * 12)) / 100) + (has_trait(TRAIT_PERK, dude_obj, PERK_kama_sutra_perk) * 2) + has_trait(2, dude_obj, 13) + (((global_var(GVAR_PLAYER_SEX_LEVEL) >= 100) or (global_var(GVAR_NEW_RENO_PORN_STAR) > 0)) * 2 * (dude_obj == dude_obj))) >= 7) then begin
             set_local_var(4, 3);
-            gsay_reply(433, message_str(433, 591) + obj_name(dude_obj) + message_str(433, 1591));
-            giq_option(1, 433, 595, Node132, 50);
+            Reply(mstr(591) + dude_name + mstr(1591));
+            giq_option(1, NAME, 595, Node132, NEUTRAL_REACTION);
         end
         else begin
             set_local_var(4, 1);
-            gsay_reply(433, 590);
-            giq_option(1, 433, 594, Node132, 50);
+            Reply(590);
+            giq_option(1, NAME, 594, Node132, NEUTRAL_REACTION);
         end
     end
     prev_node := 131;
@@ -1429,158 +1429,158 @@ end
 
 procedure Node132
 begin
-    gsay_reply(433, 600);
-    giq_option(4, 433, 601, Node133, 51);
-    if ((global_var(260) bwand 1) != 0) then begin
-        giq_option(4, 433, 602, Node142, 51);
+    Reply(600);
+    giq_option(4, NAME, 601, Node133, BAD_REACTION);
+    if ((global_var(GVAR_NEW_RENO_ANGELA) bwand 1) != 0) then begin
+        giq_option(4, NAME, 602, Node142, BAD_REACTION);
     end
-    giq_option(4, 433, 603, Node143, 51);
-    giq_option(6, 433, 604, Node150, 50);
+    giq_option(4, NAME, 603, Node143, BAD_REACTION);
+    giq_option(6, NAME, 604, Node150, NEUTRAL_REACTION);
     if ((local_var(7) bwand 512) != 0) then begin
-        giq_option(9, 433, 605, Node152, 50);
+        giq_option(9, NAME, 605, Node152, NEUTRAL_REACTION);
     end
-    giq_option(4, 433, 606, Node158, 50);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 132;
 end
 
 procedure Node133
 begin
-    gsay_reply(433, 610);
-    giq_option(4, 433, 611, Node134, 51);
-    giq_option(4, 433, 612, Node986, 50);
-    giq_option(4, 433, 606, Node158, 50);
+    Reply(610);
+    giq_option(4, NAME, 611, Node134, BAD_REACTION);
+    giq_option(4, NAME, 612, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 133;
 end
 
 procedure Node134
 begin
-    if ((global_var(255) bwand 512) != 0) then begin
-        gsay_reply(433, 615);
+    if ((global_var(GVAR_NEW_RENO_BISHOP) bwand 512) != 0) then begin
+        Reply(615);
     end
     else begin
-        gsay_reply(433, 616);
-        giq_option(4, 433, 617, Node159, 51);
-        if (global_var(321) == 2) then begin
-            giq_option(4, 433, 618, Node136, 51);
+        Reply(616);
+        giq_option(4, NAME, 617, Node159, BAD_REACTION);
+        if (global_var(GVAR_MOORE_ACCEPT_DELIVERY) == 2) then begin
+            giq_option(4, NAME, 618, Node136, BAD_REACTION);
         end
-        if ((global_var(495) bwand 128) != 0) then begin
-            giq_option(4, 433, 619, Node137, 51);
+        if ((global_var(GVAR_NEW_RENO_FLAG_3) bwand 128) != 0) then begin
+            giq_option(4, NAME, 619, Node137, BAD_REACTION);
         end
     end
-    if (global_var(496) == 1) then begin
-        giq_option(4, 433, 620, Node140, 51);
+    if (global_var(GVAR_MR_BISHOP_SAFE) == 1) then begin
+        giq_option(4, NAME, 620, Node140, BAD_REACTION);
     end
-    giq_option(4, 433, 621, Node986, 50);
-    giq_option(4, 433, 606, Node158, 50);
+    giq_option(4, NAME, 621, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 134;
 end
 
 procedure Node135
 begin
-    gsay_reply(433, 625);
-    giq_option(4, 433, 612, Node986, 50);
-    if (global_var(321) == 2) then begin
-        giq_option(4, 433, 618, Node136, 51);
+    Reply(625);
+    giq_option(4, NAME, 612, Node986, NEUTRAL_REACTION);
+    if (global_var(GVAR_MOORE_ACCEPT_DELIVERY) == 2) then begin
+        giq_option(4, NAME, 618, Node136, BAD_REACTION);
     end
-    if ((global_var(495) bwand 128) != 0) then begin
-        giq_option(4, 433, 619, Node137, 51);
+    if ((global_var(GVAR_NEW_RENO_FLAG_3) bwand 128) != 0) then begin
+        giq_option(4, NAME, 619, Node137, BAD_REACTION);
     end
-    if (global_var(496) == 1) then begin
-        giq_option(4, 433, 620, Node140, 51);
+    if (global_var(GVAR_MR_BISHOP_SAFE) == 1) then begin
+        giq_option(4, NAME, 620, Node140, BAD_REACTION);
     end
-    giq_option(4, 433, 630, Node147, 50);
-    giq_option(4, 433, 606, Node158, 50);
+    giq_option(4, NAME, 630, Node147, NEUTRAL_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 135;
 end
 
 procedure Node136
 begin
-    if (metarule(17, 10) == 0) then begin
+    if (town_known(10) == 0) then begin
         debug_msg("  mark_on_map(" + 10 + ")");
         mark_area_known(0, 10, 1);
     end
-    gsay_reply(433, 635);
-    giq_option(6, 433, 636, Node160, 50);
-    giq_option(4, 433, 637, Node986, 50);
-    giq_option(4, 433, 638, Node133, 51);
-    giq_option(4, 433, 606, Node158, 50);
+    Reply(635);
+    giq_option(6, NAME, 636, Node160, NEUTRAL_REACTION);
+    giq_option(4, NAME, 637, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 638, Node133, BAD_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 136;
 end
 
 procedure Node137
 begin
-    if (metarule(17, 10) == 0) then begin
+    if (town_known(10) == 0) then begin
         debug_msg("  mark_on_map(" + 10 + ")");
         mark_area_known(0, 10, 1);
     end
-    if (metarule(17, 4) == 0) then begin
+    if (town_known(4) == 0) then begin
         debug_msg("  mark_on_map(" + 4 + ")");
         mark_area_known(0, 4, 1);
     end
-    gsay_reply(433, 645);
-    giq_option(4, 433, 646, Node138, 50);
-    giq_option(4, 433, 606, Node158, 50);
+    Reply(645);
+    giq_option(4, NAME, 646, Node138, NEUTRAL_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 137;
 end
 
 procedure Node138
 begin
-    gsay_reply(433, 650);
-    giq_option(4, 433, 651, Node139, 50);
-    giq_option(4, 433, 652, Node163, 50);
-    giq_option(4, 433, 606, Node158, 50);
+    Reply(650);
+    giq_option(4, NAME, 651, Node139, NEUTRAL_REACTION);
+    giq_option(4, NAME, 652, Node163, NEUTRAL_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 138;
 end
 
 procedure Node139
 begin
-    gsay_reply(433, 655);
-    giq_option(4, 433, 652, Node163, 50);
-    giq_option(4, 433, 657, Node986, 50);
-    giq_option(4, 433, 638, Node133, 51);
-    giq_option(4, 433, 606, Node158, 50);
+    Reply(655);
+    giq_option(4, NAME, 652, Node163, NEUTRAL_REACTION);
+    giq_option(4, NAME, 657, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 638, Node133, BAD_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 139;
 end
 
 procedure Node140
 begin
-    if (global_var(496) < 2) then begin
-        set_global_var(496, 2);
+    if (global_var(GVAR_MR_BISHOP_SAFE) < 2) then begin
+        set_global_var(GVAR_MR_BISHOP_SAFE, 2);
     end
-    gsay_reply(433, (random(1, 99) * 10000) + (random(1, 99) * 100) + random(1, 99) + message_str(433, 660));
-    giq_option(4, 433, 637, Node986, 50);
-    giq_option(4, 433, 638, Node133, 51);
-    giq_option(4, 433, 663, Node985, 51);
-    giq_option(4, 433, 606, Node985, 50);
+    Reply((random(1, 99) * 10000) + (random(1, 99) * 100) + random(1, 99) + mstr(660));
+    giq_option(4, NAME, 637, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 638, Node133, BAD_REACTION);
+    giq_option(4, NAME, 663, Node985, BAD_REACTION);
+    giq_option(4, NAME, 606, Node985, NEUTRAL_REACTION);
     prev_node := 140;
 end
 
 procedure Node141
 begin
-    gsay_reply(433, message_str(433, 665) + obj_name(dude_obj) + message_str(433, 1665));
-    giq_option(4, 433, 666, Node158, 50);
+    Reply(mstr(665) + dude_name + mstr(1665));
+    giq_option(4, NAME, 666, Node158, NEUTRAL_REACTION);
     prev_node := 141;
 end
 
 procedure Node142
 begin
-    if ((global_var(260) bwand 2048) != 0) then begin
-        gsay_reply(433, message_str(433, 670) + message_str(433, 671) + message_str(433, 672));
+    if ((global_var(GVAR_NEW_RENO_ANGELA) bwand 2048) != 0) then begin
+        Reply(mstr(670) + mstr(671) + mstr(672));
     end
     else begin
-        gsay_reply(433, message_str(433, 670) + message_str(433, 672));
+        Reply(mstr(670) + mstr(672));
     end
-    giq_option(4, 433, 673, Node986, 50);
-    giq_option(4, 433, 606, Node158, 50);
+    giq_option(4, NAME, 673, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 142;
 end
 
 procedure Node143
 begin
-    gsay_reply(433, 675);
-    giq_option(5, 433, 286, Node144, 51);
-    giq_option(4, 433, 677, Node986, 50);
-    giq_option(4, 433, 606, Node158, 50);
+    Reply(675);
+    giq_option(5, NAME, 286, Node144, BAD_REACTION);
+    giq_option(4, NAME, 677, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 143;
 end
 
@@ -1588,80 +1588,80 @@ procedure Node144
 begin
     variable LVar0 := "";
     if ((party_member_obj(16777380) != 0) or (party_member_obj(16777379) != 0)) then begin
-        LVar0 := LVar0 + message_str(433, 680);
+        LVar0 := LVar0 + mstr(680);
     end
-    LVar0 := LVar0 + message_str(433, 681 + (((global_var(255) bwand 512) != 0) == 0));
-    gsay_reply(433, LVar0);
-    giq_option(6, 433, 683, Node145, 51);
-    giq_option(4, 433, 684, Node986, 50);
-    giq_option(4, 433, 606, Node158, 50);
+    LVar0 := LVar0 + mstr(681 + (((global_var(GVAR_NEW_RENO_BISHOP) bwand 512) != 0) == 0));
+    Reply(LVar0);
+    giq_option(6, NAME, 683, Node145, BAD_REACTION);
+    giq_option(4, NAME, 684, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 144;
 end
 
 procedure Node145
 begin
-    if (metarule(17, 10) == 0) then begin
+    if (town_known(10) == 0) then begin
         debug_msg("  mark_on_map(" + 10 + ")");
         mark_area_known(0, 10, 1);
     end
-    gsay_reply(433, 690);
-    giq_option(7, 433, 691, Node146, 50);
-    giq_option(4, 433, 692, Node986, 50);
-    giq_option(4, 433, 606, Node158, 50);
+    Reply(690);
+    giq_option(7, NAME, 691, Node146, NEUTRAL_REACTION);
+    giq_option(4, NAME, 692, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 145;
 end
 
 procedure Node146
 begin
-    if ((global_var(255) bwand 512) != 0) then begin
-        if (((global_var(495) bwand 524288) != 0) == 0) then begin
-            display_msg(message_str(433, 900));
+    if ((global_var(GVAR_NEW_RENO_BISHOP) bwand 512) != 0) then begin
+        if (((global_var(GVAR_NEW_RENO_FLAG_3) bwand 524288) != 0) == 0) then begin
+            display_mstr(900);
             give_exp_points(1000);
-            display_msg(message_str(14, 100) + 1000 + message_str(14, 101));
-            set_global_var(0, global_var(0) + 3);
+            display_msg(g_mstr(100) + 1000 + g_mstr(101));
+            set_global_var(GVAR_PLAYER_REPUTATION, global_var(GVAR_PLAYER_REPUTATION) + 3);
             debug_msg("Player gains " + 3 + " Karma Points.");
-            set_global_var(37, 0);
-            set_global_var(38, 0);
-            set_global_var(39, 0);
-            set_global_var(40, 0);
-            set_global_var(41, 0);
-            set_global_var(42, 0);
-            set_global_var(43, 0);
-            set_global_var(44, 0);
-            set_global_var(45, 0);
-            if (global_var(0) >= 1000) then begin
-                set_global_var(37, 1);
+            set_global_var(GVAR_KARMA_HOLY_WARRIOR, 0);
+            set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 0);
+            set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 0);
+            set_global_var(GVAR_KARMA_DEFENDER, 0);
+            set_global_var(GVAR_KARMA_WANDERER, 0);
+            set_global_var(GVAR_KARMA_BETRAYER, 0);
+            set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 0);
+            set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 0);
+            set_global_var(GVAR_KARMA_DEMON_SPAWN, 0);
+            if (global_var(GVAR_PLAYER_REPUTATION) >= 1000) then begin
+                set_global_var(GVAR_KARMA_HOLY_WARRIOR, 1);
             end
             else begin
-                if (global_var(0) >= 750) then begin
-                    set_global_var(38, 1);
+                if (global_var(GVAR_PLAYER_REPUTATION) >= 750) then begin
+                    set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 1);
                 end
                 else begin
-                    if (global_var(0) >= 500) then begin
-                        set_global_var(39, 1);
+                    if (global_var(GVAR_PLAYER_REPUTATION) >= 500) then begin
+                        set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 1);
                     end
                     else begin
-                        if (global_var(0) >= 250) then begin
-                            set_global_var(40, 1);
+                        if (global_var(GVAR_PLAYER_REPUTATION) >= 250) then begin
+                            set_global_var(GVAR_KARMA_DEFENDER, 1);
                         end
                         else begin
-                            if (global_var(0) > -250) then begin
-                                set_global_var(41, 1);
+                            if (global_var(GVAR_PLAYER_REPUTATION) > -250) then begin
+                                set_global_var(GVAR_KARMA_WANDERER, 1);
                             end
                             else begin
-                                if (global_var(0) > -500) then begin
-                                    set_global_var(42, 1);
+                                if (global_var(GVAR_PLAYER_REPUTATION) > -500) then begin
+                                    set_global_var(GVAR_KARMA_BETRAYER, 1);
                                 end
                                 else begin
-                                    if (global_var(0) > -750) then begin
-                                        set_global_var(43, 1);
+                                    if (global_var(GVAR_PLAYER_REPUTATION) > -750) then begin
+                                        set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 1);
                                     end
                                     else begin
-                                        if (global_var(0) > -1000) then begin
-                                            set_global_var(44, 1);
+                                        if (global_var(GVAR_PLAYER_REPUTATION) > -1000) then begin
+                                            set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 1);
                                         end
                                         else begin
-                                            set_global_var(45, 1);
+                                            set_global_var(GVAR_KARMA_DEMON_SPAWN, 1);
                                         end
                                     end
                                 end
@@ -1670,197 +1670,197 @@ begin
                     end
                 end
             end
-            if (((global_var(495) bwand 524288) != 0) == 0) then begin
-                set_global_var(55, global_var(55) + 1);
+            if (((global_var(GVAR_NEW_RENO_FLAG_3) bwand 524288) != 0) == 0) then begin
+                set_global_var(GVAR_TOWN_REP_NEW_RENO, global_var(GVAR_TOWN_REP_NEW_RENO) + 1);
             end
-            set_global_var(495, global_var(495) bwor 524288);
+            set_global_var(GVAR_NEW_RENO_FLAG_3, global_var(GVAR_NEW_RENO_FLAG_3) bwor 524288);
         end
-        gsay_reply(433, 701);
+        Reply(701);
     end
     else begin
-        gsay_reply(433, 700);
+        Reply(700);
     end
-    giq_option(4, 433, 702, Node986, 50);
-    giq_option(4, 433, 606, Node158, 50);
+    giq_option(4, NAME, 702, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 146;
 end
 
 procedure Node147
 begin
-    gsay_reply(433, 705);
-    giq_option(7, 433, 706, Node148, 50);
-    giq_option(4, 433, 702, Node986, 50);
-    giq_option(4, 433, 606, Node158, 50);
+    Reply(705);
+    giq_option(7, NAME, 706, Node148, NEUTRAL_REACTION);
+    giq_option(4, NAME, 702, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 147;
 end
 
 procedure Node148
 begin
-    gsay_reply(433, 710);
-    if (has_skill(dude_obj, 11) > 75) then begin
-        giq_option(7, 433, 711, Node149, 50);
+    Reply(710);
+    if (dude_skill(SKILL_TRAPS) > 75) then begin
+        giq_option(7, NAME, 711, Node149, NEUTRAL_REACTION);
     end
-    giq_option(4, 433, 712, Node986, 50);
-    giq_option(4, 433, 606, Node158, 50);
+    giq_option(4, NAME, 712, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 148;
 end
 
 procedure Node149
 begin
-    set_global_var(495, global_var(495) bwor 2);
-    gsay_reply(433, 715);
-    giq_option(4, 433, 716, Node986, 50);
-    giq_option(4, 433, 606, Node158, 50);
+    set_global_var(GVAR_NEW_RENO_FLAG_3, global_var(GVAR_NEW_RENO_FLAG_3) bwor 2);
+    Reply(715);
+    giq_option(4, NAME, 716, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 149;
 end
 
 procedure Node150
 begin
-    gsay_reply(433, 720);
-    giq_option(4, 433, 721, Node151, 50);
-    giq_option(4, 433, 702, Node986, 50);
-    giq_option(4, 433, 606, Node158, 50);
+    Reply(720);
+    giq_option(4, NAME, 721, Node151, NEUTRAL_REACTION);
+    giq_option(4, NAME, 702, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 150;
 end
 
 procedure Node151
 begin
-    gsay_reply(433, 725);
-    giq_option(4, 433, 726, Node986, 50);
-    giq_option(4, 433, 702, Node986, 50);
-    giq_option(4, 433, 606, Node158, 50);
+    Reply(725);
+    giq_option(4, NAME, 726, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 702, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 151;
 end
 
 procedure Node152
 begin
-    gsay_reply(433, 730);
-    giq_option(4, 433, 731, Node153, 50);
-    giq_option(4, 433, 702, Node986, 50);
-    giq_option(4, 433, 606, Node158, 50);
+    Reply(730);
+    giq_option(4, NAME, 731, Node153, NEUTRAL_REACTION);
+    giq_option(4, NAME, 702, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 152;
 end
 
 procedure Node153
 begin
-    gsay_reply(433, 735);
-    giq_option(4, 433, 736, Node154, 50);
-    giq_option(4, 433, 702, Node986, 50);
-    giq_option(4, 433, 606, Node158, 50);
+    Reply(735);
+    giq_option(4, NAME, 736, Node154, NEUTRAL_REACTION);
+    giq_option(4, NAME, 702, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 153;
 end
 
 procedure Node154
 begin
-    gsay_reply(433, 740);
-    giq_option(4, 433, 741, Node161, 50);
-    giq_option(4, 433, 702, Node986, 50);
-    giq_option(4, 433, 606, Node158, 50);
+    Reply(740);
+    giq_option(4, NAME, 741, Node161, NEUTRAL_REACTION);
+    giq_option(4, NAME, 702, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 154;
 end
 
 procedure Node155
 begin
-    gsay_reply(433, 745);
-    giq_option(4, 433, 746, Node156, 50);
-    giq_option(4, 433, 702, Node986, 50);
-    giq_option(4, 433, 606, Node158, 50);
+    Reply(745);
+    giq_option(4, NAME, 746, Node156, NEUTRAL_REACTION);
+    giq_option(4, NAME, 702, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 155;
 end
 
 procedure Node156
 begin
-    gsay_reply(433, 750);
-    giq_option(4, 433, 751, Node157, 50);
-    giq_option(4, 433, 752, Node986, 50);
-    giq_option(4, 433, 606, Node158, 50);
+    Reply(750);
+    giq_option(4, NAME, 751, Node157, NEUTRAL_REACTION);
+    giq_option(4, NAME, 752, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 156;
 end
 
 procedure Node157
 begin
     debug_msg("set_compartment");
-    if (((global_var(495) bwand 2097152) != 0) == 0) then begin
-        restock_obj := create_object_sid(499, 0, 0, -1);
+    if (((global_var(GVAR_NEW_RENO_FLAG_3) bwand 2097152) != 0) == 0) then begin
+        restock_obj := create_object(499, 0, 0);
         add_mult_objs_to_inven(mrs_bishop_safe_obj, restock_obj, 1);
     end
-    set_global_var(495, global_var(495) bwor 2097152);
+    set_global_var(GVAR_NEW_RENO_FLAG_3, global_var(GVAR_NEW_RENO_FLAG_3) bwor 2097152);
     debug_msg("set_mrs_bishop_combination");
-    set_global_var(530, (random(1, 99) * 10000) + (random(1, 99) * 100) + random(1, 99));
-    debug_msg("   set_mrs_bishop_combination == " + ("" + (global_var(530) / 10000) + " - " + (global_var(530) / 100 % 100) + " - " + (global_var(530) % 100)));
-    gsay_reply(433, message_str(433, 760) + ("" + (global_var(530) / 10000) + " - " + (global_var(530) / 100 % 100) + " - " + (global_var(530) % 100)) + message_str(433, 1760));
-    giq_option(4, 433, 761, Node162, 50);
-    giq_option(4, 433, 762, Node986, 50);
-    giq_option(4, 433, 606, Node158, 50);
+    set_global_var(GVAR_NEW_RENO_MRS_BISHOP_COMBINATION, (random(1, 99) * 10000) + (random(1, 99) * 100) + random(1, 99));
+    debug_msg("   set_mrs_bishop_combination == " + ("" + (global_var(GVAR_NEW_RENO_MRS_BISHOP_COMBINATION) / 10000) + " - " + (global_var(GVAR_NEW_RENO_MRS_BISHOP_COMBINATION) / 100 % 100) + " - " + (global_var(GVAR_NEW_RENO_MRS_BISHOP_COMBINATION) % 100)));
+    Reply(mstr(760) + ("" + (global_var(GVAR_NEW_RENO_MRS_BISHOP_COMBINATION) / 10000) + " - " + (global_var(GVAR_NEW_RENO_MRS_BISHOP_COMBINATION) / 100 % 100) + " - " + (global_var(GVAR_NEW_RENO_MRS_BISHOP_COMBINATION) % 100)) + mstr(1760));
+    giq_option(4, NAME, 761, Node162, NEUTRAL_REACTION);
+    giq_option(4, NAME, 762, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 157;
 end
 
 procedure Node158
 begin
-    gsay_reply(433, 770);
-    giq_option(4, 433, 771, Node999, 50);
+    Reply(770);
+    giq_option(4, NAME, 771, Node999, NEUTRAL_REACTION);
     prev_node := 158;
 end
 
 procedure Node159
 begin
-    gsay_reply(433, 780);
-    if (((global_var(255) bwand 512) != 0) == 0) then begin
-        giq_option(4, 433, 781, Node135, 51);
-        if (global_var(321) == 2) then begin
-            giq_option(4, 433, 618, Node136, 51);
+    Reply(780);
+    if (((global_var(GVAR_NEW_RENO_BISHOP) bwand 512) != 0) == 0) then begin
+        giq_option(4, NAME, 781, Node135, BAD_REACTION);
+        if (global_var(GVAR_MOORE_ACCEPT_DELIVERY) == 2) then begin
+            giq_option(4, NAME, 618, Node136, BAD_REACTION);
         end
-        if ((global_var(495) bwand 128) != 0) then begin
-            giq_option(4, 433, 619, Node137, 51);
+        if ((global_var(GVAR_NEW_RENO_FLAG_3) bwand 128) != 0) then begin
+            giq_option(4, NAME, 619, Node137, BAD_REACTION);
         end
     end
-    if (global_var(496) == 1) then begin
-        giq_option(4, 433, 620, Node140, 51);
+    if (global_var(GVAR_MR_BISHOP_SAFE) == 1) then begin
+        giq_option(4, NAME, 620, Node140, BAD_REACTION);
     end
-    giq_option(4, 433, 612, Node986, 50);
-    giq_option(4, 433, 606, Node158, 50);
+    giq_option(4, NAME, 612, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 159;
 end
 
 procedure Node160
 begin
-    gsay_reply(433, 790);
-    giq_option(4, 433, 791, Node986, 50);
-    giq_option(4, 433, 792, Node133, 51);
-    giq_option(4, 433, 606, Node158, 50);
+    Reply(790);
+    giq_option(4, NAME, 791, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 792, Node133, BAD_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 160;
 end
 
 procedure Node161
 begin
-    gsay_reply(433, 800);
-    giq_option(4, 433, 801, Node155, 50);
-    giq_option(4, 433, 702, Node986, 50);
-    giq_option(4, 433, 606, Node158, 50);
+    Reply(800);
+    giq_option(4, NAME, 801, Node155, NEUTRAL_REACTION);
+    giq_option(4, NAME, 702, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 161;
 end
 
 procedure Node162
 begin
-    gsay_reply(433, 810);
-    giq_option(4, 433, 762, Node986, 50);
-    giq_option(4, 433, 606, Node158, 50);
+    Reply(810);
+    giq_option(4, NAME, 762, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 162;
 end
 
 procedure Node163
 begin
-    gsay_reply(433, 815);
-    giq_option(4, 433, 651, Node139, 50);
-    giq_option(4, 433, 301, Node986, 50);
-    giq_option(4, 433, 606, Node158, 50);
+    Reply(815);
+    giq_option(4, NAME, 651, Node139, NEUTRAL_REACTION);
+    giq_option(4, NAME, 301, Node986, NEUTRAL_REACTION);
+    giq_option(4, NAME, 606, Node158, NEUTRAL_REACTION);
     prev_node := 163;
 end
 
 procedure Node164
 begin
-    gsay_reply(433, 820 + (((((get_critter_stat(dude_obj, 3) * 50) + (get_critter_stat(dude_obj, 2) * 25) + (get_critter_stat(dude_obj, 5) * 13) + (get_critter_stat(dude_obj, 0) * 12)) / 100) + (has_trait(0, dude_obj, 94) * 2) + has_trait(2, dude_obj, 13) + (((global_var(194) >= 100) or (global_var(232) > 0)) * 2 * (dude_obj == dude_obj))) < 9));
-    giq_option(4, 433, 822, Node999, 50);
+    Reply(820 + (((((dude_charisma * 50) + (dude_endurance * 25) + (get_critter_stat(dude_obj, STAT_ag) * 13) + (dude_strength * 12)) / 100) + (has_trait(TRAIT_PERK, dude_obj, PERK_kama_sutra_perk) * 2) + has_trait(2, dude_obj, 13) + (((global_var(GVAR_PLAYER_SEX_LEVEL) >= 100) or (global_var(GVAR_NEW_RENO_PORN_STAR) > 0)) * 2 * (dude_obj == dude_obj))) < 9));
+    giq_option(4, NAME, 822, Node999, NEUTRAL_REACTION);
     prev_node := 164;
 end
 
@@ -1868,9 +1868,9 @@ procedure Node165
 begin
     animate_stand_obj(dude_obj);
     move_to(dude_obj, 16688, 2);
-    anim(dude_obj, 1000, rotation_to_tile(tile_num(dude_obj), tile_num(self_obj)));
-    gsay_reply(433, 825);
-    giq_option(4, 433, 826, Node999, 50);
+    anim(dude_obj, 1000, rotation_to_tile(dude_tile, tile_num(self_obj)));
+    Reply(825);
+    giq_option(4, NAME, 826, Node999, NEUTRAL_REACTION);
     prev_node := 165;
 end
 
@@ -1878,66 +1878,66 @@ procedure Node998
 begin
     set_local_var(7, local_var(7) bwor 2);
     if (2 == 1) then begin
-        set_global_var(315, global_var(315) bwand (-1 - 128));
-        if (global_var(316) >= 2) then begin
-            set_global_var(316, 7);
+        set_global_var(GVAR_NEW_RENO_SALVATORE, global_var(GVAR_NEW_RENO_SALVATORE) bwand (-1 - 128));
+        if (global_var(GVAR_NEW_RENO_TRIBUTE) >= 2) then begin
+            set_global_var(GVAR_NEW_RENO_TRIBUTE, 7);
         end
-        if (global_var(312) >= 2) then begin
-            set_global_var(312, 4);
+        if (global_var(GVAR_NEW_RENO_TRACK_LLOYD) >= 2) then begin
+            set_global_var(GVAR_NEW_RENO_TRACK_LLOYD, 4);
         end
-        if (global_var(313) >= 2) then begin
-            set_global_var(313, 4);
+        if (global_var(GVAR_NEW_RENO_GUARD_ASSIGNMENT) >= 2) then begin
+            set_global_var(GVAR_NEW_RENO_GUARD_ASSIGNMENT, 4);
         end
     end
     else begin
         if (2 == 2) then begin
-            set_global_var(255, global_var(255) bwand (-1 - 128));
+            set_global_var(GVAR_NEW_RENO_BISHOP, global_var(GVAR_NEW_RENO_BISHOP) bwand (-1 - 128));
             if (2 == 1) then begin
-                if (global_var(548) == 0) then begin
-                    set_global_var(0, global_var(0) + -5);
+                if (global_var(GVAR_NEW_RENO_CARLSON_SNUFF_PIP) == 0) then begin
+                    set_global_var(GVAR_PLAYER_REPUTATION, global_var(GVAR_PLAYER_REPUTATION) + -5);
                     debug_msg("Player gains " + -5 + " Karma Points.");
-                    set_global_var(37, 0);
-                    set_global_var(38, 0);
-                    set_global_var(39, 0);
-                    set_global_var(40, 0);
-                    set_global_var(41, 0);
-                    set_global_var(42, 0);
-                    set_global_var(43, 0);
-                    set_global_var(44, 0);
-                    set_global_var(45, 0);
-                    if (global_var(0) >= 1000) then begin
-                        set_global_var(37, 1);
+                    set_global_var(GVAR_KARMA_HOLY_WARRIOR, 0);
+                    set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 0);
+                    set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 0);
+                    set_global_var(GVAR_KARMA_DEFENDER, 0);
+                    set_global_var(GVAR_KARMA_WANDERER, 0);
+                    set_global_var(GVAR_KARMA_BETRAYER, 0);
+                    set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 0);
+                    set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 0);
+                    set_global_var(GVAR_KARMA_DEMON_SPAWN, 0);
+                    if (global_var(GVAR_PLAYER_REPUTATION) >= 1000) then begin
+                        set_global_var(GVAR_KARMA_HOLY_WARRIOR, 1);
                     end
                     else begin
-                        if (global_var(0) >= 750) then begin
-                            set_global_var(38, 1);
+                        if (global_var(GVAR_PLAYER_REPUTATION) >= 750) then begin
+                            set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 1);
                         end
                         else begin
-                            if (global_var(0) >= 500) then begin
-                                set_global_var(39, 1);
+                            if (global_var(GVAR_PLAYER_REPUTATION) >= 500) then begin
+                                set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 1);
                             end
                             else begin
-                                if (global_var(0) >= 250) then begin
-                                    set_global_var(40, 1);
+                                if (global_var(GVAR_PLAYER_REPUTATION) >= 250) then begin
+                                    set_global_var(GVAR_KARMA_DEFENDER, 1);
                                 end
                                 else begin
-                                    if (global_var(0) > -250) then begin
-                                        set_global_var(41, 1);
+                                    if (global_var(GVAR_PLAYER_REPUTATION) > -250) then begin
+                                        set_global_var(GVAR_KARMA_WANDERER, 1);
                                     end
                                     else begin
-                                        if (global_var(0) > -500) then begin
-                                            set_global_var(42, 1);
+                                        if (global_var(GVAR_PLAYER_REPUTATION) > -500) then begin
+                                            set_global_var(GVAR_KARMA_BETRAYER, 1);
                                         end
                                         else begin
-                                            if (global_var(0) > -750) then begin
-                                                set_global_var(43, 1);
+                                            if (global_var(GVAR_PLAYER_REPUTATION) > -750) then begin
+                                                set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 1);
                                             end
                                             else begin
-                                                if (global_var(0) > -1000) then begin
-                                                    set_global_var(44, 1);
+                                                if (global_var(GVAR_PLAYER_REPUTATION) > -1000) then begin
+                                                    set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 1);
                                                 end
                                                 else begin
-                                                    set_global_var(45, 1);
+                                                    set_global_var(GVAR_KARMA_DEMON_SPAWN, 1);
                                                 end
                                             end
                                         end
@@ -1947,61 +1947,61 @@ begin
                         end
                     end
                 end
-                set_global_var(175, global_var(175) bwor 1);
+                set_global_var(GVAR_NEWRENO_SNUFF_CARLSON, global_var(GVAR_NEWRENO_SNUFF_CARLSON) bwor 1);
             end
-            if ((2 == 2) and (global_var(548) == 0)) then begin
+            if ((2 == 2) and (global_var(GVAR_NEW_RENO_CARLSON_SNUFF_PIP) == 0)) then begin
             end
             else begin
-                if (2 > global_var(548)) then begin
-                    set_global_var(548, 2);
+                if (2 > global_var(GVAR_NEW_RENO_CARLSON_SNUFF_PIP)) then begin
+                    set_global_var(GVAR_NEW_RENO_CARLSON_SNUFF_PIP, 2);
                 end
             end
             if (2 == 1) then begin
-                if (global_var(547) == 0) then begin
-                    set_global_var(0, global_var(0) + -5);
+                if (global_var(GVAR_NEW_RENO_WESTIN_SNUFF_PIP) == 0) then begin
+                    set_global_var(GVAR_PLAYER_REPUTATION, global_var(GVAR_PLAYER_REPUTATION) + -5);
                     debug_msg("Player gains " + -5 + " Karma Points.");
-                    set_global_var(37, 0);
-                    set_global_var(38, 0);
-                    set_global_var(39, 0);
-                    set_global_var(40, 0);
-                    set_global_var(41, 0);
-                    set_global_var(42, 0);
-                    set_global_var(43, 0);
-                    set_global_var(44, 0);
-                    set_global_var(45, 0);
-                    if (global_var(0) >= 1000) then begin
-                        set_global_var(37, 1);
+                    set_global_var(GVAR_KARMA_HOLY_WARRIOR, 0);
+                    set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 0);
+                    set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 0);
+                    set_global_var(GVAR_KARMA_DEFENDER, 0);
+                    set_global_var(GVAR_KARMA_WANDERER, 0);
+                    set_global_var(GVAR_KARMA_BETRAYER, 0);
+                    set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 0);
+                    set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 0);
+                    set_global_var(GVAR_KARMA_DEMON_SPAWN, 0);
+                    if (global_var(GVAR_PLAYER_REPUTATION) >= 1000) then begin
+                        set_global_var(GVAR_KARMA_HOLY_WARRIOR, 1);
                     end
                     else begin
-                        if (global_var(0) >= 750) then begin
-                            set_global_var(38, 1);
+                        if (global_var(GVAR_PLAYER_REPUTATION) >= 750) then begin
+                            set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 1);
                         end
                         else begin
-                            if (global_var(0) >= 500) then begin
-                                set_global_var(39, 1);
+                            if (global_var(GVAR_PLAYER_REPUTATION) >= 500) then begin
+                                set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 1);
                             end
                             else begin
-                                if (global_var(0) >= 250) then begin
-                                    set_global_var(40, 1);
+                                if (global_var(GVAR_PLAYER_REPUTATION) >= 250) then begin
+                                    set_global_var(GVAR_KARMA_DEFENDER, 1);
                                 end
                                 else begin
-                                    if (global_var(0) > -250) then begin
-                                        set_global_var(41, 1);
+                                    if (global_var(GVAR_PLAYER_REPUTATION) > -250) then begin
+                                        set_global_var(GVAR_KARMA_WANDERER, 1);
                                     end
                                     else begin
-                                        if (global_var(0) > -500) then begin
-                                            set_global_var(42, 1);
+                                        if (global_var(GVAR_PLAYER_REPUTATION) > -500) then begin
+                                            set_global_var(GVAR_KARMA_BETRAYER, 1);
                                         end
                                         else begin
-                                            if (global_var(0) > -750) then begin
-                                                set_global_var(43, 1);
+                                            if (global_var(GVAR_PLAYER_REPUTATION) > -750) then begin
+                                                set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 1);
                                             end
                                             else begin
-                                                if (global_var(0) > -1000) then begin
-                                                    set_global_var(44, 1);
+                                                if (global_var(GVAR_PLAYER_REPUTATION) > -1000) then begin
+                                                    set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 1);
                                                 end
                                                 else begin
-                                                    set_global_var(45, 1);
+                                                    set_global_var(GVAR_KARMA_DEMON_SPAWN, 1);
                                                 end
                                             end
                                         end
@@ -2011,81 +2011,81 @@ begin
                         end
                     end
                 end
-                set_global_var(174, global_var(174) bwor 1);
+                set_global_var(GVAR_NEWRENO_SNUFF_WESTIN, global_var(GVAR_NEWRENO_SNUFF_WESTIN) bwor 1);
             end
-            if ((2 >= 2) and (global_var(547) == 0)) then begin
+            if ((2 >= 2) and (global_var(GVAR_NEW_RENO_WESTIN_SNUFF_PIP) == 0)) then begin
             end
             else begin
-                if (2 > global_var(547)) then begin
-                    set_global_var(547, 2);
+                if (2 > global_var(GVAR_NEW_RENO_WESTIN_SNUFF_PIP)) then begin
+                    set_global_var(GVAR_NEW_RENO_WESTIN_SNUFF_PIP, 2);
                 end
             end
         end
         else begin
             if (2 == 3) then begin
-                if ((global_var(354) == 0) and (3 == 3)) then begin
+                if ((global_var(GVAR_NEW_RENO_DELIVERY) == 0) and (3 == 3)) then begin
                 end
                 else begin
-                    if (3 > global_var(354)) then begin
-                        set_global_var(354, 3);
+                    if (3 > global_var(GVAR_NEW_RENO_DELIVERY)) then begin
+                        set_global_var(GVAR_NEW_RENO_DELIVERY, 3);
                     end
                 end
-                debug_msg("delivery == " + global_var(354));
-                if ((3 == 3) and (global_var(355) == 0)) then begin
+                debug_msg("delivery == " + global_var(GVAR_NEW_RENO_DELIVERY));
+                if ((3 == 3) and (global_var(GVAR_NEW_RENO_EXTORTION_BROS) == 0)) then begin
                 end
                 else begin
-                    set_global_var(355, 3);
+                    set_global_var(GVAR_NEW_RENO_EXTORTION_BROS, 3);
                 end
-                if ((2 == 2) and (global_var(356) == 0)) then begin
+                if ((2 == 2) and (global_var(GVAR_NEW_RENO_ASSASSINATION) == 0)) then begin
                 end
                 else begin
-                    set_global_var(356, 2);
+                    set_global_var(GVAR_NEW_RENO_ASSASSINATION, 2);
                 end
             end
             else begin
                 if (2 == 4) then begin
-                    if (0 > global_var(343)) then begin
-                        set_global_var(343, 0);
+                    if (0 > global_var(GVAR_NEW_RENO_SAD)) then begin
+                        set_global_var(GVAR_NEW_RENO_SAD, 0);
                     end
-                    if (global_var(286) == 1) then begin
+                    if (global_var(GVAR_NEW_RENO_WRIGHT_MYSTERY) == 1) then begin
                         if (2 == 3) then begin
-                            set_global_var(55, global_var(55) + 1);
-                            set_global_var(55, global_var(55) + 1);
+                            set_global_var(GVAR_TOWN_REP_NEW_RENO, global_var(GVAR_TOWN_REP_NEW_RENO) + 1);
+                            set_global_var(GVAR_TOWN_REP_NEW_RENO, global_var(GVAR_TOWN_REP_NEW_RENO) + 1);
                         end
                         else begin
                             if (2 == 2) then begin
-                                set_global_var(55, global_var(55) + 1);
+                                set_global_var(GVAR_TOWN_REP_NEW_RENO, global_var(GVAR_TOWN_REP_NEW_RENO) + 1);
                             end
                         end
                     end
-                    set_global_var(286, 2);
-                    set_global_var(285, global_var(285) bwand (-1 - 1));
+                    set_global_var(GVAR_NEW_RENO_WRIGHT_MYSTERY, 2);
+                    set_global_var(GVAR_NEW_RENO_WRIGHT_FLAGS, global_var(GVAR_NEW_RENO_WRIGHT_FLAGS) bwand (-1 - 1));
                 end
             end
         end
     end
     set_global_var(251 + 2 - 1, global_var(251 + 2 - 1) bwor 1);
     if (2 != 0) then begin
-        if (2 == (global_var(230) / 100)) then begin
-            set_global_var(55, global_var(55) + 1);
+        if (2 == (global_var(GVAR_NEW_RENO_MADE_MAN) / 100)) then begin
+            set_global_var(GVAR_TOWN_REP_NEW_RENO, global_var(GVAR_TOWN_REP_NEW_RENO) + 1);
             if (0 == 1) then begin
                 set_global_var(591 + 1 - 1, 1);
-                set_global_var(230, (1 * 100) + (global_var(230) % 100));
+                set_global_var(GVAR_NEW_RENO_MADE_MAN, (1 * 100) + (global_var(GVAR_NEW_RENO_MADE_MAN) % 100));
             end
             else begin
                 if (0 == 2) then begin
                     set_global_var(591 + 2 - 1, 1);
-                    set_global_var(230, (2 * 100) + (global_var(230) % 100));
+                    set_global_var(GVAR_NEW_RENO_MADE_MAN, (2 * 100) + (global_var(GVAR_NEW_RENO_MADE_MAN) % 100));
                 end
                 else begin
                     if (0 == 3) then begin
                         set_global_var(591 + 3 - 1, 1);
-                        set_global_var(230, (3 * 100) + (global_var(230) % 100));
+                        set_global_var(GVAR_NEW_RENO_MADE_MAN, (3 * 100) + (global_var(GVAR_NEW_RENO_MADE_MAN) % 100));
                     end
                     else begin
                         if (0 == 4) then begin
                             set_global_var(591 + 4 - 1, 1);
-                            set_global_var(230, (4 * 100) + (global_var(230) % 100));
+                            set_global_var(GVAR_NEW_RENO_MADE_MAN, (4 * 100) + (global_var(GVAR_NEW_RENO_MADE_MAN) % 100));
                         end
                         else begin
                             if (0 == 0) then begin
@@ -2093,7 +2093,7 @@ begin
                                 set_global_var(591 + 2 - 1, 0);
                                 set_global_var(591 + 3 - 1, 0);
                                 set_global_var(591 + 4 - 1, 0);
-                                set_global_var(230, (0 * 100) + 0);
+                                set_global_var(GVAR_NEW_RENO_MADE_MAN, (0 * 100) + 0);
                             end
                         end
                     end
@@ -2101,10 +2101,10 @@ begin
             end
         end
     end
-    debug_msg("called attack family(" + message_str(353, 200 + 2) + ")");
+    debug_msg("called attack family(" + message_str(SCRIPT_NEWR1, 200 + 2) + ")");
     last_timed_obj := angela_guard_obj;
     last_timed_param := last_timed_param;
-    metarule3(100, angela_guard_obj, 36, 0);
+    rm_fixed_timer_event(angela_guard_obj, 36);
     add_timer_event(angela_guard_obj, 0, 36);
 end
 
@@ -2116,16 +2116,16 @@ procedure Node990
 begin
     game_ui_disable;
     gfade_out(10);
-    set_local_var(5, tile_num(dude_obj));
+    set_local_var(5, dude_tile);
     move_to(self_obj, 16690, 2);
     move_to(dude_obj, 16688, 2);
-    anim(self_obj, 1000, rotation_to_tile(tile_num(self_obj), tile_num(dude_obj)));
-    anim(dude_obj, 1000, rotation_to_tile(tile_num(dude_obj), tile_num(self_obj)));
-    set_global_var(632, global_var(632) bwor 262144);
+    anim(self_obj, 1000, rotation_to_tile(tile_num(self_obj), dude_tile));
+    anim(dude_obj, 1000, rotation_to_tile(dude_tile, tile_num(self_obj)));
+    set_global_var(GVAR_PARTY_MEMBERS_HIDDEN, global_var(GVAR_PARTY_MEMBERS_HIDDEN) bwor 262144);
     if (party_member_obj(16777278)) then begin
-        if (has_trait(1, party_member_obj(16777278), 666)) then begin
+        if (obj_is_visible_flag(party_member_obj(16777278))) then begin
             debug_msg("set party member hidden: " + obj_name(party_member_obj(16777278)));
-            set_global_var(632, global_var(632) bwor 1);
+            set_global_var(GVAR_PARTY_MEMBERS_HIDDEN, global_var(GVAR_PARTY_MEMBERS_HIDDEN) bwor 1);
             set_obj_visibility(party_member_obj(16777278), 1);
         end
         else begin
@@ -2133,9 +2133,9 @@ begin
         end
     end
     if (party_member_obj(16777376)) then begin
-        if (has_trait(1, party_member_obj(16777376), 666)) then begin
+        if (obj_is_visible_flag(party_member_obj(16777376))) then begin
             debug_msg("set party member hidden: " + obj_name(party_member_obj(16777376)));
-            set_global_var(632, global_var(632) bwor 2);
+            set_global_var(GVAR_PARTY_MEMBERS_HIDDEN, global_var(GVAR_PARTY_MEMBERS_HIDDEN) bwor 2);
             set_obj_visibility(party_member_obj(16777376), 1);
         end
         else begin
@@ -2143,9 +2143,9 @@ begin
         end
     end
     if (party_member_obj(16777377)) then begin
-        if (has_trait(1, party_member_obj(16777377), 666)) then begin
+        if (obj_is_visible_flag(party_member_obj(16777377))) then begin
             debug_msg("set party member hidden: " + obj_name(party_member_obj(16777377)));
-            set_global_var(632, global_var(632) bwor 4);
+            set_global_var(GVAR_PARTY_MEMBERS_HIDDEN, global_var(GVAR_PARTY_MEMBERS_HIDDEN) bwor 4);
             set_obj_visibility(party_member_obj(16777377), 1);
         end
         else begin
@@ -2153,9 +2153,9 @@ begin
         end
     end
     if (party_member_obj(16777305)) then begin
-        if (has_trait(1, party_member_obj(16777305), 666)) then begin
+        if (obj_is_visible_flag(party_member_obj(16777305))) then begin
             debug_msg("set party member hidden: " + obj_name(party_member_obj(16777305)));
-            set_global_var(632, global_var(632) bwor 8);
+            set_global_var(GVAR_PARTY_MEMBERS_HIDDEN, global_var(GVAR_PARTY_MEMBERS_HIDDEN) bwor 8);
             set_obj_visibility(party_member_obj(16777305), 1);
         end
         else begin
@@ -2163,9 +2163,9 @@ begin
         end
     end
     if (party_member_obj(16777313)) then begin
-        if (has_trait(1, party_member_obj(16777313), 666)) then begin
+        if (obj_is_visible_flag(party_member_obj(16777313))) then begin
             debug_msg("set party member hidden: " + obj_name(party_member_obj(16777313)));
-            set_global_var(632, global_var(632) bwor 16);
+            set_global_var(GVAR_PARTY_MEMBERS_HIDDEN, global_var(GVAR_PARTY_MEMBERS_HIDDEN) bwor 16);
             set_obj_visibility(party_member_obj(16777313), 1);
         end
         else begin
@@ -2173,9 +2173,9 @@ begin
         end
     end
     if (party_member_obj(16777323)) then begin
-        if (has_trait(1, party_member_obj(16777323), 666)) then begin
+        if (obj_is_visible_flag(party_member_obj(16777323))) then begin
             debug_msg("set party member hidden: " + obj_name(party_member_obj(16777323)));
-            set_global_var(632, global_var(632) bwor 32);
+            set_global_var(GVAR_PARTY_MEMBERS_HIDDEN, global_var(GVAR_PARTY_MEMBERS_HIDDEN) bwor 32);
             set_obj_visibility(party_member_obj(16777323), 1);
         end
         else begin
@@ -2183,9 +2183,9 @@ begin
         end
     end
     if (party_member_obj(16777352)) then begin
-        if (has_trait(1, party_member_obj(16777352), 666)) then begin
+        if (obj_is_visible_flag(party_member_obj(16777352))) then begin
             debug_msg("set party member hidden: " + obj_name(party_member_obj(16777352)));
-            set_global_var(632, global_var(632) bwor 64);
+            set_global_var(GVAR_PARTY_MEMBERS_HIDDEN, global_var(GVAR_PARTY_MEMBERS_HIDDEN) bwor 64);
             set_obj_visibility(party_member_obj(16777352), 1);
         end
         else begin
@@ -2193,9 +2193,9 @@ begin
         end
     end
     if (party_member_obj(16777378)) then begin
-        if (has_trait(1, party_member_obj(16777378), 666)) then begin
+        if (obj_is_visible_flag(party_member_obj(16777378))) then begin
             debug_msg("set party member hidden: " + obj_name(party_member_obj(16777378)));
-            set_global_var(632, global_var(632) bwor 128);
+            set_global_var(GVAR_PARTY_MEMBERS_HIDDEN, global_var(GVAR_PARTY_MEMBERS_HIDDEN) bwor 128);
             set_obj_visibility(party_member_obj(16777378), 1);
         end
         else begin
@@ -2203,9 +2203,9 @@ begin
         end
     end
     if (party_member_obj(16777368)) then begin
-        if (has_trait(1, party_member_obj(16777368), 666)) then begin
+        if (obj_is_visible_flag(party_member_obj(16777368))) then begin
             debug_msg("set party member hidden: " + obj_name(party_member_obj(16777368)));
-            set_global_var(632, global_var(632) bwor 256);
+            set_global_var(GVAR_PARTY_MEMBERS_HIDDEN, global_var(GVAR_PARTY_MEMBERS_HIDDEN) bwor 256);
             set_obj_visibility(party_member_obj(16777368), 1);
         end
         else begin
@@ -2213,9 +2213,9 @@ begin
         end
     end
     if (party_member_obj(16777379)) then begin
-        if (has_trait(1, party_member_obj(16777379), 666)) then begin
+        if (obj_is_visible_flag(party_member_obj(16777379))) then begin
             debug_msg("set party member hidden: " + obj_name(party_member_obj(16777379)));
-            set_global_var(632, global_var(632) bwor 512);
+            set_global_var(GVAR_PARTY_MEMBERS_HIDDEN, global_var(GVAR_PARTY_MEMBERS_HIDDEN) bwor 512);
             set_obj_visibility(party_member_obj(16777379), 1);
         end
         else begin
@@ -2223,9 +2223,9 @@ begin
         end
     end
     if (party_member_obj(16777380)) then begin
-        if (has_trait(1, party_member_obj(16777380), 666)) then begin
+        if (obj_is_visible_flag(party_member_obj(16777380))) then begin
             debug_msg("set party member hidden: " + obj_name(party_member_obj(16777380)));
-            set_global_var(632, global_var(632) bwor 1024);
+            set_global_var(GVAR_PARTY_MEMBERS_HIDDEN, global_var(GVAR_PARTY_MEMBERS_HIDDEN) bwor 1024);
             set_obj_visibility(party_member_obj(16777380), 1);
         end
         else begin
@@ -2233,9 +2233,9 @@ begin
         end
     end
     if (party_member_obj(16777295)) then begin
-        if (has_trait(1, party_member_obj(16777295), 666)) then begin
+        if (obj_is_visible_flag(party_member_obj(16777295))) then begin
             debug_msg("set party member hidden: " + obj_name(party_member_obj(16777295)));
-            set_global_var(632, global_var(632) bwor 2048);
+            set_global_var(GVAR_PARTY_MEMBERS_HIDDEN, global_var(GVAR_PARTY_MEMBERS_HIDDEN) bwor 2048);
             set_obj_visibility(party_member_obj(16777295), 1);
         end
         else begin
@@ -2243,9 +2243,9 @@ begin
         end
     end
     if (party_member_obj(16777558)) then begin
-        if (has_trait(1, party_member_obj(16777558), 666)) then begin
+        if (obj_is_visible_flag(party_member_obj(16777558))) then begin
             debug_msg("set party member hidden: " + obj_name(party_member_obj(16777558)));
-            set_global_var(632, global_var(632) bwor 4096);
+            set_global_var(GVAR_PARTY_MEMBERS_HIDDEN, global_var(GVAR_PARTY_MEMBERS_HIDDEN) bwor 4096);
             set_obj_visibility(party_member_obj(16777558), 1);
         end
         else begin
@@ -2253,9 +2253,9 @@ begin
         end
     end
     if (party_member_obj(16777600)) then begin
-        if (has_trait(1, party_member_obj(16777600), 666)) then begin
+        if (obj_is_visible_flag(party_member_obj(16777600))) then begin
             debug_msg("set party member hidden: " + obj_name(party_member_obj(16777600)));
-            set_global_var(632, global_var(632) bwor 8192);
+            set_global_var(GVAR_PARTY_MEMBERS_HIDDEN, global_var(GVAR_PARTY_MEMBERS_HIDDEN) bwor 8192);
             set_obj_visibility(party_member_obj(16777600), 1);
         end
         else begin
@@ -2263,9 +2263,9 @@ begin
         end
     end
     if (party_member_obj(16777687)) then begin
-        if (has_trait(1, party_member_obj(16777687), 666)) then begin
+        if (obj_is_visible_flag(party_member_obj(16777687))) then begin
             debug_msg("set party member hidden: " + obj_name(party_member_obj(16777687)));
-            set_global_var(632, global_var(632) bwor 16384);
+            set_global_var(GVAR_PARTY_MEMBERS_HIDDEN, global_var(GVAR_PARTY_MEMBERS_HIDDEN) bwor 16384);
             set_obj_visibility(party_member_obj(16777687), 1);
         end
         else begin
@@ -2273,9 +2273,9 @@ begin
         end
     end
     if (party_member_obj(16777597)) then begin
-        if (has_trait(1, party_member_obj(16777597), 666)) then begin
+        if (obj_is_visible_flag(party_member_obj(16777597))) then begin
             debug_msg("set party member hidden: " + obj_name(party_member_obj(16777597)));
-            set_global_var(632, global_var(632) bwor 32768);
+            set_global_var(GVAR_PARTY_MEMBERS_HIDDEN, global_var(GVAR_PARTY_MEMBERS_HIDDEN) bwor 32768);
             set_obj_visibility(party_member_obj(16777597), 1);
         end
         else begin
@@ -2283,9 +2283,9 @@ begin
         end
     end
     if (party_member_obj(16777596)) then begin
-        if (has_trait(1, party_member_obj(16777596), 666)) then begin
+        if (obj_is_visible_flag(party_member_obj(16777596))) then begin
             debug_msg("set party member hidden: " + obj_name(party_member_obj(16777596)));
-            set_global_var(632, global_var(632) bwor 65536);
+            set_global_var(GVAR_PARTY_MEMBERS_HIDDEN, global_var(GVAR_PARTY_MEMBERS_HIDDEN) bwor 65536);
             set_obj_visibility(party_member_obj(16777596), 1);
         end
         else begin
@@ -2293,9 +2293,9 @@ begin
         end
     end
     if (party_member_obj(16777595)) then begin
-        if (has_trait(1, party_member_obj(16777595), 666)) then begin
+        if (obj_is_visible_flag(party_member_obj(16777595))) then begin
             debug_msg("set party member hidden: " + obj_name(party_member_obj(16777595)));
-            set_global_var(632, global_var(632) bwor 131072);
+            set_global_var(GVAR_PARTY_MEMBERS_HIDDEN, global_var(GVAR_PARTY_MEMBERS_HIDDEN) bwor 131072);
             set_obj_visibility(party_member_obj(16777595), 1);
         end
         else begin
@@ -2304,7 +2304,7 @@ begin
     end
     last_timed_obj := self_obj;
     last_timed_param := last_timed_param;
-    metarule3(100, self_obj, 31, 0);
+    rm_fixed_timer_event(self_obj, 31);
     add_timer_event(self_obj, 6, 31);
 end
 
@@ -2316,7 +2316,7 @@ end
 
 procedure Node988
 begin
-    if ((((global_var(263) bwand 2048) != 0) == 0) and ((get_critter_stat(dude_obj, 3) > 5) or (get_critter_stat(dude_obj, 0) > 5))) then begin
+    if ((((global_var(GVAR_NEW_RENO_MRS_BISHOP) bwand 2048) != 0) == 0) and ((dude_charisma > 5) or (dude_strength > 5))) then begin
         call Node024();
     end
 end
@@ -2325,8 +2325,8 @@ procedure Node987
 begin
     game_ui_disable;
     gfade_out(10);
-    set_global_var(263, global_var(263) bwor 2048);
-    if (get_critter_stat(dude_obj, 34) == 0) then begin
+    set_global_var(GVAR_NEW_RENO_MRS_BISHOP, global_var(GVAR_NEW_RENO_MRS_BISHOP) bwor 2048);
+    if (dude_gender == 0) then begin
         if (obj_is_carrying_obj_pid(dude_obj, 314) > 0) then begin
             removed_qty := obj_is_carrying_obj_pid(dude_obj, 314);
             if (1 < removed_qty) then begin
@@ -2346,7 +2346,7 @@ begin
                     end
                     else begin
                         if ((critter_inven_obj(dude_obj, 2) == restock_obj) or (critter_inven_obj(dude_obj, 1) == restock_obj)) then begin
-                            metarule(43, dude_obj);
+                            inven_unwield(dude_obj);
                         end
                     end
                 end
@@ -2376,7 +2376,7 @@ begin
                         end
                         else begin
                             if ((critter_inven_obj(dude_obj, 2) == restock_obj) or (critter_inven_obj(dude_obj, 1) == restock_obj)) then begin
-                                metarule(43, dude_obj);
+                                inven_unwield(dude_obj);
                             end
                         end
                     end
@@ -2406,7 +2406,7 @@ begin
                             end
                             else begin
                                 if ((critter_inven_obj(dude_obj, 2) == restock_obj) or (critter_inven_obj(dude_obj, 1) == restock_obj)) then begin
-                                    metarule(43, dude_obj);
+                                    inven_unwield(dude_obj);
                                 end
                             end
                         end
@@ -2417,27 +2417,27 @@ begin
                     restock_amt := 0;
                 end
                 else begin
-                    set_global_var(263, global_var(263) bwor 256);
+                    set_global_var(GVAR_NEW_RENO_MRS_BISHOP, global_var(GVAR_NEW_RENO_MRS_BISHOP) bwor 256);
                 end
             end
         end
     end
-    game_time_advance(get_critter_stat(dude_obj, 2) * random(4, 8) * (60 * 10));
-    set_global_var(194, global_var(194) + (((((get_critter_stat(dude_obj, 3) * 50) + (get_critter_stat(dude_obj, 2) * 25) + (get_critter_stat(dude_obj, 5) * 13) + (get_critter_stat(dude_obj, 0) * 12)) / 100) + (has_trait(0, dude_obj, 94) * 2) + has_trait(2, dude_obj, 13) + (((global_var(194) >= 100) or (global_var(232) > 0)) * 2 * (dude_obj == dude_obj))) * 1));
-    if (global_var(358) >= 9) then begin
-        set_global_var(588, 1);
+    game_time_advance(dude_endurance * random(4, 8) * (60 * 10));
+    set_global_var(GVAR_PLAYER_SEX_LEVEL, global_var(194) + (((((dude_charisma * 50) + (dude_endurance * 25) + (get_critter_stat(dude_obj, STAT_ag) * 13) + (dude_strength * 12)) / 100) + (has_trait(TRAIT_PERK, dude_obj, PERK_kama_sutra_perk) * 2) + has_trait(2, dude_obj, 13) + (((global_var(GVAR_PLAYER_SEX_LEVEL) >= 100) or (global_var(GVAR_NEW_RENO_PORN_STAR) > 0)) * 2 * (dude_obj == dude_obj))) * 1));
+    if (global_var(GVAR_SEX_COUNTER) >= 9) then begin
+        set_global_var(GVAR_SEXPERT, 1);
     end
-    if (((((get_critter_stat(dude_obj, 3) * 50) + (get_critter_stat(dude_obj, 2) * 25) + (get_critter_stat(dude_obj, 5) * 13) + (get_critter_stat(dude_obj, 0) * 12)) / 100) + (has_trait(0, dude_obj, 94) * 2) + has_trait(2, dude_obj, 13) + (((global_var(194) >= 100) or (global_var(232) > 0)) * 2 * (dude_obj == dude_obj))) >= 9) then begin
-        set_global_var(589, 1);
+    if (((((dude_charisma * 50) + (dude_endurance * 25) + (get_critter_stat(dude_obj, STAT_ag) * 13) + (dude_strength * 12)) / 100) + (has_trait(TRAIT_PERK, dude_obj, PERK_kama_sutra_perk) * 2) + has_trait(2, dude_obj, 13) + (((global_var(GVAR_PLAYER_SEX_LEVEL) >= 100) or (global_var(GVAR_NEW_RENO_PORN_STAR) > 0)) * 2 * (dude_obj == dude_obj))) >= 9) then begin
+        set_global_var(GVAR_GIGALO, 1);
     end
-    set_global_var(358, global_var(358) + 1);
+    set_global_var(GVAR_SEX_COUNTER, global_var(GVAR_SEX_COUNTER) + 1);
     debug_msg("putting mrs bishop in bed");
     move_to(self_obj, 15891, 2);
     reg_anim_func(2, self_obj);
     anim(self_obj, 1000, 2);
     anim(self_obj, 48, 0);
-    if ((get_critter_stat(dude_obj, 4) <= 3) == 0) then begin
-        if (((((get_critter_stat(dude_obj, 3) * 50) + (get_critter_stat(dude_obj, 2) * 25) + (get_critter_stat(dude_obj, 5) * 13) + (get_critter_stat(dude_obj, 0) * 12)) / 100) + (has_trait(0, dude_obj, 94) * 2) + has_trait(2, dude_obj, 13) + (((global_var(194) >= 100) or (global_var(232) > 0)) * 2 * (dude_obj == dude_obj))) > 3) then begin
+    if ((dude_is_stupid) == 0) then begin
+        if (((((dude_charisma * 50) + (dude_endurance * 25) + (get_critter_stat(dude_obj, STAT_ag) * 13) + (dude_strength * 12)) / 100) + (has_trait(TRAIT_PERK, dude_obj, PERK_kama_sutra_perk) * 2) + has_trait(2, dude_obj, 13) + (((global_var(GVAR_PLAYER_SEX_LEVEL) >= 100) or (global_var(GVAR_NEW_RENO_PORN_STAR) > 0)) * 2 * (dude_obj == dude_obj))) > 3) then begin
             debug_msg("putting DUDE IN mrs bishop bed");
             anim(dude_obj, 1000, 2);
             anim(dude_obj, 48, 0);
@@ -2445,7 +2445,7 @@ begin
         end
         last_timed_obj := self_obj;
         last_timed_param := last_timed_param;
-        metarule3(100, self_obj, 37, 0);
+        rm_fixed_timer_event(self_obj, 37);
         add_timer_event(self_obj, 5, 37);
     end
     else begin
@@ -2467,7 +2467,7 @@ end
 
 procedure Node985
 begin
-    if (((((get_critter_stat(dude_obj, 3) * 50) + (get_critter_stat(dude_obj, 2) * 25) + (get_critter_stat(dude_obj, 5) * 13) + (get_critter_stat(dude_obj, 0) * 12)) / 100) + (has_trait(0, dude_obj, 94) * 2) + has_trait(2, dude_obj, 13) + (((global_var(194) >= 100) or (global_var(232) > 0)) * 2 * (dude_obj == dude_obj))) > 7) then begin
+    if (((((dude_charisma * 50) + (dude_endurance * 25) + (get_critter_stat(dude_obj, STAT_ag) * 13) + (dude_strength * 12)) / 100) + (has_trait(TRAIT_PERK, dude_obj, PERK_kama_sutra_perk) * 2) + has_trait(2, dude_obj, 13) + (((global_var(GVAR_PLAYER_SEX_LEVEL) >= 100) or (global_var(GVAR_NEW_RENO_PORN_STAR) > 0)) * 2 * (dude_obj == dude_obj))) > 7) then begin
         call Node141();
     end
     else begin
@@ -2481,9 +2481,8 @@ begin
     gfade_out(10);
     move_to(self_obj, local_var(8), local_var(10));
     move_to(dude_obj, local_var(5), local_var(10));
-    anim(self_obj, 1000, rotation_to_tile(tile_num(self_obj), tile_num(dude_obj)));
-    anim(dude_obj, 1000, rotation_to_tile(tile_num(dude_obj), tile_num(self_obj)));
+    anim(self_obj, 1000, rotation_to_tile(tile_num(self_obj), dude_tile));
+    anim(dude_obj, 1000, rotation_to_tile(dude_tile, tile_num(self_obj)));
     game_ui_enable;
     gfade_in(10);
 end
-
