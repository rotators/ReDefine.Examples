diff --git a/Games/Fallout2.Steam/Original/BHRNDDST.ssl b/Games/Fallout2.Steam/ReDefine/BHRNDDST.ssl
index c1a9e41..3668364 100644
--- a/Games/Fallout2.Steam/Original/BHRNDDST.ssl
+++ b/Games/Fallout2.Steam/ReDefine/BHRNDDST.ssl
@@ -225,31 +225,31 @@ end
 procedure map_enter_p_proc
 begin
     variable LVar0 := 0;
-    if (metarule(14, 0)) then begin
+    if (map_first_run) then begin
         Combat1 := 0;
         Combat2 := 0;
         set_map_var(1, 0);
-        if (global_var(339) == 4) then begin
+        if (global_var(GVAR_MEDICINE_CARAVAN) == 4) then begin
             call Redding_Caravan();
             debug_msg("Redding Medicine Caravan.");
         end
         else begin
-            if (global_var(338) == 4) then begin
+            if (global_var(GVAR_CATTLE_DRIVE_CARAVAN) == 4) then begin
                 call Redding_Caravan();
                 debug_msg("Redding Cattle Drive.");
             end
             else begin
-                if (global_var(340) == 4) then begin
+                if (global_var(GVAR_JET_CARAVAN) == 4) then begin
                     call Redding_Caravan();
                     debug_msg("Redding Jet Caravan.");
                 end
                 else begin
-                    if (global_var(330) == 2) then begin
+                    if (global_var(GVAR_BH_CARAVAN) == 2) then begin
                         call Broken_Hills_Caravan();
                         debug_msg("Broken Hills Caravan.");
                     end
                     else begin
-                        if ((global_var(266) bwand 16) != 0) then begin
+                        if ((global_var(GVAR_NCR_CATTLE_DRIVE) bwand 16) != 0) then begin
                             call NCR_Cattle_Drive();
                             debug_msg("NCR Cattle Drive.");
                         end
@@ -261,9 +261,9 @@ begin
                 end
             end
         end
-        LVar0 := global_var(283) - global_var(275);
-        debug_msg("Total Encounters == " + global_var(283) + ". Encounters Left == " + global_var(275) + ". On Encounter " + LVar0);
-        set_global_var(275, global_var(275) - 1);
+        LVar0 := global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) - global_var(GVAR_CARAVAN_ENCOUNTERS);
+        debug_msg("Total Encounters == " + global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) + ". Encounters Left == " + global_var(GVAR_CARAVAN_ENCOUNTERS) + ". On Encounter " + LVar0);
+        set_global_var(GVAR_CARAVAN_ENCOUNTERS, global_var(GVAR_CARAVAN_ENCOUNTERS) - 1);
         if ((Combat1 != 0) and (Combat2 != 0)) then begin
             attack_setup(Combat1, Combat2);
             debug_msg("Having " + Combat1 + " fighting " + Combat2 + ".");
@@ -345,7 +345,7 @@ begin
             end
         end
     end
-    set_global_var(27, 0);
+    set_global_var(GVAR_LOAD_MAP_INDEX, 0);
 end
 
 procedure map_update_p_proc
@@ -429,45 +429,45 @@ begin
         end
     end
     if (map_var(1) == 0) then begin
-        if (global_var(275) == 0) then begin
-            debug_msg("Caravan_End == " + global_var(271));
-            if (global_var(271) == 1) then begin
+        if (global_var(GVAR_CARAVAN_ENCOUNTERS) == 0) then begin
+            debug_msg("Caravan_End == " + global_var(GVAR_CARAVAN_END));
+            if (global_var(GVAR_CARAVAN_END) == 1) then begin
                 set_exit_grids(0, 65, 0, 25494, 0);
             end
             else begin
-                if (global_var(271) == 2) then begin
+                if (global_var(GVAR_CARAVAN_END) == 2) then begin
                     set_exit_grids(0, 15, 0, 27704, 0);
                 end
                 else begin
-                    if (global_var(271) == 3) then begin
+                    if (global_var(GVAR_CARAVAN_END) == 3) then begin
                         set_exit_grids(0, 54, 0, 27306, 0);
                     end
                     else begin
-                        if (global_var(271) == 4) then begin
+                        if (global_var(GVAR_CARAVAN_END) == 4) then begin
                             set_exit_grids(0, 46, 0, 18467, 0);
                         end
                         else begin
-                            if (global_var(271) == 5) then begin
+                            if (global_var(GVAR_CARAVAN_END) == 5) then begin
                                 set_exit_grids(0, 6, 0, 22097, 0);
                             end
                             else begin
-                                if (global_var(271) == 6) then begin
+                                if (global_var(GVAR_CARAVAN_END) == 6) then begin
                                     set_exit_grids(0, 78, 0, 22097, 0);
                                 end
                                 else begin
-                                    if (global_var(271) == 7) then begin
+                                    if (global_var(GVAR_CARAVAN_END) == 7) then begin
                                         set_exit_grids(0, 31, 0, 22901, 0);
                                     end
                                     else begin
-                                        if (global_var(271) == 8) then begin
+                                        if (global_var(GVAR_CARAVAN_END) == 8) then begin
                                             set_exit_grids(0, 137, 0, 22097, 0);
                                         end
                                         else begin
-                                            if (global_var(271) == 9) then begin
+                                            if (global_var(GVAR_CARAVAN_END) == 9) then begin
                                                 set_exit_grids(0, 18, 0, 22097, 0);
                                             end
                                             else begin
-                                                if (global_var(271) == 10) then begin
+                                                if (global_var(GVAR_CARAVAN_END) == 10) then begin
                                                     set_exit_grids(0, 9, 0, 22097, 0);
                                                 end
                                             end
@@ -479,24 +479,24 @@ begin
                     end
                 end
             end
-            if (global_var(339) == 3) then begin
-                set_global_var(339, 7);
+            if (global_var(GVAR_MEDICINE_CARAVAN) == 3) then begin
+                set_global_var(GVAR_MEDICINE_CARAVAN, 7);
             end
             else begin
-                if (global_var(338) == 3) then begin
-                    set_global_var(338, 7);
+                if (global_var(GVAR_CATTLE_DRIVE_CARAVAN) == 3) then begin
+                    set_global_var(GVAR_CATTLE_DRIVE_CARAVAN, 7);
                 end
                 else begin
-                    if (global_var(340) == 3) then begin
-                        set_global_var(340, 7);
+                    if (global_var(GVAR_JET_CARAVAN) == 3) then begin
+                        set_global_var(GVAR_JET_CARAVAN, 7);
                     end
                     else begin
-                        if ((global_var(266) bwand 64) != 0) then begin
-                            set_global_var(266, global_var(266) bwand (-1 - 64));
+                        if ((global_var(GVAR_NCR_CATTLE_DRIVE) bwand 64) != 0) then begin
+                            set_global_var(GVAR_NCR_CATTLE_DRIVE, global_var(GVAR_NCR_CATTLE_DRIVE) bwand (-1 - 64));
                         end
                         else begin
-                            if (global_var(330) == 5) then begin
-                                set_global_var(330, 3);
+                            if (global_var(GVAR_BH_CARAVAN) == 5) then begin
+                                set_global_var(GVAR_BH_CARAVAN, 3);
                             end
                         end
                     end
@@ -508,24 +508,24 @@ begin
             LVar0 := tile_num_in_direction(22097, LVar1, random(3, 8));
             set_exit_grids(0, 94, 0, LVar0, LVar1);
         end
-        if (global_var(339) == 3) then begin
-            set_global_var(339, 4);
+        if (global_var(GVAR_MEDICINE_CARAVAN) == 3) then begin
+            set_global_var(GVAR_MEDICINE_CARAVAN, 4);
         end
         else begin
-            if (global_var(338) == 3) then begin
-                set_global_var(338, 4);
+            if (global_var(GVAR_CATTLE_DRIVE_CARAVAN) == 3) then begin
+                set_global_var(GVAR_CATTLE_DRIVE_CARAVAN, 4);
             end
             else begin
-                if (global_var(340) == 3) then begin
-                    set_global_var(340, 4);
+                if (global_var(GVAR_JET_CARAVAN) == 3) then begin
+                    set_global_var(GVAR_JET_CARAVAN, 4);
                 end
                 else begin
-                    if ((global_var(266) bwand 64) != 0) then begin
-                        set_global_var(266, global_var(266) bwor 16);
+                    if ((global_var(GVAR_NCR_CATTLE_DRIVE) bwand 64) != 0) then begin
+                        set_global_var(GVAR_NCR_CATTLE_DRIVE, global_var(GVAR_NCR_CATTLE_DRIVE) bwor 16);
                     end
                     else begin
-                        if (global_var(330) == 5) then begin
-                            set_global_var(330, 2);
+                        if (global_var(GVAR_BH_CARAVAN) == 5) then begin
+                            set_global_var(GVAR_BH_CARAVAN, 2);
                         end
                     end
                 end
@@ -534,16 +534,16 @@ begin
     end
     else begin
         set_exit_grids(0, -2, 0, 20100, 0);
-        metarule3(101, metarule(44, 0), metarule(45, 0), 1);
+        mark_world_subtile_visited(worldmap_xpos, worldmap_ypos, 1);
     end
 end
 
 procedure map_exit_p_proc
 begin
     variable LVar0 := 0;
-    if (global_var(275) == 0) then begin
-        if (global_var(271) == 1) then begin
-            if (global_var(270) == 4) then begin
+    if (global_var(GVAR_CARAVAN_ENCOUNTERS) == 0) then begin
+        if (global_var(GVAR_CARAVAN_END) == 1) then begin
+            if (global_var(GVAR_CARAVAN_START) == 4) then begin
                 LVar0 := 3 + (11 - get_day);
                 if (LVar0 > 0) then begin
                     game_time_advance(LVar0 * (24 * (60 * (60 * 10))));
@@ -553,7 +553,7 @@ begin
                 end
             end
             else begin
-                if (global_var(270) == 3) then begin
+                if (global_var(GVAR_CARAVAN_START) == 3) then begin
                     LVar0 := 10 - get_day;
                     if (LVar0 > 0) then begin
                         game_time_advance(LVar0 * (24 * (60 * (60 * 10))));
@@ -574,7 +574,7 @@ begin
             end
         end
         else begin
-            if (global_var(271) == 2) then begin
+            if (global_var(GVAR_CARAVAN_END) == 2) then begin
                 LVar0 := 26 - get_day;
                 if (LVar0 > 0) then begin
                     game_time_advance(LVar0 * (24 * (60 * (60 * 10))));
@@ -584,7 +584,7 @@ begin
                 end
             end
             else begin
-                if (global_var(271) == 3) then begin
+                if (global_var(GVAR_CARAVAN_END) == 3) then begin
                     LVar0 := 10 - get_day;
                     if (LVar0 > 0) then begin
                         game_time_advance(LVar0 * (24 * (60 * (60 * 10))));
@@ -594,7 +594,7 @@ begin
                     end
                 end
                 else begin
-                    if (global_var(271) == 4) then begin
+                    if (global_var(GVAR_CARAVAN_END) == 4) then begin
                         LVar0 := 3 + (11 - get_day);
                         if (LVar0 > 0) then begin
                             game_time_advance(LVar0 * (24 * (60 * (60 * 10))));
@@ -604,22 +604,22 @@ begin
                         end
                     end
                     else begin
-                        if (global_var(271) == 5) then begin
+                        if (global_var(GVAR_CARAVAN_END) == 5) then begin
                         end
                         else begin
-                            if (global_var(271) == 6) then begin
+                            if (global_var(GVAR_CARAVAN_END) == 6) then begin
                             end
                             else begin
-                                if (global_var(271) == 7) then begin
+                                if (global_var(GVAR_CARAVAN_END) == 7) then begin
                                 end
                                 else begin
-                                    if (global_var(271) == 8) then begin
+                                    if (global_var(GVAR_CARAVAN_END) == 8) then begin
                                     end
                                     else begin
-                                        if (global_var(271) == 9) then begin
+                                        if (global_var(GVAR_CARAVAN_END) == 9) then begin
                                         end
                                         else begin
-                                            if (global_var(271) == 10) then begin
+                                            if (global_var(GVAR_CARAVAN_END) == 10) then begin
                                             end
                                         end
                                     end
@@ -636,22 +636,22 @@ end
 procedure Broken_Hills_Caravan
 begin
     call Build_Caravan_Team();
-    if (global_var(330) == 2) then begin
-        if (global_var(271) == 2) then begin
+    if (global_var(GVAR_BH_CARAVAN) == 2) then begin
+        if (global_var(GVAR_CARAVAN_END) == 2) then begin
             call Broken_VC_Encounters();
         end
         else begin
-            if (global_var(271) == 7) then begin
+            if (global_var(GVAR_CARAVAN_END) == 7) then begin
                 call Broken_Gecko_Encounters();
             end
             else begin
-                if (global_var(271) == 4) then begin
+                if (global_var(GVAR_CARAVAN_END) == 4) then begin
                     call Broken_NCR_Encounters();
                 end
             end
         end
         if (map_var(1) > 0) then begin
-            set_global_var(330, 5);
+            set_global_var(GVAR_BH_CARAVAN, 5);
         end
     end
 end
@@ -659,64 +659,64 @@ end
 procedure Broken_VC_Encounters
 begin
     variable LVar0 := 0;
-    LVar0 := global_var(283) - global_var(275);
-    if (global_var(283) == 1) then begin
+    LVar0 := global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) - global_var(GVAR_CARAVAN_ENCOUNTERS);
+    if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 1) then begin
         wm_area_set_pos(44, 1325 + random(-25, 25), 600 + random(-25, 25));
         set_exit_grids(0, -2, 0, 20100, 0);
         game_time_advance(7 * (24 * (60 * (60 * 10))));
-        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
             call Redding_EPA_Encounter();
         end
         else begin
-            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                 call Redding_Reno_Encounter();
             end
             else begin
-                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                     call Redding_SRNRRN_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                         call Broken_Hills_Brok_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                             call Broken_Hills_NCR_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                 call Redding_Band_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                     call Redding_Red_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                         call Broken_Hills_VPat_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                             call Redding_NRNR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                 call Redding_DNRV_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                     call Redding_DVMV_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                         call Broken_Hills_VNNB_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                             call Broken_Hills_RDRC_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                 call Redding_DMRV_Encounter();
                                                             end
                                                         end
@@ -734,64 +734,64 @@ begin
         end
     end
     else begin
-        if (global_var(283) == 2) then begin
+        if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 2) then begin
             if (LVar0 == 0) then begin
                 wm_area_set_pos(44, 1225 + random(-25, 25), 750 + random(-25, 25));
                 set_exit_grids(0, -2, 0, 20100, 0);
                 game_time_advance(3 * (24 * (60 * (60 * 10))));
-                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                     call Redding_EPA_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                         call Redding_Reno_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                             call Redding_SRNRRN_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                 call Broken_Hills_Brok_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                     call Broken_Hills_NCR_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                         call Redding_Band_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                             call Redding_Red_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                 call Broken_Hills_VPat_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                     call Redding_NRNR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                         call Redding_DNRV_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                             call Redding_DVMV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                 call Broken_Hills_VNNB_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                     call Broken_Hills_RDRC_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                         call Redding_DMRV_Encounter();
                                                                     end
                                                                 end
@@ -813,59 +813,59 @@ begin
                     wm_area_set_pos(44, 1300 + random(-25, 25), 400 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(8 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -885,64 +885,64 @@ begin
             end
         end
         else begin
-            if (global_var(283) == 3) then begin
+            if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 3) then begin
                 if (LVar0 == 0) then begin
                     wm_area_set_pos(44, 1200 + random(-25, 25), 800 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(2 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -964,59 +964,59 @@ begin
                         wm_area_set_pos(44, 1250 + random(-25, 25), 625 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(4 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -1038,59 +1038,59 @@ begin
                             wm_area_set_pos(44, 1300 + random(-25, 25), 400 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(5 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -1111,64 +1111,64 @@ begin
                 end
             end
             else begin
-                if (global_var(283) == 4) then begin
+                if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 4) then begin
                     if (LVar0 == 0) then begin
                         wm_area_set_pos(44, 1200 + random(-25, 25), 825 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(2 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -1190,59 +1190,59 @@ begin
                             wm_area_set_pos(44, 1250 + random(-25, 25), 700 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(3 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -1264,59 +1264,59 @@ begin
                                 wm_area_set_pos(44, 1300 + random(-25, 25), 500 + random(-25, 25));
                                 set_exit_grids(0, -2, 0, 20100, 0);
                                 game_time_advance(4 * (24 * (60 * (60 * 10))));
-                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                     call Redding_EPA_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                         call Redding_Reno_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                             call Redding_SRNRRN_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                 call Broken_Hills_Brok_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                     call Broken_Hills_NCR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                         call Redding_Band_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                             call Redding_Red_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                 call Broken_Hills_VPat_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                     call Redding_NRNR_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                         call Redding_DNRV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                             call Redding_DVMV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                 call Broken_Hills_VNNB_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                     call Broken_Hills_RDRC_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                         call Redding_DMRV_Encounter();
                                                                                     end
                                                                                 end
@@ -1338,59 +1338,59 @@ begin
                                     wm_area_set_pos(44, 1300 + random(-25, 25), 375 + random(-25, 25));
                                     set_exit_grids(0, -2, 0, 20100, 0);
                                     game_time_advance(3 * (24 * (60 * (60 * 10))));
-                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                         call Redding_EPA_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                             call Redding_Reno_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                                 call Redding_SRNRRN_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                     call Broken_Hills_Brok_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                         call Broken_Hills_NCR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                             call Redding_Band_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                                 call Redding_Red_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                     call Broken_Hills_VPat_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                         call Redding_NRNR_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                             call Redding_DNRV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                                 call Redding_DVMV_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                     call Broken_Hills_VNNB_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                         call Broken_Hills_RDRC_Encounter();
                                                                                     end
                                                                                     else begin
-                                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                             call Redding_DMRV_Encounter();
                                                                                         end
                                                                                     end
@@ -1419,64 +1419,64 @@ end
 procedure Broken_Gecko_Encounters
 begin
     variable LVar0 := 0;
-    LVar0 := global_var(283) - global_var(275);
-    if (global_var(283) == 1) then begin
+    LVar0 := global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) - global_var(GVAR_CARAVAN_ENCOUNTERS);
+    if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 1) then begin
         wm_area_set_pos(44, 1375 + random(-25, 25), 600 + random(-25, 25));
         set_exit_grids(0, -2, 0, 20100, 0);
         game_time_advance(7 * (24 * (60 * (60 * 10))));
-        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
             call Redding_EPA_Encounter();
         end
         else begin
-            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                 call Redding_Reno_Encounter();
             end
             else begin
-                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                     call Redding_SRNRRN_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                         call Broken_Hills_Brok_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                             call Broken_Hills_NCR_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                 call Redding_Band_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                     call Redding_Red_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                         call Broken_Hills_VPat_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                             call Redding_NRNR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                 call Redding_DNRV_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                     call Redding_DVMV_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                         call Broken_Hills_VNNB_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                             call Broken_Hills_RDRC_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                 call Redding_DMRV_Encounter();
                                                             end
                                                         end
@@ -1494,64 +1494,64 @@ begin
         end
     end
     else begin
-        if (global_var(283) == 2) then begin
+        if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 2) then begin
             if (LVar0 == 0) then begin
                 wm_area_set_pos(44, 1275 + random(-25, 25), 750 + random(-25, 25));
                 set_exit_grids(0, -2, 0, 20100, 0);
                 game_time_advance(3 * (24 * (60 * (60 * 10))));
-                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                     call Redding_EPA_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                         call Redding_Reno_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                             call Redding_SRNRRN_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                 call Broken_Hills_Brok_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                     call Broken_Hills_NCR_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                         call Redding_Band_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                             call Redding_Red_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                 call Broken_Hills_VPat_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                     call Redding_NRNR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                         call Redding_DNRV_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                             call Redding_DVMV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                 call Broken_Hills_VNNB_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                     call Broken_Hills_RDRC_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                         call Redding_DMRV_Encounter();
                                                                     end
                                                                 end
@@ -1573,59 +1573,59 @@ begin
                     wm_area_set_pos(44, 1325 + random(-25, 25), 475 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(8 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -1645,64 +1645,64 @@ begin
             end
         end
         else begin
-            if (global_var(283) == 3) then begin
+            if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 3) then begin
                 if (LVar0 == 0) then begin
                     wm_area_set_pos(44, 1250 + random(-25, 25), 800 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(2 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -1724,59 +1724,59 @@ begin
                         wm_area_set_pos(44, 1300 + random(-25, 25), 600 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(4 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -1798,59 +1798,59 @@ begin
                             wm_area_set_pos(44, 1350 + random(-25, 25), 350 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(5 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -1871,64 +1871,64 @@ begin
                 end
             end
             else begin
-                if (global_var(283) == 4) then begin
+                if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 4) then begin
                     if (LVar0 == 0) then begin
                         wm_area_set_pos(44, 1275 + random(-25, 25), 800 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(2 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -1950,59 +1950,59 @@ begin
                             wm_area_set_pos(44, 1250 + random(-25, 25), 700 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(3 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -2024,59 +2024,59 @@ begin
                                 wm_area_set_pos(44, 1300 + random(-25, 25), 500 + random(-25, 25));
                                 set_exit_grids(0, -2, 0, 20100, 0);
                                 game_time_advance(4 * (24 * (60 * (60 * 10))));
-                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                     call Redding_EPA_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                         call Redding_Reno_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                             call Redding_SRNRRN_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                 call Broken_Hills_Brok_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                     call Broken_Hills_NCR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                         call Redding_Band_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                             call Redding_Red_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                 call Broken_Hills_VPat_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                     call Redding_NRNR_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                         call Redding_DNRV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                             call Redding_DVMV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                 call Broken_Hills_VNNB_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                     call Broken_Hills_RDRC_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                         call Redding_DMRV_Encounter();
                                                                                     end
                                                                                 end
@@ -2098,59 +2098,59 @@ begin
                                     wm_area_set_pos(44, 1275 + random(-25, 25), 300 + random(-25, 25));
                                     set_exit_grids(0, -2, 0, 20100, 0);
                                     game_time_advance(3 * (24 * (60 * (60 * 10))));
-                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                         call Redding_EPA_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                             call Redding_Reno_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                                 call Redding_SRNRRN_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                     call Broken_Hills_Brok_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                         call Broken_Hills_NCR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                             call Redding_Band_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                                 call Redding_Red_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                     call Broken_Hills_VPat_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                         call Redding_NRNR_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                             call Redding_DNRV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                                 call Redding_DVMV_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                     call Broken_Hills_VNNB_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                         call Broken_Hills_RDRC_Encounter();
                                                                                     end
                                                                                     else begin
-                                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                             call Redding_DMRV_Encounter();
                                                                                         end
                                                                                     end
@@ -2179,64 +2179,64 @@ end
 procedure Broken_NCR_Encounters
 begin
     variable LVar0 := 0;
-    LVar0 := global_var(283) - global_var(275);
-    if (global_var(283) == 1) then begin
+    LVar0 := global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) - global_var(GVAR_CARAVAN_ENCOUNTERS);
+    if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 1) then begin
         wm_area_set_pos(44, 1125 + random(-25, 25), 1200 + random(-25, 25));
         set_exit_grids(0, -2, 0, 20100, 0);
         game_time_advance(7 * (24 * (60 * (60 * 10))));
-        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
             call Redding_EPA_Encounter();
         end
         else begin
-            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                 call Redding_Reno_Encounter();
             end
             else begin
-                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                     call Redding_SRNRRN_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                         call Broken_Hills_Brok_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                             call Broken_Hills_NCR_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                 call Redding_Band_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                     call Redding_Red_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                         call Broken_Hills_VPat_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                             call Redding_NRNR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                 call Redding_DNRV_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                     call Redding_DVMV_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                         call Broken_Hills_VNNB_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                             call Broken_Hills_RDRC_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                 call Redding_DMRV_Encounter();
                                                             end
                                                         end
@@ -2254,64 +2254,64 @@ begin
         end
     end
     else begin
-        if (global_var(283) == 2) then begin
+        if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 2) then begin
             if (LVar0 == 0) then begin
                 wm_area_set_pos(44, 1125 + random(-25, 25), 1075 + random(-25, 25));
                 set_exit_grids(0, -2, 0, 20100, 0);
                 game_time_advance(4 * (24 * (60 * (60 * 10))));
-                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                     call Redding_EPA_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                         call Redding_Reno_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                             call Redding_SRNRRN_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                 call Broken_Hills_Brok_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                     call Broken_Hills_NCR_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                         call Redding_Band_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                             call Redding_Red_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                 call Broken_Hills_VPat_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                     call Redding_NRNR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                         call Redding_DNRV_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                             call Redding_DVMV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                 call Broken_Hills_VNNB_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                     call Broken_Hills_RDRC_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                         call Redding_DMRV_Encounter();
                                                                     end
                                                                 end
@@ -2333,59 +2333,59 @@ begin
                     wm_area_set_pos(44, 1125 + random(-25, 25), 1275 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(4 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -2405,64 +2405,64 @@ begin
             end
         end
         else begin
-            if (global_var(283) == 3) then begin
+            if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 3) then begin
                 if (LVar0 == 0) then begin
                     wm_area_set_pos(44, 1150 + random(-25, 25), 975 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(2 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -2484,59 +2484,59 @@ begin
                         wm_area_set_pos(44, 1125 + random(-25, 25), 1100 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(3 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -2558,59 +2558,59 @@ begin
                             wm_area_set_pos(44, 1125 + random(-25, 25), 1250 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(3 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -2631,64 +2631,64 @@ begin
                 end
             end
             else begin
-                if (global_var(283) == 4) then begin
+                if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 4) then begin
                     if (LVar0 == 0) then begin
                         wm_area_set_pos(44, 1175 + random(-25, 25), 950 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(3 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -2710,59 +2710,59 @@ begin
                             wm_area_set_pos(44, 1150 + random(-25, 25), 1100 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(2 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -2784,59 +2784,59 @@ begin
                                 wm_area_set_pos(44, 1125 + random(-25, 25), 1225 + random(-25, 25));
                                 set_exit_grids(0, -2, 0, 20100, 0);
                                 game_time_advance(3 * (24 * (60 * (60 * 10))));
-                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                     call Redding_EPA_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                         call Redding_Reno_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                             call Redding_SRNRRN_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                 call Broken_Hills_Brok_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                     call Broken_Hills_NCR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                         call Redding_Band_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                             call Redding_Red_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                 call Broken_Hills_VPat_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                     call Redding_NRNR_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                         call Redding_DNRV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                             call Redding_DVMV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                 call Broken_Hills_VNNB_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                     call Broken_Hills_RDRC_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                         call Redding_DMRV_Encounter();
                                                                                     end
                                                                                 end
@@ -2858,59 +2858,59 @@ begin
                                     wm_area_set_pos(44, 1125 + random(-25, 25), 1375 + random(-25, 25));
                                     set_exit_grids(0, -2, 0, 20100, 0);
                                     game_time_advance(2 * (24 * (60 * (60 * 10))));
-                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                         call Redding_EPA_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                             call Redding_Reno_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                                 call Redding_SRNRRN_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                     call Broken_Hills_Brok_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                         call Broken_Hills_NCR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                             call Redding_Band_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                                 call Redding_Red_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                     call Broken_Hills_VPat_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                         call Redding_NRNR_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                             call Redding_DNRV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                                 call Redding_DVMV_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                     call Broken_Hills_VNNB_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                         call Broken_Hills_RDRC_Encounter();
                                                                                     end
                                                                                     else begin
-                                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                             call Redding_DMRV_Encounter();
                                                                                         end
                                                                                     end
@@ -2942,42 +2942,42 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 10) then begin
         debug_msg("Brok_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 100));
+        display_mstr(100);
         Encounter_Counter := random(7, 10);
-        Encounter_Rotation := has_trait(1, dude_obj, 10);
+        Encounter_Rotation := obj_get_rot(dude_obj);
         call Brok_Rogues();
         Encounter_Counter := random(3, 5);
-        Encounter_Rotation := (has_trait(1, dude_obj, 10) + 3) % 6;
+        Encounter_Rotation := (obj_get_rot(dude_obj) + 3) % 6;
         call Red_Wolves();
     end
     else begin
         if (LVar0 < 30) then begin
             debug_msg("Brok_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 101));
+            display_mstr(101);
             Encounter_Counter := random(8, 12);
-            Encounter_Rotation := (has_trait(1, dude_obj, 10) + random(0, 3)) % 6;
+            Encounter_Rotation := (obj_get_rot(dude_obj) + random(0, 3)) % 6;
             call Brok_Rogues();
         end
         else begin
             if (LVar0 < 40) then begin
                 debug_msg("Brok_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 102));
+                display_mstr(102);
                 Encounter_Counter := random(6, 10);
-                Encounter_Rotation := (has_trait(1, dude_obj, 10) + 2) % 6;
+                Encounter_Rotation := (obj_get_rot(dude_obj) + 2) % 6;
                 call Red_Wolves();
             end
             else begin
                 if (LVar0 < 50) then begin
                     debug_msg("Brok_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 103));
+                    display_mstr(103);
                     Encounter_Counter := random(6, 12);
-                    Encounter_Rotation := has_trait(1, dude_obj, 10);
+                    Encounter_Rotation := obj_get_rot(dude_obj);
                     call DMRV_Scorpions();
                 end
                 else begin
                     if (LVar0 < 60) then begin
                         debug_msg("Brok_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 104));
+                        display_mstr(104);
                         Encounter_Counter := random(8, 14);
                         Encounter_Rotation := random(0, 5);
                         call ARRO_Spore_Plants();
@@ -2985,7 +2985,7 @@ begin
                     else begin
                         if (LVar0 < 70) then begin
                             debug_msg("Brok_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 105));
+                            display_mstr(105);
                             Encounter_Counter := random(6, 10);
                             Encounter_Rotation := random(3, 5);
                             call Brok_Unity_Patrol();
@@ -2998,7 +2998,7 @@ begin
                         else begin
                             if (LVar0 < 80) then begin
                                 debug_msg("Brok_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 106));
+                                display_mstr(106);
                                 Encounter_Counter := random(6, 10);
                                 Encounter_Rotation := random(0, 2);
                                 call Brok_Unity_Patrol();
@@ -3011,7 +3011,7 @@ begin
                             else begin
                                 if (LVar0 < 100) then begin
                                     debug_msg("Brok_Encounter Table, Encounter 07");
-                                    display_msg(message_str(680, 107));
+                                    display_mstr(107);
                                     Encounter_Counter := random(8, 14);
                                     Encounter_Rotation := random(0, 5);
                                     call ARRO_Spore_Plants();
@@ -3034,7 +3034,7 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 10) then begin
         debug_msg("VPat_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 150));
+        display_mstr(150);
         Encounter_Counter := random(4, 7);
         Encounter_Rotation := random(0, 5);
         call VPat_Strong_Slavers();
@@ -3045,15 +3045,15 @@ begin
     else begin
         if (LVar0 < 20) then begin
             debug_msg("VPat_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 151));
+            display_mstr(151);
             Encounter_Counter := random(6, 12);
-            Encounter_Rotation := has_trait(1, dude_obj, 10);
+            Encounter_Rotation := obj_get_rot(dude_obj);
             call VPat_Strong_Slavers();
         end
         else begin
             if (LVar0 < 30) then begin
                 debug_msg("VPat_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 152));
+                display_mstr(152);
                 Encounter_Counter := random(6, 12);
                 Encounter_Rotation := random(3, 5);
                 call DMRV_Golden_Geckos();
@@ -3061,7 +3061,7 @@ begin
             else begin
                 if (LVar0 < 40) then begin
                     debug_msg("VPat_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 153));
+                    display_mstr(153);
                     Encounter_Counter := random(8, 14);
                     Encounter_Rotation := random(0, 5);
                     call DVMV_Wild_Dogs();
@@ -3069,7 +3069,7 @@ begin
                 else begin
                     if (LVar0 < 50) then begin
                         debug_msg("VPat_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 154));
+                        display_mstr(154);
                         Encounter_Counter := random(3, 6);
                         Encounter_Rotation := random(0, 2);
                         call VPat_Patrol();
@@ -3085,33 +3085,33 @@ begin
                     else begin
                         if (LVar0 < 60) then begin
                             debug_msg("VPat_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 155));
+                            display_mstr(155);
                             Encounter_Counter := random(4, 7);
-                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                            Encounter_Rotation := obj_get_rot(dude_obj);
                             call VPat_Strong_Slavers();
                             Combat1 := Critter;
                             Encounter_Counter := random(6, 12);
-                            Encounter_Rotation := (has_trait(1, dude_obj, 10) + 1) % 6;
+                            Encounter_Rotation := (obj_get_rot(dude_obj) + 1) % 6;
                             call DMRV_Golden_Geckos();
                             Combat2 := Critter;
                         end
                         else begin
                             if (LVar0 < 70) then begin
                                 debug_msg("VPat_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 156));
+                                display_mstr(156);
                                 Encounter_Counter := random(5, 8);
-                                Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                Encounter_Rotation := obj_get_rot(dude_obj);
                                 call VPat_Patrol();
                                 Combat1 := Critter;
                                 Encounter_Counter := random(6, 10);
-                                Encounter_Rotation := (has_trait(1, dude_obj, 10) + 3) % 6;
+                                Encounter_Rotation := (obj_get_rot(dude_obj) + 3) % 6;
                                 call VPat_Strong_Slavers();
                                 Combat2 := Critter;
                             end
                             else begin
                                 if (LVar0 < 80) then begin
                                     debug_msg("VPat_Encounter Table, Encounter 07");
-                                    display_msg(message_str(680, 157));
+                                    display_mstr(157);
                                     Encounter_Counter := random(3, 5);
                                     Encounter_Rotation := 2;
                                     call VPat_Patrol();
@@ -3124,7 +3124,7 @@ begin
                                 else begin
                                     if (LVar0 < 90) then begin
                                         debug_msg("VPat_Encounter Table, Encounter 08");
-                                        display_msg(message_str(680, 158));
+                                        display_mstr(158);
                                         Encounter_Counter := random(3, 5);
                                         Encounter_Rotation := random(2, 5);
                                         call VPat_Patrol();
@@ -3137,7 +3137,7 @@ begin
                                     else begin
                                         if (LVar0 < 100) then begin
                                             debug_msg("VPat_Encounter Table, Encounter 09");
-                                            display_msg(message_str(680, 159));
+                                            display_mstr(159);
                                             Encounter_Counter := random(6, 12);
                                             Encounter_Rotation := 3;
                                             call DMRV_Golden_Geckos();
@@ -3162,15 +3162,15 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 25) then begin
         debug_msg("RDRC_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 200));
+        display_mstr(200);
         Encounter_Counter := random(7, 12);
-        Encounter_Rotation := has_trait(1, dude_obj, 10);
+        Encounter_Rotation := obj_get_rot(dude_obj);
         call RDRC_Raiders();
     end
     else begin
         if (LVar0 < 40) then begin
             debug_msg("RDRC_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 201));
+            display_mstr(201);
             Encounter_Counter := random(8, 14);
             Encounter_Rotation := random(0, 5);
             call Red_Wolves();
@@ -3178,7 +3178,7 @@ begin
         else begin
             if (LVar0 < 49) then begin
                 debug_msg("RDRC_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 202));
+                display_mstr(202);
                 Encounter_Counter := random(6, 10);
                 Encounter_Rotation := 2;
                 call DNRV_Vault_Caravan();
@@ -3191,7 +3191,7 @@ begin
             else begin
                 if (LVar0 < 58) then begin
                     debug_msg("RDRC_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 203));
+                    display_mstr(203);
                     Encounter_Counter := random(4, 6);
                     Encounter_Rotation := 3;
                     call DNRV_Reno_Caravan();
@@ -3204,7 +3204,7 @@ begin
                 else begin
                     if (LVar0 < 67) then begin
                         debug_msg("RDRC_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 204));
+                        display_mstr(204);
                         Encounter_Counter := random(6, 8);
                         Encounter_Rotation := 4;
                         call RDRC_Broken_Hills_Caravan();
@@ -3217,7 +3217,7 @@ begin
                     else begin
                         if (LVar0 < 76) then begin
                             debug_msg("RDRC_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 205));
+                            display_mstr(205);
                             Encounter_Counter := random(6, 10);
                             Encounter_Rotation := 5;
                             call RDRC_Gecko_Caravan();
@@ -3230,7 +3230,7 @@ begin
                         else begin
                             if (LVar0 < 82) then begin
                                 debug_msg("RDRC_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 206));
+                                display_mstr(206);
                                 Encounter_Counter := random(6, 10);
                                 Encounter_Rotation := 2;
                                 call DNRV_Vault_Caravan();
@@ -3238,7 +3238,7 @@ begin
                             else begin
                                 if (LVar0 < 88) then begin
                                     debug_msg("RDRC_Encounter Table, Encounter 07");
-                                    display_msg(message_str(680, 207));
+                                    display_mstr(207);
                                     Encounter_Counter := random(4, 6);
                                     Encounter_Rotation := 3;
                                     call DNRV_Reno_Caravan();
@@ -3246,7 +3246,7 @@ begin
                                 else begin
                                     if (LVar0 < 94) then begin
                                         debug_msg("RDRC_Encounter Table, Encounter 08");
-                                        display_msg(message_str(680, 208));
+                                        display_mstr(208);
                                         Encounter_Counter := random(6, 8);
                                         Encounter_Rotation := 4;
                                         call RDRC_Broken_Hills_Caravan();
@@ -3254,7 +3254,7 @@ begin
                                     else begin
                                         if (LVar0 < 100) then begin
                                             debug_msg("RDRC_Encounter Table, Encounter 09");
-                                            display_msg(message_str(680, 209));
+                                            display_mstr(209);
                                             Encounter_Counter := random(6, 10);
                                             Encounter_Rotation := 5;
                                             call RDRC_Gecko_Caravan();
@@ -3276,15 +3276,15 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 20) then begin
         debug_msg("VNNB_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 250));
+        display_mstr(250);
         Encounter_Counter := random(8, 14);
-        Encounter_Rotation := has_trait(1, dude_obj, 10);
+        Encounter_Rotation := obj_get_rot(dude_obj);
         call NCR_Marauders();
     end
     else begin
         if (LVar0 < 30) then begin
             debug_msg("VNNB_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 251));
+            display_mstr(251);
             Encounter_Counter := random(8, 15);
             Encounter_Rotation := random(0, 5);
             call Red_Wolves();
@@ -3292,7 +3292,7 @@ begin
         else begin
             if (LVar0 < 40) then begin
                 debug_msg("VNNB_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 252));
+                display_mstr(252);
                 Encounter_Counter := random(7, 12);
                 Encounter_Rotation := random(0, 5);
                 call DMRV_Scorpions();
@@ -3300,7 +3300,7 @@ begin
             else begin
                 if (LVar0 < 48) then begin
                     debug_msg("VNNB_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 253));
+                    display_mstr(253);
                     Encounter_Counter := random(5, 9);
                     Encounter_Counter := random(2, 4);
                     call RDRC_Broken_Hills_Caravan();
@@ -3313,7 +3313,7 @@ begin
                 else begin
                     if (LVar0 < 56) then begin
                         debug_msg("VNNB_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 254));
+                        display_mstr(254);
                         Encounter_Counter := random(6, 9);
                         Encounter_Rotation := random(1, 3);
                         call DNRV_Reno_Caravan();
@@ -3326,7 +3326,7 @@ begin
                     else begin
                         if (LVar0 < 64) then begin
                             debug_msg("VNNB_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 255));
+                            display_mstr(255);
                             Encounter_Counter := random(5, 10);
                             Encounter_Rotation := 2;
                             call NCR_Caravan();
@@ -3339,7 +3339,7 @@ begin
                         else begin
                             if (LVar0 < 72) then begin
                                 debug_msg("VNNB_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 256));
+                                display_mstr(256);
                                 Encounter_Counter := random(4, 8);
                                 Encounter_Rotation := 3;
                                 call V15_Caravan();
@@ -3352,7 +3352,7 @@ begin
                             else begin
                                 if (LVar0 < 77) then begin
                                     debug_msg("VNNB_Encounter Table, Encounter 07");
-                                    display_msg(message_str(680, 257));
+                                    display_mstr(257);
                                     Encounter_Counter := random(5, 9);
                                     Encounter_Counter := random(2, 4);
                                     call RDRC_Broken_Hills_Caravan();
@@ -3360,7 +3360,7 @@ begin
                                 else begin
                                     if (LVar0 < 82) then begin
                                         debug_msg("VNNB_Encounter Table, Encounter 08");
-                                        display_msg(message_str(680, 258));
+                                        display_mstr(258);
                                         Encounter_Counter := random(6, 9);
                                         Encounter_Rotation := random(1, 3);
                                         call DNRV_Reno_Caravan();
@@ -3368,7 +3368,7 @@ begin
                                     else begin
                                         if (LVar0 < 87) then begin
                                             debug_msg("VNNB_Encounter Table, Encounter 09");
-                                            display_msg(message_str(680, 259));
+                                            display_mstr(259);
                                             Encounter_Counter := random(5, 10);
                                             Encounter_Rotation := 2;
                                             call NCR_Caravan();
@@ -3376,7 +3376,7 @@ begin
                                         else begin
                                             if (LVar0 < 92) then begin
                                                 debug_msg("VNNB_Encounter Table, Encounter 10");
-                                                display_msg(message_str(680, 260));
+                                                display_mstr(260);
                                                 Encounter_Counter := random(4, 8);
                                                 Encounter_Rotation := 3;
                                                 call V15_Caravan();
@@ -3384,7 +3384,7 @@ begin
                                             else begin
                                                 if (LVar0 < 100) then begin
                                                     debug_msg("VNNB_Encounter Table, Encounter 11");
-                                                    display_msg(message_str(680, 610));
+                                                    display_mstr(610);
                                                     Encounter_Counter := random(1, 2);
                                                     Encounter_Rotation := random(0, 5);
                                                     call New_Traveler();
@@ -3408,7 +3408,7 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 15) then begin
         debug_msg("NCR_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 300));
+        display_mstr(300);
         Encounter_Counter := random(6, 9);
         Encounter_Rotation := random(0, 5);
         call NCR_Masters_Army();
@@ -3416,7 +3416,7 @@ begin
     else begin
         if (LVar0 < 30) then begin
             debug_msg("NCR_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 301));
+            display_mstr(301);
             Encounter_Counter := random(8, 14);
             Encounter_Rotation := random(2, 5);
             call NCR_Marauders();
@@ -3424,7 +3424,7 @@ begin
         else begin
             if (LVar0 < 40) then begin
                 debug_msg("NCR_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 302));
+                display_mstr(302);
                 Encounter_Counter := random(5, 9);
                 Encounter_Rotation := 2;
                 call NCR_Rangers();
@@ -3437,7 +3437,7 @@ begin
             else begin
                 if (LVar0 < 50) then begin
                     debug_msg("NCR_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 303));
+                    display_mstr(303);
                     Encounter_Counter := random(5, 10);
                     Encounter_Rotation := 4;
                     call NCR_Rangers();
@@ -3450,7 +3450,7 @@ begin
                 else begin
                     if (LVar0 < 60) then begin
                         debug_msg("NCR_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 304));
+                        display_mstr(304);
                         Encounter_Counter := random(2, 6);
                         Encounter_Rotation := random(2, 4);
                         call KLA_Farmers();
@@ -3463,7 +3463,7 @@ begin
                     else begin
                         if (LVar0 < 70) then begin
                             debug_msg("NCR_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 305));
+                            display_mstr(305);
                             Encounter_Counter := random(3, 6);
                             Encounter_Rotation := random(2, 5);
                             call KLA_Farmers();
@@ -3476,7 +3476,7 @@ begin
                         else begin
                             if (LVar0 < 90) then begin
                                 debug_msg("NCR_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 306));
+                                display_mstr(306);
                                 Encounter_Counter := random(6, 10);
                                 Encounter_Rotation := random(0, 5);
                                 call NCR_Rangers();
@@ -3484,7 +3484,7 @@ begin
                             else begin
                                 if (LVar0 < 100) then begin
                                     debug_msg("NCR_Encounter Table, Encounter 07");
-                                    display_msg(message_str(680, 307));
+                                    display_mstr(307);
                                     Encounter_Counter := random(3, 5);
                                     Encounter_Rotation := random(0, 5);
                                     call KLA_Farmers();
@@ -3502,42 +3502,42 @@ procedure Redding_Caravan
 begin
     variable LVar0 := 0;
     call Build_Caravan_Team();
-    if (global_var(339) == 4) then begin
+    if (global_var(GVAR_MEDICINE_CARAVAN) == 4) then begin
         debug_msg("In Medicine Caravan Encounter Setup.");
-        if (global_var(270) == 1) then begin
+        if (global_var(GVAR_CARAVAN_START) == 1) then begin
             call Red_VC_Encounters();
         end
         else begin
             call VC_Red_Encounters();
         end
         if (map_var(1) > 0) then begin
-            set_global_var(339, 3);
+            set_global_var(GVAR_MEDICINE_CARAVAN, 3);
         end
     end
     else begin
-        if (global_var(338) == 4) then begin
+        if (global_var(GVAR_CATTLE_DRIVE_CARAVAN) == 4) then begin
             debug_msg("In Cattle Drive Encounter Setup.");
-            if (global_var(270) == 1) then begin
+            if (global_var(GVAR_CARAVAN_START) == 1) then begin
                 call Red_NCR_Encounters();
             end
             else begin
                 call NCR_Red_Encounters();
             end
             if (map_var(1) > 0) then begin
-                set_global_var(338, 3);
+                set_global_var(GVAR_CATTLE_DRIVE_CARAVAN, 3);
             end
         end
         else begin
-            if (global_var(340) == 4) then begin
+            if (global_var(GVAR_JET_CARAVAN) == 4) then begin
                 debug_msg("In Jet Caravan Encounter Setup.");
-                if (global_var(270) == 1) then begin
+                if (global_var(GVAR_CARAVAN_START) == 1) then begin
                     call Red_Reno_Encounters();
                 end
                 else begin
                     call Reno_Red_Encounters();
                 end
                 if (map_var(1) > 0) then begin
-                    set_global_var(340, 3);
+                    set_global_var(GVAR_JET_CARAVAN, 3);
                 end
             end
         end
@@ -3547,64 +3547,64 @@ end
 procedure Red_VC_Encounters
 begin
     variable LVar0 := 0;
-    LVar0 := global_var(283) - global_var(275);
-    if (global_var(283) == 1) then begin
+    LVar0 := global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) - global_var(GVAR_CARAVAN_ENCOUNTERS);
+    if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 1) then begin
         wm_area_set_pos(44, 700 + random(-25, 25), 125 + random(-25, 25));
         set_exit_grids(0, -2, 0, 20100, 0);
         game_time_advance(16 * (24 * (60 * (60 * 10))));
-        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
             call Redding_EPA_Encounter();
         end
         else begin
-            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                 call Redding_Reno_Encounter();
             end
             else begin
-                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                     call Redding_SRNRRN_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                         call Broken_Hills_Brok_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                             call Broken_Hills_NCR_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                 call Redding_Band_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                     call Redding_Red_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                         call Broken_Hills_VPat_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                             call Redding_NRNR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                 call Redding_DNRV_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                     call Redding_DVMV_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                         call Broken_Hills_VNNB_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                             call Broken_Hills_RDRC_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                 call Redding_DMRV_Encounter();
                                                             end
                                                         end
@@ -3622,64 +3622,64 @@ begin
         end
     end
     else begin
-        if (global_var(283) == 2) then begin
+        if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 2) then begin
             if (LVar0 == 0) then begin
                 wm_area_set_pos(44, 475 + random(-25, 25), 300 + random(-25, 25));
                 set_exit_grids(0, -2, 0, 20100, 0);
                 game_time_advance(8 * (24 * (60 * (60 * 10))));
-                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                     call Redding_EPA_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                         call Redding_Reno_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                             call Redding_SRNRRN_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                 call Broken_Hills_Brok_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                     call Broken_Hills_NCR_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                         call Redding_Band_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                             call Redding_Red_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                 call Broken_Hills_VPat_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                     call Redding_NRNR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                         call Redding_DNRV_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                             call Redding_DVMV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                 call Broken_Hills_VNNB_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                     call Broken_Hills_RDRC_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                         call Redding_DMRV_Encounter();
                                                                     end
                                                                 end
@@ -3701,59 +3701,59 @@ begin
                     wm_area_set_pos(44, 975 + random(-25, 25), 175 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(11 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -3773,64 +3773,64 @@ begin
             end
         end
         else begin
-            if (global_var(283) == 3) then begin
+            if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 3) then begin
                 if (LVar0 == 0) then begin
                     wm_area_set_pos(44, 475 + random(-25, 25), 525 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(6 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -3852,59 +3852,59 @@ begin
                         wm_area_set_pos(44, 675 + random(-25, 25), 125 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(7 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -3926,59 +3926,59 @@ begin
                             wm_area_set_pos(44, 1025 + random(-25, 25), 225 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(9 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -3999,64 +3999,64 @@ begin
                 end
             end
             else begin
-                if (global_var(283) == 4) then begin
+                if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 4) then begin
                     if (LVar0 == 0) then begin
                         wm_area_set_pos(44, 475 + random(-25, 25), 575 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(5 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -4078,59 +4078,59 @@ begin
                             wm_area_set_pos(44, 575 + random(-25, 25), 175 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(6 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -4152,59 +4152,59 @@ begin
                                 wm_area_set_pos(44, 775 + random(-25, 25), 125 + random(-25, 25));
                                 set_exit_grids(0, -2, 0, 20100, 0);
                                 game_time_advance(4 * (24 * (60 * (60 * 10))));
-                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                     call Redding_EPA_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                         call Redding_Reno_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                             call Redding_SRNRRN_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                 call Broken_Hills_Brok_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                     call Broken_Hills_NCR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                         call Redding_Band_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                             call Redding_Red_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                 call Broken_Hills_VPat_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                     call Redding_NRNR_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                         call Redding_DNRV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                             call Redding_DVMV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                 call Broken_Hills_VNNB_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                     call Broken_Hills_RDRC_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                         call Redding_DMRV_Encounter();
                                                                                     end
                                                                                 end
@@ -4226,59 +4226,59 @@ begin
                                     wm_area_set_pos(44, 1075 + random(-25, 25), 225 + random(-25, 25));
                                     set_exit_grids(0, -2, 0, 20100, 0);
                                     game_time_advance(6 * (24 * (60 * (60 * 10))));
-                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                         call Redding_EPA_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                             call Redding_Reno_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                                 call Redding_SRNRRN_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                     call Broken_Hills_Brok_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                         call Broken_Hills_NCR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                             call Redding_Band_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                                 call Redding_Red_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                     call Broken_Hills_VPat_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                         call Redding_NRNR_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                             call Redding_DNRV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                                 call Redding_DVMV_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                     call Broken_Hills_VNNB_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                         call Broken_Hills_RDRC_Encounter();
                                                                                     end
                                                                                     else begin
-                                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                             call Redding_DMRV_Encounter();
                                                                                         end
                                                                                     end
@@ -4307,64 +4307,64 @@ end
 procedure Red_Reno_Encounters
 begin
     variable LVar0 := 0;
-    LVar0 := global_var(283) - global_var(275);
-    if (global_var(283) == 1) then begin
+    LVar0 := global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) - global_var(GVAR_CARAVAN_ENCOUNTERS);
+    if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 1) then begin
         wm_area_set_pos(44, 775 + random(-25, 25), 775 + random(-25, 25));
         set_exit_grids(0, -2, 0, 20100, 0);
         game_time_advance(6 * (24 * (60 * (60 * 10))));
-        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
             call Redding_EPA_Encounter();
         end
         else begin
-            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                 call Redding_Reno_Encounter();
             end
             else begin
-                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                     call Redding_SRNRRN_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                         call Broken_Hills_Brok_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                             call Broken_Hills_NCR_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                 call Redding_Band_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                     call Redding_Red_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                         call Broken_Hills_VPat_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                             call Redding_NRNR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                 call Redding_DNRV_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                     call Redding_DVMV_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                         call Broken_Hills_VNNB_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                             call Broken_Hills_RDRC_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                 call Redding_DMRV_Encounter();
                                                             end
                                                         end
@@ -4382,64 +4382,64 @@ begin
         end
     end
     else begin
-        if (global_var(283) == 2) then begin
+        if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 2) then begin
             if (LVar0 == 0) then begin
                 wm_area_set_pos(44, 700 + random(-25, 25), 700 + random(-25, 25));
                 set_exit_grids(0, -2, 0, 20100, 0);
                 game_time_advance(4 * (24 * (60 * (60 * 10))));
-                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                     call Redding_EPA_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                         call Redding_Reno_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                             call Redding_SRNRRN_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                 call Broken_Hills_Brok_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                     call Broken_Hills_NCR_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                         call Redding_Band_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                             call Redding_Red_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                 call Broken_Hills_VPat_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                     call Redding_NRNR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                         call Redding_DNRV_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                             call Redding_DVMV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                 call Broken_Hills_VNNB_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                     call Broken_Hills_RDRC_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                         call Redding_DMRV_Encounter();
                                                                     end
                                                                 end
@@ -4461,59 +4461,59 @@ begin
                     wm_area_set_pos(44, 750 + random(-25, 25), 925 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(4 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -4533,64 +4533,64 @@ begin
             end
         end
         else begin
-            if (global_var(283) == 3) then begin
+            if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 3) then begin
                 if (LVar0 == 0) then begin
                     wm_area_set_pos(44, 675 + random(-25, 25), 675 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(3 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -4612,59 +4612,59 @@ begin
                         wm_area_set_pos(44, 725 + random(-25, 25), 875 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(3 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -4686,59 +4686,59 @@ begin
                             wm_area_set_pos(44, 925 + random(-25, 25), 925 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(3 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -4759,64 +4759,64 @@ begin
                 end
             end
             else begin
-                if (global_var(283) == 4) then begin
+                if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 4) then begin
                     if (LVar0 == 0) then begin
                         wm_area_set_pos(44, 650 + random(-25, 25), 600 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(2 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -4838,59 +4838,59 @@ begin
                             wm_area_set_pos(44, 725 + random(-25, 25), 800 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(3 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -4912,59 +4912,59 @@ begin
                                 wm_area_set_pos(44, 750 + random(-25, 25), 925 + random(-25, 25));
                                 set_exit_grids(0, -2, 0, 20100, 0);
                                 game_time_advance(2 * (24 * (60 * (60 * 10))));
-                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                     call Redding_EPA_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                         call Redding_Reno_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                             call Redding_SRNRRN_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                 call Broken_Hills_Brok_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                     call Broken_Hills_NCR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                         call Redding_Band_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                             call Redding_Red_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                 call Broken_Hills_VPat_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                     call Redding_NRNR_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                         call Redding_DNRV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                             call Redding_DVMV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                 call Broken_Hills_VNNB_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                     call Broken_Hills_RDRC_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                         call Redding_DMRV_Encounter();
                                                                                     end
                                                                                 end
@@ -4986,59 +4986,59 @@ begin
                                     wm_area_set_pos(44, 975 + random(-25, 25), 925 + random(-25, 25));
                                     set_exit_grids(0, -2, 0, 20100, 0);
                                     game_time_advance(3 * (24 * (60 * (60 * 10))));
-                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                         call Redding_EPA_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                             call Redding_Reno_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                                 call Redding_SRNRRN_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                     call Broken_Hills_Brok_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                         call Broken_Hills_NCR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                             call Redding_Band_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                                 call Redding_Red_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                     call Broken_Hills_VPat_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                         call Redding_NRNR_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                             call Redding_DNRV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                                 call Redding_DVMV_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                     call Broken_Hills_VNNB_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                         call Broken_Hills_RDRC_Encounter();
                                                                                     end
                                                                                     else begin
-                                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                             call Redding_DMRV_Encounter();
                                                                                         end
                                                                                     end
@@ -5067,64 +5067,64 @@ end
 procedure Red_NCR_Encounters
 begin
     variable LVar0 := 0;
-    LVar0 := global_var(283) - global_var(275);
-    if (global_var(283) == 1) then begin
+    LVar0 := global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) - global_var(GVAR_CARAVAN_ENCOUNTERS);
+    if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 1) then begin
         wm_area_set_pos(44, 700 + random(-25, 25), 1000 + random(-25, 25));
         set_exit_grids(0, -2, 0, 20100, 0);
         game_time_advance(16 * (24 * (60 * (60 * 10))));
-        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
             call Redding_EPA_Encounter();
         end
         else begin
-            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                 call Redding_Reno_Encounter();
             end
             else begin
-                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                     call Redding_SRNRRN_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                         call Broken_Hills_Brok_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                             call Broken_Hills_NCR_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                 call Redding_Band_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                     call Redding_Red_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                         call Broken_Hills_VPat_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                             call Redding_NRNR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                 call Redding_DNRV_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                     call Redding_DVMV_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                         call Broken_Hills_VNNB_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                             call Broken_Hills_RDRC_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                 call Redding_DMRV_Encounter();
                                                             end
                                                         end
@@ -5142,64 +5142,64 @@ begin
         end
     end
     else begin
-        if (global_var(283) == 2) then begin
+        if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 2) then begin
             if (LVar0 == 0) then begin
                 wm_area_set_pos(44, 675 + random(-25, 25), 925 + random(-25, 25));
                 set_exit_grids(0, -2, 0, 20100, 0);
                 game_time_advance(10 * (24 * (60 * (60 * 10))));
-                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                     call Redding_EPA_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                         call Redding_Reno_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                             call Redding_SRNRRN_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                 call Broken_Hills_Brok_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                     call Broken_Hills_NCR_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                         call Redding_Band_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                             call Redding_Red_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                 call Broken_Hills_VPat_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                     call Redding_NRNR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                         call Redding_DNRV_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                             call Redding_DVMV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                 call Broken_Hills_VNNB_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                     call Broken_Hills_RDRC_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                         call Redding_DMRV_Encounter();
                                                                     end
                                                                 end
@@ -5221,59 +5221,59 @@ begin
                     wm_area_set_pos(44, 800 + random(-25, 25), 1200 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(10 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -5293,64 +5293,64 @@ begin
             end
         end
         else begin
-            if (global_var(283) == 3) then begin
+            if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 3) then begin
                 if (LVar0 == 0) then begin
                     wm_area_set_pos(44, 675 + random(-25, 25), 825 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(8 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -5372,59 +5372,59 @@ begin
                         wm_area_set_pos(44, 725 + random(-25, 25), 1100 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(8 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -5446,59 +5446,59 @@ begin
                             wm_area_set_pos(44, 900 + random(-25, 25), 1350 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(8 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -5519,64 +5519,64 @@ begin
                 end
             end
             else begin
-                if (global_var(283) == 4) then begin
+                if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 4) then begin
                     if (LVar0 == 0) then begin
                         wm_area_set_pos(44, 675 + random(-25, 25), 675 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(5 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -5598,59 +5598,59 @@ begin
                             wm_area_set_pos(44, 675 + random(-25, 25), 825 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(6 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -5672,59 +5672,59 @@ begin
                                 wm_area_set_pos(44, 725 + random(-25, 25), 1175 + random(-25, 25));
                                 set_exit_grids(0, -2, 0, 20100, 0);
                                 game_time_advance(6 * (24 * (60 * (60 * 10))));
-                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                     call Redding_EPA_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                         call Redding_Reno_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                             call Redding_SRNRRN_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                 call Broken_Hills_Brok_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                     call Broken_Hills_NCR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                         call Redding_Band_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                             call Redding_Red_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                 call Broken_Hills_VPat_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                     call Redding_NRNR_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                         call Redding_DNRV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                             call Redding_DVMV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                 call Broken_Hills_VNNB_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                     call Broken_Hills_RDRC_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                         call Redding_DMRV_Encounter();
                                                                                     end
                                                                                 end
@@ -5746,59 +5746,59 @@ begin
                                     wm_area_set_pos(44, 1050 + random(-25, 25), 1400 + random(-25, 25));
                                     set_exit_grids(0, -2, 0, 20100, 0);
                                     game_time_advance(5 * (24 * (60 * (60 * 10))));
-                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                         call Redding_EPA_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                             call Redding_Reno_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                                 call Redding_SRNRRN_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                     call Broken_Hills_Brok_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                         call Broken_Hills_NCR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                             call Redding_Band_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                                 call Redding_Red_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                     call Broken_Hills_VPat_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                         call Redding_NRNR_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                             call Redding_DNRV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                                 call Redding_DVMV_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                     call Broken_Hills_VNNB_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                         call Broken_Hills_RDRC_Encounter();
                                                                                     end
                                                                                     else begin
-                                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                             call Redding_DMRV_Encounter();
                                                                                         end
                                                                                     end
@@ -5827,64 +5827,64 @@ end
 procedure VC_Red_Encounters
 begin
     variable LVar0 := 0;
-    LVar0 := global_var(283) - global_var(275);
-    if (global_var(283) == 1) then begin
+    LVar0 := global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) - global_var(GVAR_CARAVAN_ENCOUNTERS);
+    if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 1) then begin
         wm_area_set_pos(44, 700 + random(-25, 25), 125 + random(-25, 25));
         set_exit_grids(0, -2, 0, 20100, 0);
         game_time_advance(14 * (24 * (60 * (60 * 10))));
-        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
             call Redding_EPA_Encounter();
         end
         else begin
-            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                 call Redding_Reno_Encounter();
             end
             else begin
-                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                     call Redding_SRNRRN_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                         call Broken_Hills_Brok_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                             call Broken_Hills_NCR_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                 call Redding_Band_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                     call Redding_Red_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                         call Broken_Hills_VPat_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                             call Redding_NRNR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                 call Redding_DNRV_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                     call Redding_DVMV_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                         call Broken_Hills_VNNB_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                             call Broken_Hills_RDRC_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                 call Redding_DMRV_Encounter();
                                                             end
                                                         end
@@ -5902,64 +5902,64 @@ begin
         end
     end
     else begin
-        if (global_var(283) == 2) then begin
+        if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 2) then begin
             if (LVar0 == 0) then begin
                 wm_area_set_pos(44, 975 + random(-25, 25), 175 + random(-25, 25));
                 set_exit_grids(0, -2, 0, 20100, 0);
                 game_time_advance(11 * (24 * (60 * (60 * 10))));
-                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                     call Redding_EPA_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                         call Redding_Reno_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                             call Redding_SRNRRN_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                 call Broken_Hills_Brok_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                     call Broken_Hills_NCR_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                         call Redding_Band_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                             call Redding_Red_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                 call Broken_Hills_VPat_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                     call Redding_NRNR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                         call Redding_DNRV_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                             call Redding_DVMV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                 call Broken_Hills_VNNB_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                     call Broken_Hills_RDRC_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                         call Redding_DMRV_Encounter();
                                                                     end
                                                                 end
@@ -5981,59 +5981,59 @@ begin
                     wm_area_set_pos(44, 475 + random(-25, 25), 300 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(8 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -6053,64 +6053,64 @@ begin
             end
         end
         else begin
-            if (global_var(283) == 3) then begin
+            if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 3) then begin
                 if (LVar0 == 0) then begin
                     wm_area_set_pos(44, 1025 + random(-25, 25), 225 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(9 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -6132,59 +6132,59 @@ begin
                         wm_area_set_pos(44, 675 + random(-25, 25), 125 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(7 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -6206,59 +6206,59 @@ begin
                             wm_area_set_pos(44, 475 + random(-25, 25), 525 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(6 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -6279,64 +6279,64 @@ begin
                 end
             end
             else begin
-                if (global_var(283) == 4) then begin
+                if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 4) then begin
                     if (LVar0 == 0) then begin
                         wm_area_set_pos(44, 1075 + random(-25, 25), 225 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(6 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -6358,59 +6358,59 @@ begin
                             wm_area_set_pos(44, 775 + random(-25, 25), 125 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(4 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -6432,59 +6432,59 @@ begin
                                 wm_area_set_pos(44, 575 + random(-25, 25), 175 + random(-25, 25));
                                 set_exit_grids(0, -2, 0, 20100, 0);
                                 game_time_advance(6 * (24 * (60 * (60 * 10))));
-                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                     call Redding_EPA_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                         call Redding_Reno_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                             call Redding_SRNRRN_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                 call Broken_Hills_Brok_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                     call Broken_Hills_NCR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                         call Redding_Band_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                             call Redding_Red_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                 call Broken_Hills_VPat_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                     call Redding_NRNR_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                         call Redding_DNRV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                             call Redding_DVMV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                 call Broken_Hills_VNNB_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                     call Broken_Hills_RDRC_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                         call Redding_DMRV_Encounter();
                                                                                     end
                                                                                 end
@@ -6506,59 +6506,59 @@ begin
                                     wm_area_set_pos(44, 475 + random(-25, 25), 575 + random(-25, 25));
                                     set_exit_grids(0, -2, 0, 20100, 0);
                                     game_time_advance(5 * (24 * (60 * (60 * 10))));
-                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                         call Redding_EPA_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                             call Redding_Reno_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                                 call Redding_SRNRRN_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                     call Broken_Hills_Brok_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                         call Broken_Hills_NCR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                             call Redding_Band_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                                 call Redding_Red_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                     call Broken_Hills_VPat_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                         call Redding_NRNR_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                             call Redding_DNRV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                                 call Redding_DVMV_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                     call Broken_Hills_VNNB_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                         call Broken_Hills_RDRC_Encounter();
                                                                                     end
                                                                                     else begin
-                                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                             call Redding_DMRV_Encounter();
                                                                                         end
                                                                                     end
@@ -6587,63 +6587,63 @@ end
 procedure Reno_Red_Encounters
 begin
     variable LVar0 := 0;
-    LVar0 := global_var(283) - global_var(275);
-    if (global_var(283) == 1) then begin
+    LVar0 := global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) - global_var(GVAR_CARAVAN_ENCOUNTERS);
+    if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 1) then begin
         wm_area_set_pos(44, 775 + random(-25, 25), 775 + random(-25, 25));
         set_exit_grids(0, -2, 0, 20100, 0);
-        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
             call Redding_EPA_Encounter();
         end
         else begin
-            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                 call Redding_Reno_Encounter();
             end
             else begin
-                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                     call Redding_SRNRRN_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                         call Broken_Hills_Brok_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                             call Broken_Hills_NCR_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                 call Redding_Band_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                     call Redding_Red_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                         call Broken_Hills_VPat_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                             call Redding_NRNR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                 call Redding_DNRV_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                     call Redding_DVMV_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                         call Broken_Hills_VNNB_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                             call Broken_Hills_RDRC_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                 call Redding_DMRV_Encounter();
                                                             end
                                                         end
@@ -6662,64 +6662,64 @@ begin
         game_time_advance(6 * (24 * (60 * (60 * 10))));
     end
     else begin
-        if (global_var(283) == 2) then begin
+        if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 2) then begin
             if (LVar0 == 0) then begin
                 wm_area_set_pos(44, 750 + random(-25, 25), 925 + random(-25, 25));
                 set_exit_grids(0, -2, 0, 20100, 0);
                 game_time_advance(4 * (24 * (60 * (60 * 10))));
-                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                     call Redding_EPA_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                         call Redding_Reno_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                             call Redding_SRNRRN_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                 call Broken_Hills_Brok_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                     call Broken_Hills_NCR_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                         call Redding_Band_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                             call Redding_Red_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                 call Broken_Hills_VPat_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                     call Redding_NRNR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                         call Redding_DNRV_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                             call Redding_DVMV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                 call Broken_Hills_VNNB_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                     call Broken_Hills_RDRC_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                         call Redding_DMRV_Encounter();
                                                                     end
                                                                 end
@@ -6741,59 +6741,59 @@ begin
                     wm_area_set_pos(44, 475 + random(-25, 25), 700 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(4 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -6813,64 +6813,64 @@ begin
             end
         end
         else begin
-            if (global_var(283) == 3) then begin
+            if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 3) then begin
                 if (LVar0 == 0) then begin
                     wm_area_set_pos(44, 925 + random(-25, 25), 925 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(3 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -6892,59 +6892,59 @@ begin
                         wm_area_set_pos(44, 725 + random(-25, 25), 875 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(3 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -6966,59 +6966,59 @@ begin
                             wm_area_set_pos(44, 675 + random(-25, 25), 675 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(3 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -7039,64 +7039,64 @@ begin
                 end
             end
             else begin
-                if (global_var(283) == 4) then begin
+                if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 4) then begin
                     if (LVar0 == 0) then begin
                         wm_area_set_pos(44, 975 + random(-25, 25), 925 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(5 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -7118,59 +7118,59 @@ begin
                             wm_area_set_pos(44, 750 + random(-25, 25), 925 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(5 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -7192,59 +7192,59 @@ begin
                                 wm_area_set_pos(44, 725 + random(-25, 25), 800 + random(-25, 25));
                                 set_exit_grids(0, -2, 0, 20100, 0);
                                 game_time_advance(5 * (24 * (60 * (60 * 10))));
-                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                     call Redding_EPA_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                         call Redding_Reno_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                             call Redding_SRNRRN_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                 call Broken_Hills_Brok_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                     call Broken_Hills_NCR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                         call Redding_Band_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                             call Redding_Red_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                 call Broken_Hills_VPat_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                     call Redding_NRNR_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                         call Redding_DNRV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                             call Redding_DVMV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                 call Broken_Hills_VNNB_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                     call Broken_Hills_RDRC_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                         call Redding_DMRV_Encounter();
                                                                                     end
                                                                                 end
@@ -7266,59 +7266,59 @@ begin
                                     wm_area_set_pos(44, 650 + random(-25, 25), 600 + random(-25, 25));
                                     set_exit_grids(0, -2, 0, 20100, 0);
                                     game_time_advance(5 * (24 * (60 * (60 * 10))));
-                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                         call Redding_EPA_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                             call Redding_Reno_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                                 call Redding_SRNRRN_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                     call Broken_Hills_Brok_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                         call Broken_Hills_NCR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                             call Redding_Band_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                                 call Redding_Red_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                     call Broken_Hills_VPat_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                         call Redding_NRNR_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                             call Redding_DNRV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                                 call Redding_DVMV_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                     call Broken_Hills_VNNB_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                         call Broken_Hills_RDRC_Encounter();
                                                                                     end
                                                                                     else begin
-                                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                             call Redding_DMRV_Encounter();
                                                                                         end
                                                                                     end
@@ -7347,64 +7347,64 @@ end
 procedure NCR_Red_Encounters
 begin
     variable LVar0 := 0;
-    LVar0 := global_var(283) - global_var(275);
-    if (global_var(283) == 1) then begin
+    LVar0 := global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) - global_var(GVAR_CARAVAN_ENCOUNTERS);
+    if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 1) then begin
         wm_area_set_pos(44, 700 + random(-25, 25), 1000 + random(-25, 25));
         set_exit_grids(0, -2, 0, 20100, 0);
         game_time_advance(16 * (24 * (60 * (60 * 10))));
-        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
             call Redding_EPA_Encounter();
         end
         else begin
-            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                 call Redding_Reno_Encounter();
             end
             else begin
-                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                     call Redding_SRNRRN_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                         call Broken_Hills_Brok_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                             call Broken_Hills_NCR_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                 call Redding_Band_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                     call Redding_Red_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                         call Broken_Hills_VPat_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                             call Redding_NRNR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                 call Redding_DNRV_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                     call Redding_DVMV_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                         call Broken_Hills_VNNB_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                             call Broken_Hills_RDRC_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                 call Redding_DMRV_Encounter();
                                                             end
                                                         end
@@ -7422,64 +7422,64 @@ begin
         end
     end
     else begin
-        if (global_var(283) == 2) then begin
+        if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 2) then begin
             if (LVar0 == 0) then begin
                 wm_area_set_pos(44, 800 + random(-25, 25), 1200 + random(-25, 25));
                 set_exit_grids(0, -2, 0, 20100, 0);
                 game_time_advance(10 * (24 * (60 * (60 * 10))));
-                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                     call Redding_EPA_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                         call Redding_Reno_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                             call Redding_SRNRRN_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                 call Broken_Hills_Brok_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                     call Broken_Hills_NCR_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                         call Redding_Band_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                             call Redding_Red_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                 call Broken_Hills_VPat_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                     call Redding_NRNR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                         call Redding_DNRV_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                             call Redding_DVMV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                 call Broken_Hills_VNNB_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                     call Broken_Hills_RDRC_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                         call Redding_DMRV_Encounter();
                                                                     end
                                                                 end
@@ -7501,59 +7501,59 @@ begin
                     wm_area_set_pos(44, 675 + random(-25, 25), 925 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(10 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -7573,64 +7573,64 @@ begin
             end
         end
         else begin
-            if (global_var(283) == 3) then begin
+            if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 3) then begin
                 if (LVar0 == 0) then begin
                     wm_area_set_pos(44, 900 + random(-25, 25), 1350 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(8 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -7652,59 +7652,59 @@ begin
                         wm_area_set_pos(44, 725 + random(-25, 25), 1100 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(8 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -7726,59 +7726,59 @@ begin
                             wm_area_set_pos(44, 675 + random(-25, 25), 825 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(8 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -7799,64 +7799,64 @@ begin
                 end
             end
             else begin
-                if (global_var(283) == 4) then begin
+                if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 4) then begin
                     if (LVar0 == 0) then begin
                         wm_area_set_pos(44, 1050 + random(-25, 25), 1400 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(5 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -7878,59 +7878,59 @@ begin
                             wm_area_set_pos(44, 725 + random(-25, 25), 1175 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(6 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -7952,59 +7952,59 @@ begin
                                 wm_area_set_pos(44, 675 + random(-25, 25), 825 + random(-25, 25));
                                 set_exit_grids(0, -2, 0, 20100, 0);
                                 game_time_advance(6 * (24 * (60 * (60 * 10))));
-                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                     call Redding_EPA_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                         call Redding_Reno_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                             call Redding_SRNRRN_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                 call Broken_Hills_Brok_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                     call Broken_Hills_NCR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                         call Redding_Band_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                             call Redding_Red_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                 call Broken_Hills_VPat_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                     call Redding_NRNR_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                         call Redding_DNRV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                             call Redding_DVMV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                 call Broken_Hills_VNNB_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                     call Broken_Hills_RDRC_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                         call Redding_DMRV_Encounter();
                                                                                     end
                                                                                 end
@@ -8026,59 +8026,59 @@ begin
                                     wm_area_set_pos(44, 675 + random(-25, 25), 675 + random(-25, 25));
                                     set_exit_grids(0, -2, 0, 20100, 0);
                                     game_time_advance(5 * (24 * (60 * (60 * 10))));
-                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                         call Redding_EPA_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                             call Redding_Reno_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                                 call Redding_SRNRRN_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                     call Broken_Hills_Brok_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                         call Broken_Hills_NCR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                             call Redding_Band_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                                 call Redding_Red_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                     call Broken_Hills_VPat_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                         call Redding_NRNR_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                             call Redding_DNRV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                                 call Redding_DVMV_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                     call Broken_Hills_VNNB_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                         call Broken_Hills_RDRC_Encounter();
                                                                                     end
                                                                                     else begin
-                                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                             call Redding_DMRV_Encounter();
                                                                                         end
                                                                                     end
@@ -8110,7 +8110,7 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 10) then begin
         debug_msg("DNRV_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 350));
+        display_mstr(350);
         Encounter_Counter := random(7, 12);
         Encounter_Rotation := random(0, 4);
         call DNRV_Den_Caravan();
@@ -8118,7 +8118,7 @@ begin
     else begin
         if (LVar0 < 20) then begin
             debug_msg("DNRV_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 351));
+            display_mstr(351);
             Encounter_Counter := random(6, 8);
             Encounter_Rotation := random(0, 3);
             call DVMV_Highwaymen();
@@ -8129,7 +8129,7 @@ begin
         else begin
             if (LVar0 < 30) then begin
                 debug_msg("DNRV_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 352));
+                display_mstr(352);
                 Encounter_Counter := random(8, 12);
                 Encounter_Rotation := random(0, 5);
                 call DVMV_Highwaymen();
@@ -8137,7 +8137,7 @@ begin
             else begin
                 if (LVar0 < 40) then begin
                     debug_msg("DNRV_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 353));
+                    display_mstr(353);
                     Encounter_Counter := random(6, 12);
                     Encounter_Rotation := random(0, 5);
                     call DVMV_Robbers();
@@ -8145,7 +8145,7 @@ begin
                 else begin
                     if (LVar0 < 43) then begin
                         debug_msg("DNRV_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 354));
+                        display_mstr(354);
                         Encounter_Counter := random(6, 10);
                         Encounter_Rotation := 3;
                         call DNRV_Redding_Caravan();
@@ -8158,7 +8158,7 @@ begin
                     else begin
                         if (LVar0 < 48) then begin
                             debug_msg("DNRV_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 355));
+                            display_mstr(355);
                             Encounter_Counter := random(4, 8);
                             Encounter_Rotation := random(0, 4);
                             call DNRV_Reno_Caravan();
@@ -8171,7 +8171,7 @@ begin
                         else begin
                             if (LVar0 < 58) then begin
                                 debug_msg("DNRV_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 356));
+                                display_mstr(356);
                                 Encounter_Counter := random(4, 8);
                                 Encounter_Rotation := random(3, 5);
                                 call DNRV_Den_Caravan();
@@ -8184,7 +8184,7 @@ begin
                             else begin
                                 if (LVar0 < 68) then begin
                                     debug_msg("DNRV_Encounter Table, Encounter 07");
-                                    display_msg(message_str(680, 357));
+                                    display_mstr(357);
                                     Encounter_Counter := random(8, 12);
                                     Encounter_Rotation := random(0, 5);
                                     call DVMV_Robbers();
@@ -8197,7 +8197,7 @@ begin
                                 else begin
                                     if (LVar0 < 78) then begin
                                         debug_msg("DNRV_Encounter Table, Encounter 08");
-                                        display_msg(message_str(680, 358));
+                                        display_mstr(358);
                                         Encounter_Counter := random(4, 8);
                                         Encounter_Rotation := 3;
                                         call DNRV_Den_Caravan();
@@ -8210,7 +8210,7 @@ begin
                                     else begin
                                         if (LVar0 < 88) then begin
                                             debug_msg("DNRV_Encounter Table, Encounter 09");
-                                            display_msg(message_str(680, 359));
+                                            display_mstr(359);
                                             Encounter_Counter := random(6, 8);
                                             Encounter_Rotation := random(3, 5);
                                             call DVMV_Highwaymen();
@@ -8223,7 +8223,7 @@ begin
                                         else begin
                                             if (LVar0 < 93) then begin
                                                 debug_msg("DNRV_Encounter Table, Encounter 10");
-                                                display_msg(message_str(680, 360));
+                                                display_mstr(360);
                                                 Encounter_Counter := random(6, 8);
                                                 Encounter_Rotation := 4;
                                                 call DNRV_Vault_Caravan();
@@ -8231,7 +8231,7 @@ begin
                                             else begin
                                                 if (LVar0 < 100) then begin
                                                     debug_msg("DNRV_Encounter Table, Encounter 11");
-                                                    display_msg(message_str(680, 361));
+                                                    display_mstr(361);
                                                     Encounter_Counter := random(4, 8);
                                                     Encounter_Rotation := 3;
                                                     call DNRV_Den_Caravan();
@@ -8255,7 +8255,7 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 7) then begin
         debug_msg("DMRV_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 400));
+        display_mstr(400);
         Encounter_Counter := random(6, 9);
         Encounter_Rotation := random(0, 5);
         call DMRV_Highwaymen();
@@ -8263,7 +8263,7 @@ begin
     else begin
         if (LVar0 < 14) then begin
             debug_msg("DMRV_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 401));
+            display_mstr(401);
             Encounter_Counter := random(6, 9);
             Encounter_Rotation := random(0, 5);
             call DMRV_Robbers();
@@ -8271,7 +8271,7 @@ begin
         else begin
             if (LVar0 < 21) then begin
                 debug_msg("DMRV_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 402));
+                display_mstr(402);
                 Encounter_Counter := random(3, 6);
                 Encounter_Rotation := random(0, 2);
                 call DMRV_Robbers();
@@ -8282,7 +8282,7 @@ begin
             else begin
                 if (LVar0 < 28) then begin
                     debug_msg("DMRV_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 403));
+                    display_mstr(403);
                     Encounter_Counter := random(3, 6);
                     Encounter_Rotation := random(2, 5);
                     call DMRV_Golden_Geckos();
@@ -8293,15 +8293,15 @@ begin
                 else begin
                     if (LVar0 < 35) then begin
                         debug_msg("DMRV_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 404));
+                        display_mstr(404);
                         Encounter_Counter := random(5, 8);
-                        Encounter_Rotation := has_trait(1, dude_obj, 10);
+                        Encounter_Rotation := obj_get_rot(dude_obj);
                         call DMRV_Golden_Geckos();
                     end
                     else begin
                         if (LVar0 < 42) then begin
                             debug_msg("DMRV_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 405));
+                            display_mstr(405);
                             Encounter_Counter := random(6, 9);
                             Encounter_Rotation := random(0, 4);
                             call Klad_Mole_Pig_Rat();
@@ -8309,7 +8309,7 @@ begin
                         else begin
                             if (LVar0 < 49) then begin
                                 debug_msg("DMRV_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 406));
+                                display_mstr(406);
                                 Encounter_Counter := random(5, 10);
                                 Encounter_Rotation := random(2, 4);
                                 call DMRV_Scorpions();
@@ -8317,7 +8317,7 @@ begin
                             else begin
                                 if (LVar0 < 56) then begin
                                     debug_msg("DMRV_Encounter Table, Encounter 07");
-                                    display_msg(message_str(680, 407));
+                                    display_mstr(407);
                                     Encounter_Counter := random(10, 15);
                                     Encounter_Rotation := random(0, 5);
                                     call ARRO_Spore_Plants();
@@ -8325,7 +8325,7 @@ begin
                                 else begin
                                     if (LVar0 < 63) then begin
                                         debug_msg("DMRV_Encounter Table, Encounter 08");
-                                        display_msg(message_str(680, 408));
+                                        display_mstr(408);
                                         Encounter_Counter := random(5, 8);
                                         Encounter_Rotation := random(2, 5);
                                         call DMRV_Robbers();
@@ -8338,35 +8338,35 @@ begin
                                     else begin
                                         if (LVar0 < 68) then begin
                                             debug_msg("DMRV_Encounter Table, Encounter 09");
-                                            display_msg(message_str(680, 409));
+                                            display_mstr(409);
                                             Encounter_Counter := random(6, 8);
-                                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                            Encounter_Rotation := obj_get_rot(dude_obj);
                                             call DMRV_Caravan();
                                             Combat1 := Critter;
                                             Encounter_Counter := random(6, 10);
-                                            Encounter_Rotation := (has_trait(1, dude_obj, 10) + 1) % 6;
+                                            Encounter_Rotation := (obj_get_rot(dude_obj) + 1) % 6;
                                             call DMRV_Highwaymen();
                                             Combat2 := Critter;
                                         end
                                         else begin
                                             if (LVar0 < 73) then begin
                                                 debug_msg("DMRV_Encounter Table, Encounter 10");
-                                                display_msg(message_str(680, 410));
+                                                display_mstr(410);
                                                 Encounter_Counter := random(6, 8);
-                                                Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                                Encounter_Rotation := obj_get_rot(dude_obj);
                                                 call DMRV_Caravan();
                                                 Combat1 := Critter;
                                                 Encounter_Counter := random(6, 10);
-                                                Encounter_Counter := (has_trait(1, dude_obj, 10) + 1) % 6;
+                                                Encounter_Counter := (obj_get_rot(dude_obj) + 1) % 6;
                                                 call DMRV_Robbers();
                                                 Combat2 := Critter;
                                             end
                                             else begin
                                                 if (LVar0 < 78) then begin
                                                     debug_msg("DMRV_Encounter Table, Encounter 11");
-                                                    display_msg(message_str(680, 411));
+                                                    display_mstr(411);
                                                     Encounter_Counter := random(6, 8);
-                                                    Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                                    Encounter_Rotation := obj_get_rot(dude_obj);
                                                     call DMRV_Caravan();
                                                     Combat1 := Critter;
                                                     Encounter_Counter := random(6, 10);
@@ -8377,7 +8377,7 @@ begin
                                                 else begin
                                                     if (LVar0 < 85) then begin
                                                         debug_msg("DMRV_Encounter Table, Encounter 12");
-                                                        display_msg(message_str(680, 412));
+                                                        display_mstr(412);
                                                         Encounter_Counter := random(5, 8);
                                                         Encounter_Rotation := random(0, 4);
                                                         call DMRV_Golden_Geckos();
@@ -8390,9 +8390,9 @@ begin
                                                     else begin
                                                         if (LVar0 < 100) then begin
                                                             debug_msg("DMRV_Encounter Table, Encounter 13");
-                                                            display_msg(message_str(680, 413));
+                                                            display_mstr(413);
                                                             Encounter_Counter := random(6, 8);
-                                                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                                            Encounter_Rotation := obj_get_rot(dude_obj);
                                                             call DMRV_Caravan();
                                                         end
                                                     end
@@ -8416,7 +8416,7 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 10) then begin
         debug_msg("Band_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 450));
+        display_mstr(450);
         Encounter_Counter := random(3, 6);
         Encounter_Rotation := random(2, 5);
         call DMRV_Highwaymen();
@@ -8427,7 +8427,7 @@ begin
     else begin
         if (LVar0 < 20) then begin
             debug_msg("Band_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 451));
+            display_mstr(451);
             Encounter_Counter := random(3, 6);
             Encounter_Rotation := random(3, 5);
             call DMRV_Highwaymen();
@@ -8438,15 +8438,15 @@ begin
         else begin
             if (LVar0 < 30) then begin
                 debug_msg("Band_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 452));
+                display_mstr(452);
                 Encounter_Counter := random(6, 10);
-                Encounter_Rotation := has_trait(1, dude_obj, 10);
+                Encounter_Rotation := obj_get_rot(dude_obj);
                 call DMRV_Golden_Geckos();
             end
             else begin
                 if (LVar0 < 40) then begin
                     debug_msg("Band_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 453));
+                    display_mstr(453);
                     Encounter_Counter := random(6, 8);
                     Encounter_Rotation := random(2, 4);
                     call DMRV_Scorpions();
@@ -8457,7 +8457,7 @@ begin
                 else begin
                     if (LVar0 < 50) then begin
                         debug_msg("Band_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 454));
+                        display_mstr(454);
                         Encounter_Counter := random(4, 6);
                         Encounter_Rotation := random(3, 5);
                         call DMRV_Robbers();
@@ -8470,22 +8470,22 @@ begin
                     else begin
                         if (LVar0 < 60) then begin
                             debug_msg("Band_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 455));
+                            display_mstr(455);
                             Encounter_Counter := random(6, 8);
-                            Encounter_Rotation := (has_trait(1, dude_obj, 10) + 3) % 6;
+                            Encounter_Rotation := (obj_get_rot(dude_obj) + 3) % 6;
                             call DMRV_Scorpions();
                             Combat1 := Critter;
                             Encounter_Counter := random(4, 6);
-                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                            Encounter_Rotation := obj_get_rot(dude_obj);
                             call DMRV_Robbers();
                             Combat2 := Critter;
                         end
                         else begin
                             if (LVar0 < 70) then begin
                                 debug_msg("Band_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 456));
+                                display_mstr(456);
                                 Encounter_Counter := random(4, 5);
-                                Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                Encounter_Rotation := obj_get_rot(dude_obj);
                                 call DMRV_Caravan();
                                 Combat1 := Critter;
                                 Encounter_Counter := random(6, 8);
@@ -8496,9 +8496,9 @@ begin
                             else begin
                                 if (LVar0 < 80) then begin
                                     debug_msg("Band_Encounter Table, Encounter 07");
-                                    display_msg(message_str(680, 457));
+                                    display_mstr(457);
                                     Encounter_Counter := random(4, 5);
-                                    Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                    Encounter_Rotation := obj_get_rot(dude_obj);
                                     call DMRV_Caravan();
                                     Combat1 := Critter;
                                     Encounter_Counter := random(5, 9);
@@ -8509,7 +8509,7 @@ begin
                                 else begin
                                     if (LVar0 < 90) then begin
                                         debug_msg("Band_Encounter Table, Encounter 08");
-                                        display_msg(message_str(680, 458));
+                                        display_mstr(458);
                                         Encounter_Counter := random(3, 6);
                                         Encounter_Rotation := random(0, 4);
                                         call DMRV_Highwaymen();
@@ -8522,9 +8522,9 @@ begin
                                     else begin
                                         if (LVar0 < 100) then begin
                                             debug_msg("Band_Encounter Table, Encounter 09");
-                                            display_msg(message_str(680, 459));
+                                            display_mstr(459);
                                             Encounter_Counter := random(4, 5);
-                                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                            Encounter_Rotation := obj_get_rot(dude_obj);
                                             call DMRV_Caravan();
                                         end
                                     end
@@ -8544,7 +8544,7 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 8) then begin
         debug_msg("DVMV_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 500));
+        display_mstr(500);
         Encounter_Counter := random(6, 9);
         Encounter_Rotation := random(0, 3);
         call DVMV_Highwaymen();
@@ -8555,7 +8555,7 @@ begin
     else begin
         if (LVar0 < 16) then begin
             debug_msg("DVMV_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 501));
+            display_mstr(501);
             Encounter_Counter := random(5, 10);
             Encounter_Rotation := random(2, 4);
             call DVMV_Robbers();
@@ -8566,7 +8566,7 @@ begin
         else begin
             if (LVar0 < 24) then begin
                 debug_msg("DVMV_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 502));
+                display_mstr(502);
                 Encounter_Counter := random(7, 11);
                 Encounter_Rotation := random(0, 5);
                 call DVMV_Robbers();
@@ -8574,7 +8574,7 @@ begin
             else begin
                 if (LVar0 < 32) then begin
                     debug_msg("DVMV_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 503));
+                    display_mstr(503);
                     Encounter_Counter := random(7, 11);
                     Encounter_Rotation := random(2, 5);
                     call DVMV_Highwaymen();
@@ -8582,7 +8582,7 @@ begin
                 else begin
                     if (LVar0 < 40) then begin
                         debug_msg("DVMV_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 504));
+                        display_mstr(504);
                         Encounter_Counter := random(8, 13);
                         Encounter_Rotation := random(0, 5);
                         call DVMV_Mantis_Swarm();
@@ -8593,18 +8593,18 @@ begin
                     else begin
                         if (LVar0 < 48) then begin
                             debug_msg("DVMV_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 505));
+                            display_mstr(505);
                             Encounter_Counter := random(6, 8);
                             Encounter_Rotation := random(1, 4);
                             call DVMV_Wild_Dogs();
                             Encounter_Counter := random(6, 8);
-                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                            Encounter_Rotation := obj_get_rot(dude_obj);
                             call ARRO_Spore_Plants();
                         end
                         else begin
                             if (LVar0 < 56) then begin
                                 debug_msg("DVMV_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 506));
+                                display_mstr(506);
                                 Encounter_Counter := random(10, 15);
                                 Encounter_Rotation := random(0, 5);
                                 call DVMV_Mantis_Swarm();
@@ -8612,7 +8612,7 @@ begin
                             else begin
                                 if (LVar0 < 64) then begin
                                     debug_msg("DVMV_Encounter Table, Encounter 07");
-                                    display_msg(message_str(680, 507));
+                                    display_mstr(507);
                                     Encounter_Counter := random(6, 12);
                                     Encounter_Rotation := random(0, 5);
                                     call DVMV_Wild_Dogs();
@@ -8620,7 +8620,7 @@ begin
                                 else begin
                                     if (LVar0 < 72) then begin
                                         debug_msg("DVMV_Encounter Table, Encounter 08");
-                                        display_msg(message_str(680, 508));
+                                        display_mstr(508);
                                         Encounter_Counter := random(6, 9);
                                         Encounter_Rotation := random(3, 5);
                                         call DVMV_Robbers();
@@ -8633,9 +8633,9 @@ begin
                                     else begin
                                         if (LVar0 < 79) then begin
                                             debug_msg("DVMV_Encounter Table, Encounter 09");
-                                            display_msg(message_str(680, 508));
+                                            display_mstr(508);
                                             Encounter_Counter := random(6, 8);
-                                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                            Encounter_Rotation := obj_get_rot(dude_obj);
                                             call DVMV_Caravan();
                                             Combat1 := Critter;
                                             Encounter_Counter := random(10, 14);
@@ -8646,9 +8646,9 @@ begin
                                         else begin
                                             if (LVar0 < 86) then begin
                                                 debug_msg("DVMV_Encounter Table, Encounter 10");
-                                                display_msg(message_str(680, 510));
+                                                display_mstr(510);
                                                 Encounter_Counter := random(6, 8);
-                                                Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                                Encounter_Rotation := obj_get_rot(dude_obj);
                                                 call DVMV_Caravan();
                                                 Combat1 := Critter;
                                                 Encounter_Counter := random(6, 10);
@@ -8659,9 +8659,9 @@ begin
                                             else begin
                                                 if (LVar0 < 93) then begin
                                                     debug_msg("DVMV_Encounter Table, Encounter 11");
-                                                    display_msg(message_str(680, 511));
+                                                    display_mstr(511);
                                                     Encounter_Counter := random(6, 8);
-                                                    Encounter_Rotation := (has_trait(1, dude_obj, 10) + 1) % 6;
+                                                    Encounter_Rotation := (obj_get_rot(dude_obj) + 1) % 6;
                                                     call DVMV_Caravan();
                                                     Combat1 := Critter;
                                                     Encounter_Counter := random(6, 8);
@@ -8672,9 +8672,9 @@ begin
                                                 else begin
                                                     if (LVar0 < 100) then begin
                                                         debug_msg("DVMV_Encounter Table, Encounter 12");
-                                                        display_msg(message_str(680, 512));
+                                                        display_mstr(512);
                                                         Encounter_Counter := random(6, 8);
-                                                        Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                                        Encounter_Rotation := obj_get_rot(dude_obj);
                                                         call DVMV_Caravan();
                                                     end
                                                 end
@@ -8697,7 +8697,7 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 10) then begin
         debug_msg("Red_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 550));
+        display_mstr(550);
         Encounter_Counter := random(7, 12);
         Encounter_Rotation := random(0, 5);
         call DMRV_Golden_Geckos();
@@ -8708,7 +8708,7 @@ begin
     else begin
         if (LVar0 < 20) then begin
             debug_msg("Red_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 551));
+            display_mstr(551);
             Encounter_Counter := random(7, 10);
             Encounter_Rotation := random(1, 3);
             call Red_Claim_Jumper();
@@ -8716,7 +8716,7 @@ begin
         else begin
             if (LVar0 < 30) then begin
                 debug_msg("Red_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 552));
+                display_mstr(552);
                 Encounter_Counter := random(7, 12);
                 Encounter_Rotation := random(0, 5);
                 call Red_Wolves();
@@ -8724,7 +8724,7 @@ begin
             else begin
                 if (LVar0 < 35) then begin
                     debug_msg("Red_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 553));
+                    display_mstr(553);
                     Encounter_Counter := random(7, 12);
                     Encounter_Rotation := random(0, 4);
                     call DMRV_Golden_Geckos();
@@ -8732,7 +8732,7 @@ begin
                 else begin
                     if (LVar0 < 45) then begin
                         debug_msg("Red_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 554));
+                        display_mstr(554);
                         Encounter_Counter := random(3, 5);
                         Encounter_Rotation := random(1, 3);
                         call Red_Prospector();
@@ -8745,20 +8745,20 @@ begin
                     else begin
                         if (LVar0 < 55) then begin
                             debug_msg("Red_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 555));
+                            display_mstr(555);
                             Encounter_Counter := random(3, 5);
-                            Encounter_Rotation := (has_trait(1, dude_obj, 10) + 3) % 6;
+                            Encounter_Rotation := (obj_get_rot(dude_obj) + 3) % 6;
                             call Red_Trappers();
                             Combat1 := Critter;
                             Encounter_Counter := random(6, 12);
-                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                            Encounter_Rotation := obj_get_rot(dude_obj);
                             call DMRV_Golden_Geckos();
                             Combat2 := Critter;
                         end
                         else begin
                             if (LVar0 < 65) then begin
                                 debug_msg("Red_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 556));
+                                display_mstr(556);
                                 Encounter_Counter := random(2, 4);
                                 Encounter_Rotation := random(0, 3);
                                 call Red_Bootlegger();
@@ -8771,7 +8771,7 @@ begin
                             else begin
                                 if (LVar0 < 70) then begin
                                     debug_msg("Red_Encounter Table, Encounter 07");
-                                    display_msg(message_str(680, 557));
+                                    display_mstr(557);
                                     Encounter_Counter := random(2, 4);
                                     Encounter_Rotation := random(2, 4);
                                     call Red_Homesteaders();
@@ -8784,7 +8784,7 @@ begin
                                 else begin
                                     if (LVar0 < 75) then begin
                                         debug_msg("Red_Encounter Table, Encounter 08");
-                                        display_msg(message_str(680, 558));
+                                        display_mstr(558);
                                         Encounter_Counter := random(4, 6);
                                         Encounter_Rotation := random(1, 3);
                                         call Red_Homesteaders();
@@ -8797,15 +8797,15 @@ begin
                                     else begin
                                         if (LVar0 < 83) then begin
                                             debug_msg("Red_Encounter Table, Encounter 09");
-                                            display_msg(message_str(680, 559));
+                                            display_mstr(559);
                                             Encounter_Counter := random(4, 8);
-                                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                            Encounter_Rotation := obj_get_rot(dude_obj);
                                             call Red_Bootlegger();
                                         end
                                         else begin
                                             if (LVar0 < 91) then begin
                                                 debug_msg("Red_Encounter Table, Encounter 10");
-                                                display_msg(message_str(680, 560));
+                                                display_mstr(560);
                                                 Encounter_Counter := random(6, 8);
                                                 Encounter_Rotation := random(0, 4);
                                                 call Red_Trappers();
@@ -8813,7 +8813,7 @@ begin
                                             else begin
                                                 if (LVar0 < 100) then begin
                                                     debug_msg("Red_Encounter Table, Encounter 11");
-                                                    display_msg(message_str(680, 561));
+                                                    display_mstr(561);
                                                     Encounter_Counter := random(3, 6);
                                                     Encounter_Rotation := random(0, 5);
                                                     call Red_Prospector();
@@ -8837,7 +8837,7 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 18) then begin
         debug_msg("SRNRRN_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 600));
+        display_mstr(600);
         Encounter_Counter := random(3, 6);
         Encounter_Rotation := random(0, 5);
         call EPA_Deathclaws();
@@ -8845,7 +8845,7 @@ begin
     else begin
         if (LVar0 < 36) then begin
             debug_msg("SRNRRN_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 601));
+            display_mstr(601);
             Encounter_Counter := random(5, 10);
             Encounter_Rotation := random(0, 4);
             call EPA_Fire_Geckos();
@@ -8853,9 +8853,9 @@ begin
         else begin
             if (LVar0 < 44) then begin
                 debug_msg("SRNRRN_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 602));
+                display_mstr(602);
                 Encounter_Counter := random(6, 9);
-                Encounter_Rotation := has_trait(1, dude_obj, 10);
+                Encounter_Rotation := obj_get_rot(dude_obj);
                 call DNRV_Reno_Caravan();
                 Combat1 := Critter;
                 Encounter_Counter := random(3, 5);
@@ -8866,9 +8866,9 @@ begin
             else begin
                 if (LVar0 < 52) then begin
                     debug_msg("SRNRRN_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 603));
+                    display_mstr(603);
                     Encounter_Counter := random(6, 10);
-                    Encounter_Rotation := has_trait(1, dude_obj, 10);
+                    Encounter_Rotation := obj_get_rot(dude_obj);
                     call Fran2_San_Fran_Caravan();
                     Combat1 := Critter;
                     Encounter_Counter := random(4, 7);
@@ -8879,9 +8879,9 @@ begin
                 else begin
                     if (LVar0 < 60) then begin
                         debug_msg("SRNRRN_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 604));
+                        display_mstr(604);
                         Encounter_Counter := random(5, 8);
-                        Encounter_Rotation := has_trait(1, dude_obj, 10);
+                        Encounter_Rotation := obj_get_rot(dude_obj);
                         call DNRV_Redding_Caravan();
                         Combat1 := Critter;
                         Encounter_Counter := random(4, 6);
@@ -8892,9 +8892,9 @@ begin
                     else begin
                         if (LVar0 < 68) then begin
                             debug_msg("SRNRRN_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 605));
+                            display_mstr(605);
                             Encounter_Counter := random(7, 11);
-                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                            Encounter_Rotation := obj_get_rot(dude_obj);
                             call NCR_Caravan();
                             Combat1 := Critter;
                             Encounter_Counter := random(3, 7);
@@ -8905,33 +8905,33 @@ begin
                         else begin
                             if (LVar0 < 76) then begin
                                 debug_msg("SRNRRN_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 606));
+                                display_mstr(606);
                                 Encounter_Counter := random(6, 10);
-                                Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                Encounter_Rotation := obj_get_rot(dude_obj);
                                 call Fran2_San_Fran_Caravan();
                             end
                             else begin
                                 if (LVar0 < 84) then begin
                                     debug_msg("SRNRRN_Encounter Table, Encounter 07");
-                                    display_msg(message_str(680, 607));
+                                    display_mstr(607);
                                     Encounter_Counter := random(5, 8);
-                                    Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                    Encounter_Rotation := obj_get_rot(dude_obj);
                                     call DNRV_Redding_Caravan();
                                 end
                                 else begin
                                     if (LVar0 < 92) then begin
                                         debug_msg("SRNRRN_Encounter Table, Encounter 08");
-                                        display_msg(message_str(680, 608));
+                                        display_mstr(608);
                                         Encounter_Counter := random(6, 9);
-                                        Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                        Encounter_Rotation := obj_get_rot(dude_obj);
                                         call DNRV_Reno_Caravan();
                                     end
                                     else begin
                                         if (LVar0 < 100) then begin
                                             debug_msg("SRNRRN_Encounter Table, Encounter 09");
-                                            display_msg(message_str(680, 609));
+                                            display_mstr(609);
                                             Encounter_Counter := random(7, 11);
-                                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                            Encounter_Rotation := obj_get_rot(dude_obj);
                                             call NCR_Caravan();
                                         end
                                     end
@@ -8951,7 +8951,7 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 4) then begin
         debug_msg("EPA_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 650));
+        display_mstr(650);
         Encounter_Counter := random(5, 8);
         Encounter_Rotation := random(0, 3);
         call EPA_Special_Alien();
@@ -8962,7 +8962,7 @@ begin
     else begin
         if (LVar0 < 16) then begin
             debug_msg("EPA_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 651));
+            display_mstr(651);
             Encounter_Counter := random(6, 10);
             Encounter_Rotation := random(0, 5);
             call EPA_Floater_Centaurs();
@@ -8970,7 +8970,7 @@ begin
         else begin
             if (LVar0 < 28) then begin
                 debug_msg("EPA_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 652));
+                display_mstr(652);
                 Encounter_Counter := random(8, 10);
                 Encounter_Rotation := random(0, 3);
                 call EPA_Special_Fire_Geckos();
@@ -8978,7 +8978,7 @@ begin
             else begin
                 if (LVar0 < 40) then begin
                     debug_msg("EPA_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 653));
+                    display_mstr(653);
                     Encounter_Counter := random(6, 10);
                     Encounter_Rotation := random(0, 5);
                     call EPA_Special_Alien();
@@ -8986,7 +8986,7 @@ begin
                 else begin
                     if (LVar0 < 52) then begin
                         debug_msg("EPA_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 654));
+                        display_mstr(654);
                         Encounter_Counter := random(3, 6);
                         Encounter_Rotation := random(0, 5);
                         call EPA_Deathclaws();
@@ -8994,7 +8994,7 @@ begin
                     else begin
                         if (LVar0 < 64) then begin
                             debug_msg("EPA_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 655));
+                            display_mstr(655);
                             Encounter_Counter := random(6, 10);
                             Encounter_Rotation := random(0, 5);
                             call EPA_Fire_Geckos();
@@ -9002,7 +9002,7 @@ begin
                         else begin
                             if (LVar0 < 76) then begin
                                 debug_msg("EPA_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 656));
+                                display_mstr(656);
                                 Encounter_Counter := random(6, 10);
                                 Encounter_Rotation := random(0, 5);
                                 call EPA_Alien();
@@ -9010,7 +9010,7 @@ begin
                             else begin
                                 if (LVar0 < 88) then begin
                                     debug_msg("EPA_Encounter Table, Encounter 07");
-                                    display_msg(message_str(680, 657));
+                                    display_mstr(657);
                                     Encounter_Counter := random(4, 8);
                                     Encounter_Rotation := random(0, 5);
                                     call EPA_Centaurs();
@@ -9018,7 +9018,7 @@ begin
                                 else begin
                                     if (LVar0 < 100) then begin
                                         debug_msg("EPA_Encounter Table, Encounter 08");
-                                        display_msg(message_str(680, 658));
+                                        display_mstr(658);
                                         Encounter_Counter := random(6, 10);
                                         Encounter_Rotation := random(0, 5);
                                         call EPA_Floaters();
@@ -9039,7 +9039,7 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 15) then begin
         debug_msg("Reno_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 700));
+        display_mstr(700);
         Encounter_Counter := random(6, 10);
         Encounter_Rotation := random(0, 5);
         call New_Yakuza();
@@ -9047,7 +9047,7 @@ begin
     else begin
         if (LVar0 < 30) then begin
             debug_msg("Reno_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 701));
+            display_mstr(701);
             Encounter_Counter := random(7, 12);
             Encounter_Rotation := random(0, 3);
             call New_Gang();
@@ -9055,15 +9055,15 @@ begin
         else begin
             if (LVar0 < 40) then begin
                 debug_msg("Reno_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 702));
+                display_mstr(702);
                 Encounter_Counter := random(7, 10);
-                Encounter_Rotation := has_trait(1, dude_obj, 10);
+                Encounter_Rotation := obj_get_rot(dude_obj);
                 call Red_Wolves();
             end
             else begin
                 if (LVar0 < 55) then begin
                     debug_msg("Reno_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 703));
+                    display_mstr(703);
                     Encounter_Counter := random(4, 8);
                     Encounter_Rotation := random(0, 3);
                     call New_Mobsters();
@@ -9076,7 +9076,7 @@ begin
                 else begin
                     if (LVar0 < 70) then begin
                         debug_msg("Reno_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 704));
+                        display_mstr(704);
                         Encounter_Counter := random(4, 8);
                         Encounter_Rotation := random(3, 5);
                         call New_Mobsters();
@@ -9089,17 +9089,17 @@ begin
                     else begin
                         if (LVar0 < 90) then begin
                             debug_msg("Reno_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 705));
+                            display_mstr(705);
                             Encounter_Counter := random(4, 8);
-                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                            Encounter_Rotation := obj_get_rot(dude_obj);
                             call New_Mobsters();
                         end
                         else begin
                             if (LVar0 < 100) then begin
                                 debug_msg("Reno_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 706));
+                                display_mstr(706);
                                 Encounter_Counter := random(1, 2);
-                                Encounter_Rotation := (has_trait(1, dude_obj, 10) + 3) % 6;
+                                Encounter_Rotation := (obj_get_rot(dude_obj) + 3) % 6;
                                 call New_Traveler();
                             end
                         end
@@ -9116,9 +9116,9 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 21) then begin
         debug_msg("NRNR_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 750));
+        display_mstr(750);
         Encounter_Counter := random(6, 10);
-        Encounter_Rotation := has_trait(1, dude_obj, 10);
+        Encounter_Rotation := obj_get_rot(dude_obj);
         call NCR_Caravan();
         Combat1 := Critter;
         Encounter_Counter := random(7, 12);
@@ -9129,9 +9129,9 @@ begin
     else begin
         if (LVar0 < 41) then begin
             debug_msg("NRNR_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 751));
+            display_mstr(751);
             Encounter_Counter := random(6, 10);
-            Encounter_Counter := has_trait(1, dude_obj, 10);
+            Encounter_Counter := obj_get_rot(dude_obj);
             call DNRV_Reno_Caravan();
             Combat1 := Critter;
             Encounter_Counter := random(7, 11);
@@ -9142,9 +9142,9 @@ begin
         else begin
             if (LVar0 < 61) then begin
                 debug_msg("NRNR_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 752));
+                display_mstr(752);
                 Encounter_Counter := random(6, 10);
-                Encounter_Rotation := has_trait(1, dude_obj, 10);
+                Encounter_Rotation := obj_get_rot(dude_obj);
                 call DNRV_Redding_Caravan();
                 Combat1 := Critter;
                 Encounter_Counter := random(5, 9);
@@ -9155,25 +9155,25 @@ begin
             else begin
                 if (LVar0 < 74) then begin
                     debug_msg("NRNR_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 753));
+                    display_mstr(753);
                     Encounter_Counter := random(6, 10);
-                    Encounter_Rotation := has_trait(1, dude_obj, 10);
+                    Encounter_Rotation := obj_get_rot(dude_obj);
                     call DNRV_Redding_Caravan();
                 end
                 else begin
                     if (LVar0 < 87) then begin
                         debug_msg("NRNR_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 754));
+                        display_mstr(754);
                         Encounter_Counter := random(6, 10);
-                        Encounter_Counter := has_trait(1, dude_obj, 10);
+                        Encounter_Counter := obj_get_rot(dude_obj);
                         call DNRV_Reno_Caravan();
                     end
                     else begin
                         if (LVar0 < 100) then begin
                             debug_msg("NRNR_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 755));
+                            display_mstr(755);
                             Encounter_Counter := random(6, 10);
-                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                            Encounter_Rotation := obj_get_rot(dude_obj);
                             call NCR_Caravan();
                         end
                     end
@@ -9192,11 +9192,11 @@ procedure NCR_Cattle_Drive
 begin
     variable LVar0 := 0;
     call Build_Caravan_Team();
-    LVar0 := global_var(283) - global_var(275);
-    if ((global_var(266) bwand 16) != 0) then begin
+    LVar0 := global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) - global_var(GVAR_CARAVAN_ENCOUNTERS);
+    if ((global_var(GVAR_NCR_CATTLE_DRIVE) bwand 16) != 0) then begin
         call NCR_Red_Encounters();
         if (map_var(1) > 0) then begin
-            set_global_var(266, global_var(266) bwor 64);
+            set_global_var(GVAR_NCR_CATTLE_DRIVE, global_var(GVAR_NCR_CATTLE_DRIVE) bwor 64);
         end
     end
 end
@@ -9230,226 +9230,226 @@ begin
     LVar0 := tile_num_in_direction(22097, LVar1, random(3, 8));
     override_map_start(LVar0 % 200, LVar0 / 200, 0, random(0, 5));
     anim(dude_obj, 1000, LVar1);
-    for (call Add_Mysterious_Stranger(); LVar2 < global_var(277); anim(LVar7, 1000, rotation_to_tile(tile_num(LVar7), tile_num(dude_obj)))) begin
+    for (call Add_Mysterious_Stranger(); LVar2 < global_var(GVAR_CARAVAN_MASTERS); anim(LVar7, 1000, rotation_to_tile(tile_num(LVar7), dude_tile))) begin
         LVar2 := LVar2 + 1;
-        if (global_var(339) == 4) then begin
-            LVar7 := create_object_sid(16777308, 0, 0, 688);
-            add_obj_to_inven(LVar7, create_object_sid(388, 0, 0, -1));
+        if (global_var(GVAR_MEDICINE_CARAVAN) == 4) then begin
+            LVar7 := create_object_sid(16777308, 0, 0, SCRIPT_RCWADE);
+            add_obj_to_inven(LVar7, create_object(388, 0, 0));
         end
         else begin
-            if (global_var(338) == 4) then begin
-                LVar7 := create_object_sid(16777260, 0, 0, 692);
-                add_obj_to_inven(LVar7, create_object_sid(388, 0, 0, -1));
+            if (global_var(GVAR_CATTLE_DRIVE_CARAVAN) == 4) then begin
+                LVar7 := create_object_sid(16777260, 0, 0, SCRIPT_RCSTANWL);
+                add_obj_to_inven(LVar7, create_object(388, 0, 0));
             end
             else begin
-                if (global_var(340) == 4) then begin
-                    LVar7 := create_object_sid(16777252, 0, 0, 693);
-                    add_obj_to_inven(LVar7, create_object_sid(242, 0, 0, -1));
+                if (global_var(GVAR_JET_CARAVAN) == 4) then begin
+                    LVar7 := create_object_sid(16777252, 0, 0, SCRIPT_RCSAVINE);
+                    add_obj_to_inven(LVar7, create_object(242, 0, 0));
                 end
                 else begin
-                    if (global_var(330) == 2) then begin
-                        LVar7 := create_object_sid(16777248, 0, 0, 613);
+                    if (global_var(GVAR_BH_CARAVAN) == 2) then begin
+                        LVar7 := create_object_sid(16777248, 0, 0, SCRIPT_HCCHAD);
                     end
                     else begin
-                        if ((global_var(266) bwand 16) != 0) then begin
-                            LVar7 := create_object_sid(16777477, 0, 0, 475);
-                            add_obj_to_inven(LVar7, create_object_sid(354, 0, 0, -1));
-                            add_obj_to_inven(LVar7, create_object_sid(95, 0, 0, -1));
+                        if ((global_var(GVAR_NCR_CATTLE_DRIVE) bwand 16) != 0) then begin
+                            LVar7 := create_object_sid(16777477, 0, 0, SCRIPT_SCHAL);
+                            add_obj_to_inven(LVar7, create_object(354, 0, 0));
+                            add_obj_to_inven(LVar7, create_object(95, 0, 0));
                         end
                         else begin
-                            LVar7 := create_object_sid(16777359, 0, 0, -1);
+                            LVar7 := create_object(16777359, 0, 0);
                         end
                     end
                 end
             end
         end
-        LVar16 := critter_add_trait(LVar7, 1, 6, 0);
+        LVar16 := critter_add_trait(LVar7, TRAIT_OBJECT, OBJECT_TEAM_NUM, 0);
         LVar11 := (LVar1 + 3) % 6;
         LVar8 := tile_num_in_direction(LVar0, LVar11, random(5, 7));
         critter_attempt_placement(LVar7, LVar8, 0);
-        if (has_trait(0, dude_obj, 20)) then begin
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(LVar7, 2 * random(10, 30));
             continue;
         end
         item_caps_adjust(LVar7, random(10, 30));
     end
-    while ((global_var(274) > ((global_var(276) / 2) + (global_var(276) % 2))) and (global_var(276) != 0)) do begin
-        set_global_var(274, global_var(274) - 1);
-        for (/* O_NOOP */; LVar3 < global_var(274); anim(LVar7, 1000, 1)) begin
+    while ((global_var(GVAR_CARAVAN_CARTS) > ((global_var(GVAR_CARAVAN_BRAHMIN) / 2) + (global_var(GVAR_CARAVAN_BRAHMIN) % 2))) and (global_var(GVAR_CARAVAN_BRAHMIN) != 0)) do begin
+        set_global_var(GVAR_CARAVAN_CARTS, global_var(GVAR_CARAVAN_CARTS) - 1);
+        for (/* O_NOOP */; LVar3 < global_var(GVAR_CARAVAN_CARTS); anim(LVar7, 1000, 1)) begin
             LVar3 := LVar3 + 1;
             LVar8 := tile_num_in_direction(LVar8, LVar11, 8);
             if (random(0, 99) < 50) then begin
-                Scenery_Creation := create_object_sid(33554959, LVar8, 0, -1);
+                Scenery_Creation := create_object(33554959, LVar8, 0);
                 Scenery_Creation_Hex := LVar8;
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 1) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 2) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 3, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 2) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 1) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 1) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 0, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 1) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 2) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
             end
             else begin
-                Scenery_Creation := create_object_sid(33554960, LVar8, 0, -1);
+                Scenery_Creation := create_object(33554960, LVar8, 0);
                 Scenery_Creation_Hex := LVar8;
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 1) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 2) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 3, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 2) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 1) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 1) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 0, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 1) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 2) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
             end
             LVar9 := tile_num_in_direction(LVar8, 0, 1);
-            LVar7 := create_object_sid(16777226, 0, 0, 477);
+            LVar7 := create_object_sid(16777226, 0, 0, SCRIPT_ECCRTBRA);
             critter_attempt_placement(LVar7, LVar9, 0);
-            LVar16 := critter_add_trait(LVar7, 1, 6, 0);
+            LVar16 := critter_add_trait(LVar7, TRAIT_OBJECT, OBJECT_TEAM_NUM, 0);
             anim(LVar7, 1000, 1);
             LVar4 := LVar4 + 1;
-            if (LVar4 < global_var(276)) then begin
+            if (LVar4 < global_var(GVAR_CARAVAN_BRAHMIN)) then begin
                 LVar9 := tile_num_in_direction(LVar8, 2, 2);
-                LVar7 := create_object_sid(16777226, 0, 0, 477);
+                LVar7 := create_object_sid(16777226, 0, 0, SCRIPT_ECCRTBRA);
                 critter_attempt_placement(LVar7, LVar9, 0);
-                LVar16 := critter_add_trait(LVar7, 1, 6, 0);
+                LVar16 := critter_add_trait(LVar7, TRAIT_OBJECT, OBJECT_TEAM_NUM, 0);
                 anim(LVar7, 1000, 1);
                 LVar4 := LVar4 + 1;
             end
-            if (LVar5 < global_var(272)) then begin
+            if (LVar5 < global_var(GVAR_CARAVAN_DRIVERS)) then begin
                 LVar5 := LVar5 + 1;
-                if (global_var(339) == 4) then begin
+                if (global_var(GVAR_MEDICINE_CARAVAN) == 4) then begin
                     if (random(0, 99) < 50) then begin
-                        LVar7 := create_object_sid(16777308, 0, 0, 1085);
+                        LVar7 := create_object_sid(16777308, 0, 0, SCRIPT_RCCVNDRV);
                     end
                     else begin
-                        LVar7 := create_object_sid(16777307, 0, 0, 1085);
+                        LVar7 := create_object_sid(16777307, 0, 0, SCRIPT_RCCVNDRV);
                     end
                 end
                 else begin
-                    if (global_var(338) == 4) then begin
+                    if (global_var(GVAR_CATTLE_DRIVE_CARAVAN) == 4) then begin
                         if (random(0, 99) < 50) then begin
-                            LVar7 := create_object_sid(16777353, 0, 0, 1085);
+                            LVar7 := create_object_sid(16777353, 0, 0, SCRIPT_RCCVNDRV);
                         end
                         else begin
-                            LVar7 := create_object_sid(16777354, 0, 0, 1085);
+                            LVar7 := create_object_sid(16777354, 0, 0, SCRIPT_RCCVNDRV);
                         end
                     end
                     else begin
-                        if (global_var(340) == 4) then begin
+                        if (global_var(GVAR_JET_CARAVAN) == 4) then begin
                             if (random(0, 99) < 50) then begin
-                                LVar7 := create_object_sid(16777400, 0, 0, 1085);
+                                LVar7 := create_object_sid(16777400, 0, 0, SCRIPT_RCCVNDRV);
                             end
                             else begin
-                                LVar7 := create_object_sid(16777401, 0, 0, 1085);
+                                LVar7 := create_object_sid(16777401, 0, 0, SCRIPT_RCCVNDRV);
                             end
                         end
                         else begin
-                            if (global_var(330) == 2) then begin
+                            if (global_var(GVAR_BH_CARAVAN) == 2) then begin
                                 if (random(0, 99) < 50) then begin
-                                    LVar7 := create_object_sid(16777400, 0, 0, 1085);
+                                    LVar7 := create_object_sid(16777400, 0, 0, SCRIPT_RCCVNDRV);
                                 end
                                 else begin
-                                    LVar7 := create_object_sid(16777401, 0, 0, 1085);
+                                    LVar7 := create_object_sid(16777401, 0, 0, SCRIPT_RCCVNDRV);
                                 end
                             end
                             else begin
-                                if ((global_var(266) bwand 16) != 0) then begin
+                                if ((global_var(GVAR_NCR_CATTLE_DRIVE) bwand 16) != 0) then begin
                                     if (random(0, 99) < 50) then begin
-                                        LVar7 := create_object_sid(16777477, 0, 0, 1085);
+                                        LVar7 := create_object_sid(16777477, 0, 0, SCRIPT_RCCVNDRV);
                                     end
                                     else begin
-                                        LVar7 := create_object_sid(16777478, 0, 0, 1085);
+                                        LVar7 := create_object_sid(16777478, 0, 0, SCRIPT_RCCVNDRV);
                                     end
                                     LVar15 := random(0, 99);
                                     if (LVar15 < 33) then begin
-                                        LVar14 := create_object_sid(332, 0, 0, -1);
+                                        LVar14 := create_object(332, 0, 0);
                                     end
                                     else begin
                                         if (LVar15 < 66) then begin
-                                            LVar14 := create_object_sid(268, 0, 0, -1);
+                                            LVar14 := create_object(268, 0, 0);
                                         end
                                         else begin
                                             if (LVar15 < 99) then begin
-                                                LVar14 := create_object_sid(118, 0, 0, -1);
+                                                LVar14 := create_object(118, 0, 0);
                                             end
                                         end
                                     end
                                 end
                                 else begin
                                     if (random(0, 99) < 50) then begin
-                                        LVar7 := create_object_sid(16777400, 0, 0, 1085);
+                                        LVar7 := create_object_sid(16777400, 0, 0, SCRIPT_RCCVNDRV);
                                     end
                                     else begin
-                                        LVar7 := create_object_sid(16777401, 0, 0, 1085);
+                                        LVar7 := create_object_sid(16777401, 0, 0, SCRIPT_RCCVNDRV);
                                     end
                                 end
                             end
@@ -9458,8 +9458,8 @@ begin
                 end
                 LVar10 := tile_num_in_direction(LVar8, 1, 3);
                 critter_attempt_placement(LVar7, LVar10, 0);
-                LVar16 := critter_add_trait(LVar7, 1, 6, 0);
-                if (has_trait(0, dude_obj, 20)) then begin
+                LVar16 := critter_add_trait(LVar7, TRAIT_OBJECT, OBJECT_TEAM_NUM, 0);
+                if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                     item_caps_adjust(LVar7, 2 * random(5, 20));
                     continue;
                 end
@@ -9468,81 +9468,81 @@ begin
         end
         LVar12 := (LVar11 + 1) % 6;
         LVar9 := tile_num_in_direction(LVar0, LVar12, random(7, 10));
-        while (LVar4 < global_var(276)) do begin
+        while (LVar4 < global_var(GVAR_CARAVAN_BRAHMIN)) do begin
             LVar4 := LVar4 + 1;
             LVar9 := tile_num_in_direction(LVar9, random(0, 5), random(2, 5));
-            LVar7 := create_object_sid(16777226, 0, 0, 477);
+            LVar7 := create_object_sid(16777226, 0, 0, SCRIPT_ECCRTBRA);
             critter_attempt_placement(LVar7, LVar9, 0);
-            LVar16 := critter_add_trait(LVar7, 1, 6, 0);
+            LVar16 := critter_add_trait(LVar7, TRAIT_OBJECT, OBJECT_TEAM_NUM, 0);
             anim(LVar7, 1000, random(0, 5));
         end
         LVar13 := (LVar11 + 1) % 6;
-        for (LVar10 := tile_num_in_direction(LVar0, LVar13, random(7, 10)); LVar5 < global_var(272); anim(LVar7, 1000, random(0, 5))) begin
+        for (LVar10 := tile_num_in_direction(LVar0, LVar13, random(7, 10)); LVar5 < global_var(GVAR_CARAVAN_DRIVERS); anim(LVar7, 1000, random(0, 5))) begin
             LVar5 := LVar5 + 1;
-            if (global_var(339) == 4) then begin
+            if (global_var(GVAR_MEDICINE_CARAVAN) == 4) then begin
                 if (random(0, 99) < 50) then begin
-                    LVar7 := create_object_sid(16777308, 0, 0, 1085);
+                    LVar7 := create_object_sid(16777308, 0, 0, SCRIPT_RCCVNDRV);
                 end
                 else begin
-                    LVar7 := create_object_sid(16777307, 0, 0, 1085);
+                    LVar7 := create_object_sid(16777307, 0, 0, SCRIPT_RCCVNDRV);
                 end
             end
             else begin
-                if (global_var(338) == 4) then begin
+                if (global_var(GVAR_CATTLE_DRIVE_CARAVAN) == 4) then begin
                     if (random(0, 99) < 50) then begin
-                        LVar7 := create_object_sid(16777353, 0, 0, 1085);
+                        LVar7 := create_object_sid(16777353, 0, 0, SCRIPT_RCCVNDRV);
                     end
                     else begin
-                        LVar7 := create_object_sid(16777354, 0, 0, 1085);
+                        LVar7 := create_object_sid(16777354, 0, 0, SCRIPT_RCCVNDRV);
                     end
                 end
                 else begin
-                    if (global_var(340) == 4) then begin
+                    if (global_var(GVAR_JET_CARAVAN) == 4) then begin
                         if (random(0, 99) < 50) then begin
-                            LVar7 := create_object_sid(16777400, 0, 0, 1085);
+                            LVar7 := create_object_sid(16777400, 0, 0, SCRIPT_RCCVNDRV);
                         end
                         else begin
-                            LVar7 := create_object_sid(16777401, 0, 0, 1085);
+                            LVar7 := create_object_sid(16777401, 0, 0, SCRIPT_RCCVNDRV);
                         end
                     end
                     else begin
-                        if (global_var(330) == 2) then begin
+                        if (global_var(GVAR_BH_CARAVAN) == 2) then begin
                             if (random(0, 99) < 50) then begin
-                                LVar7 := create_object_sid(16777400, 0, 0, 1085);
+                                LVar7 := create_object_sid(16777400, 0, 0, SCRIPT_RCCVNDRV);
                             end
                             else begin
-                                LVar7 := create_object_sid(16777401, 0, 0, 1085);
+                                LVar7 := create_object_sid(16777401, 0, 0, SCRIPT_RCCVNDRV);
                             end
                         end
                         else begin
-                            if ((global_var(266) bwand 16) != 0) then begin
+                            if ((global_var(GVAR_NCR_CATTLE_DRIVE) bwand 16) != 0) then begin
                                 if (random(0, 99) < 50) then begin
-                                    LVar7 := create_object_sid(16777477, 0, 0, 1085);
+                                    LVar7 := create_object_sid(16777477, 0, 0, SCRIPT_RCCVNDRV);
                                 end
                                 else begin
-                                    LVar7 := create_object_sid(16777478, 0, 0, 1085);
+                                    LVar7 := create_object_sid(16777478, 0, 0, SCRIPT_RCCVNDRV);
                                 end
                                 LVar15 := random(0, 99);
                                 if (LVar15 < 33) then begin
-                                    LVar14 := create_object_sid(332, 0, 0, -1);
+                                    LVar14 := create_object(332, 0, 0);
                                 end
                                 else begin
                                     if (LVar15 < 66) then begin
-                                        LVar14 := create_object_sid(268, 0, 0, -1);
+                                        LVar14 := create_object(268, 0, 0);
                                     end
                                     else begin
                                         if (LVar15 < 99) then begin
-                                            LVar14 := create_object_sid(118, 0, 0, -1);
+                                            LVar14 := create_object(118, 0, 0);
                                         end
                                     end
                                 end
                             end
                             else begin
                                 if (random(0, 99) < 50) then begin
-                                    LVar7 := create_object_sid(16777400, 0, 0, 1085);
+                                    LVar7 := create_object_sid(16777400, 0, 0, SCRIPT_RCCVNDRV);
                                 end
                                 else begin
-                                    LVar7 := create_object_sid(16777401, 0, 0, 1085);
+                                    LVar7 := create_object_sid(16777401, 0, 0, SCRIPT_RCCVNDRV);
                                 end
                             end
                         end
@@ -9551,8 +9551,8 @@ begin
             end
             LVar10 := tile_num_in_direction(LVar10, 1, 3);
             critter_attempt_placement(LVar7, LVar10, 0);
-            LVar16 := critter_add_trait(LVar7, 1, 6, 0);
-            if (has_trait(0, dude_obj, 20)) then begin
+            LVar16 := critter_add_trait(LVar7, TRAIT_OBJECT, OBJECT_TEAM_NUM, 0);
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                 item_caps_adjust(LVar7, 2 * random(5, 20));
                 continue;
             end
@@ -9566,116 +9566,116 @@ begin
             LVar11 := LVar11 % 6;
         end
         LVar8 := tile_num_in_direction(LVar0, LVar11, random(7, 10));
-        while (LVar6 < global_var(273)) do begin
+        while (LVar6 < global_var(GVAR_CARAVAN_GUARDS)) do begin
             LVar6 := LVar6 + 1;
-            if (global_var(339) == 4) then begin
+            if (global_var(GVAR_MEDICINE_CARAVAN) == 4) then begin
                 if (random(0, 99) < 50) then begin
-                    LVar7 := create_object_sid(16777262, 0, 0, 1084);
+                    LVar7 := create_object_sid(16777262, 0, 0, SCRIPT_RCCVNGRD);
                 end
                 else begin
-                    LVar7 := create_object_sid(16777263, 0, 0, 1084);
+                    LVar7 := create_object_sid(16777263, 0, 0, SCRIPT_RCCVNGRD);
                 end
                 LVar15 := random(0, 99);
                 if (LVar15 < 50) then begin
-                    LVar14 := create_object_sid(242, 0, 0, -1);
+                    LVar14 := create_object(242, 0, 0);
                 end
                 else begin
                     if (LVar15 < 99) then begin
-                        LVar14 := create_object_sid(23, 0, 0, -1);
+                        LVar14 := create_object(23, 0, 0);
                     end
                 end
             end
             else begin
-                if (global_var(338) == 4) then begin
+                if (global_var(GVAR_CATTLE_DRIVE_CARAVAN) == 4) then begin
                     if (random(0, 99) < 50) then begin
-                        LVar7 := create_object_sid(16777353, 0, 0, 1084);
+                        LVar7 := create_object_sid(16777353, 0, 0, SCRIPT_RCCVNGRD);
                     end
                     else begin
-                        LVar7 := create_object_sid(16777354, 0, 0, 1084);
+                        LVar7 := create_object_sid(16777354, 0, 0, SCRIPT_RCCVNGRD);
                     end
                     LVar15 := random(0, 99);
                     if (LVar15 < 50) then begin
-                        LVar14 := create_object_sid(352, 0, 0, -1);
+                        LVar14 := create_object(352, 0, 0);
                     end
                     else begin
                         if (LVar15 < 99) then begin
-                            LVar14 := create_object_sid(351, 0, 0, -1);
+                            LVar14 := create_object(351, 0, 0);
                         end
                     end
                 end
                 else begin
-                    if (global_var(340) == 4) then begin
+                    if (global_var(GVAR_JET_CARAVAN) == 4) then begin
                         if (random(0, 99) < 50) then begin
-                            LVar7 := create_object_sid(16777400, 0, 0, 1084);
+                            LVar7 := create_object_sid(16777400, 0, 0, SCRIPT_RCCVNGRD);
                         end
                         else begin
-                            LVar7 := create_object_sid(16777401, 0, 0, 1084);
+                            LVar7 := create_object_sid(16777401, 0, 0, SCRIPT_RCCVNGRD);
                         end
                         LVar15 := random(0, 99);
                         if (LVar15 < 50) then begin
-                            LVar14 := create_object_sid(268, 0, 0, -1);
+                            LVar14 := create_object(268, 0, 0);
                         end
                         else begin
                             if (LVar15 < 99) then begin
-                                LVar14 := create_object_sid(283, 0, 0, -1);
+                                LVar14 := create_object(283, 0, 0);
                             end
                         end
                     end
                     else begin
-                        if (global_var(330) == 2) then begin
+                        if (global_var(GVAR_BH_CARAVAN) == 2) then begin
                             if (random(0, 99) < 50) then begin
-                                LVar7 := create_object_sid(16777400, 0, 0, 1084);
+                                LVar7 := create_object_sid(16777400, 0, 0, SCRIPT_RCCVNGRD);
                             end
                             else begin
-                                LVar7 := create_object_sid(16777401, 0, 0, 1084);
+                                LVar7 := create_object_sid(16777401, 0, 0, SCRIPT_RCCVNGRD);
                             end
                             LVar15 := random(0, 99);
                             if (LVar15 < 50) then begin
-                                LVar14 := create_object_sid(332, 0, 0, -1);
+                                LVar14 := create_object(332, 0, 0);
                             end
                             else begin
                                 if (LVar15 < 99) then begin
-                                    LVar14 := create_object_sid(268, 0, 0, -1);
+                                    LVar14 := create_object(268, 0, 0);
                                 end
                             end
                         end
                         else begin
-                            if ((global_var(266) bwand 16) != 0) then begin
+                            if ((global_var(GVAR_NCR_CATTLE_DRIVE) bwand 16) != 0) then begin
                                 if (random(0, 99) < 50) then begin
-                                    LVar7 := create_object_sid(16777477, 0, 0, 1084);
+                                    LVar7 := create_object_sid(16777477, 0, 0, SCRIPT_RCCVNGRD);
                                 end
                                 else begin
-                                    LVar7 := create_object_sid(16777478, 0, 0, 1084);
+                                    LVar7 := create_object_sid(16777478, 0, 0, SCRIPT_RCCVNGRD);
                                 end
                                 LVar15 := random(0, 99);
                                 if (LVar15 < 33) then begin
-                                    LVar14 := create_object_sid(332, 0, 0, -1);
+                                    LVar14 := create_object(332, 0, 0);
                                 end
                                 else begin
                                     if (LVar15 < 66) then begin
-                                        LVar14 := create_object_sid(268, 0, 0, -1);
+                                        LVar14 := create_object(268, 0, 0);
                                     end
                                     else begin
                                         if (LVar15 < 99) then begin
-                                            LVar14 := create_object_sid(118, 0, 0, -1);
+                                            LVar14 := create_object(118, 0, 0);
                                         end
                                     end
                                 end
                             end
                             else begin
                                 if (random(0, 99) < 50) then begin
-                                    LVar7 := create_object_sid(16777400, 0, 0, 1084);
+                                    LVar7 := create_object_sid(16777400, 0, 0, SCRIPT_RCCVNGRD);
                                 end
                                 else begin
-                                    LVar7 := create_object_sid(16777401, 0, 0, 1084);
+                                    LVar7 := create_object_sid(16777401, 0, 0, SCRIPT_RCCVNGRD);
                                 end
                                 LVar15 := random(0, 99);
                                 if (LVar15 < 50) then begin
-                                    LVar14 := create_object_sid(388, 0, 0, -1);
+                                    LVar14 := create_object(388, 0, 0);
                                 end
                                 else begin
                                     if (LVar15 < 99) then begin
-                                        LVar14 := create_object_sid(354, 0, 0, -1);
+                                        LVar14 := create_object(354, 0, 0);
                                     end
                                 end
                             end
@@ -9685,18 +9685,18 @@ begin
             end
             LVar8 := tile_num_in_direction(LVar8, random(0, 5), random(2, 4));
             critter_attempt_placement(LVar7, LVar8, 0);
-            if (has_trait(0, dude_obj, 20)) then begin
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                 item_caps_adjust(LVar7, 2 * random(10, 20));
             end
             else begin
                 item_caps_adjust(LVar7, random(10, 20));
             end
-            LVar16 := critter_add_trait(LVar7, 1, 6, 0);
-            anim(LVar7, 1000, has_trait(1, dude_obj, 10));
+            LVar16 := critter_add_trait(LVar7, TRAIT_OBJECT, OBJECT_TEAM_NUM, 0);
+            anim(LVar7, 1000, obj_get_rot(dude_obj));
             add_obj_to_inven(LVar7, LVar14);
             wield_obj_critter(LVar7, LVar14);
             if (random(0, 99) < 50) then begin
-                LVar14 := create_object_sid(40, 0, 0, -1);
+                LVar14 := create_object(40, 0, 0);
                 add_obj_to_inven(LVar7, LVar14);
             end
         end
@@ -9706,57 +9706,57 @@ procedure Build_Grey_Caravan
 begin
     variable LVar0 := 0;
     variable LVar1 := 0;
-    LVar1 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, 20);
-    Scenery_Creation := create_object_sid(33554960, LVar1, elevation(dude_obj), -1);
+    LVar1 := tile_num_in_direction(dude_tile, Encounter_Rotation, 20);
+    Scenery_Creation := create_object(33554960, LVar1, dude_elevation);
     Scenery_Creation_Hex := LVar1;
     Scenery_Creation_Count := 0;
     while (Scenery_Creation_Count < 1) do begin
         Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);
-        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, elevation(dude_obj), -1);
+        Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, dude_elevation);
         Scenery_Creation_Count := Scenery_Creation_Count + 1;
     end
     Scenery_Creation_Count := 0;
     while (Scenery_Creation_Count < 2) do begin
         Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 3, 1);
-        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, elevation(dude_obj), -1);
+        Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, dude_elevation);
         Scenery_Creation_Count := Scenery_Creation_Count + 1;
     end
     Scenery_Creation_Count := 0;
     while (Scenery_Creation_Count < 2) do begin
         Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);
-        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, elevation(dude_obj), -1);
+        Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, dude_elevation);
         Scenery_Creation_Count := Scenery_Creation_Count + 1;
     end
     Scenery_Creation_Count := 0;
     while (Scenery_Creation_Count < 1) do begin
         Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);
-        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, elevation(dude_obj), -1);
+        Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, dude_elevation);
         Scenery_Creation_Count := Scenery_Creation_Count + 1;
     end
     Scenery_Creation_Count := 0;
     while (Scenery_Creation_Count < 1) do begin
         Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 0, 1);
-        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, elevation(dude_obj), -1);
+        Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, dude_elevation);
         Scenery_Creation_Count := Scenery_Creation_Count + 1;
     end
     Scenery_Creation_Count := 0;
     while (Scenery_Creation_Count < 1) do begin
         Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);
-        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, elevation(dude_obj), -1);
+        Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, dude_elevation);
         Scenery_Creation_Count := Scenery_Creation_Count + 1;
     end
     Scenery_Creation_Count := 0;
     while (Scenery_Creation_Count < 2) do begin
         Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);
-        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, elevation(dude_obj), -1);
+        Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, dude_elevation);
         Scenery_Creation_Count := Scenery_Creation_Count + 1;
     end
     LVar0 := tile_num_in_direction(LVar1, 0, 1);
-    Critter := create_object_sid(16777226, 0, 0, 477);
+    Critter := create_object_sid(16777226, 0, 0, SCRIPT_ECCRTBRA);
     critter_attempt_placement(Critter, LVar0, 0);
     anim(Critter, 1000, 1);
     LVar0 := tile_num_in_direction(LVar1, 2, 2);
-    Critter := create_object_sid(16777226, 0, 0, 477);
+    Critter := create_object_sid(16777226, 0, 0, SCRIPT_ECCRTBRA);
     critter_attempt_placement(Critter, LVar0, 0);
     anim(Critter, 1000, 1);
 end
@@ -9769,30 +9769,30 @@ begin
     variable LVar3 := 0;
     variable LVar4 := 0;
     LVar2 := random(0, 99);
-    LVar3 := 30 + (2 * get_critter_stat(dude_obj, 6));
-    if (metarule(14, 0) and not(global_var(352) bwand 1) and (LVar2 < LVar3) and has_trait(0, dude_obj, 46)) then begin
-        if (not(global_var(352) bwand 2)) then begin
-            set_global_var(352, global_var(352) bwor 2);
+    LVar3 := 30 + (2 * dude_luck);
+    if (map_first_run and not(global_var(GVAR_MYSTERIOUS_STRANGER) bwand 1) and (LVar2 < LVar3) and has_trait(TRAIT_PERK, dude_obj, PERK_mysterious_stranger)) then begin
+        if (not(global_var(GVAR_MYSTERIOUS_STRANGER) bwand 2)) then begin
+            set_global_var(GVAR_MYSTERIOUS_STRANGER, global_var(GVAR_MYSTERIOUS_STRANGER) bwor 2);
             if (random(0, 99) < 50) then begin
-                set_global_var(352, global_var(352) bwor 4);
+                set_global_var(GVAR_MYSTERIOUS_STRANGER, global_var(GVAR_MYSTERIOUS_STRANGER) bwor 4);
             end
         end
-        if (global_var(352) bwand 4) then begin
-            LVar0 := create_object_sid(16777487, 0, 0, 732);
+        if (global_var(GVAR_MYSTERIOUS_STRANGER) bwand 4) then begin
+            LVar0 := create_object_sid(16777487, 0, 0, SCRIPT_ECMSTSTR);
         end
         else begin
-            LVar0 := create_object_sid(16777486, 0, 0, 732);
+            LVar0 := create_object_sid(16777486, 0, 0, SCRIPT_ECMSTSTR);
         end
-        LVar1 := tile_num_in_direction(tile_num(dude_obj), random(0, 5), random(5, 10));
-        critter_attempt_placement(LVar0, LVar1, elevation(dude_obj));
-        LVar4 := critter_add_trait(LVar0, 1, 6, 0);
-        if (has_trait(0, dude_obj, 20)) then begin
+        LVar1 := tile_num_in_direction(dude_tile, random(0, 5), random(5, 10));
+        critter_attempt_placement(LVar0, LVar1, dude_elevation);
+        LVar4 := critter_add_trait(LVar0, TRAIT_OBJECT, OBJECT_TEAM_NUM, 0);
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(LVar0, 2 * random(30, 60));
         end
         else begin
             item_caps_adjust(LVar0, random(30, 60));
         end
-        anim(LVar0, 1000, has_trait(1, dude_obj, 10));
+        anim(LVar0, 1000, obj_get_rot(dude_obj));
     end
 end
 
@@ -9802,29 +9802,29 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     if (LVar1 < 1) then begin
         LVar1 := 1;
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777252, 0, 0, 772);
+        Critter := create_object_sid(16777252, 0, 0, SCRIPT_ECROGUE);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (388 > 0) then begin
-            LVar3 := create_object_sid(388, 0, 0, -1);
+            LVar3 := create_object(388, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
-        if (has_trait(0, dude_obj, 20)) then begin
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(5, 20));
         end
         else begin
@@ -9838,22 +9838,22 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777253, 0, 0, 772);
+        Critter := create_object_sid(16777253, 0, 0, SCRIPT_ECROGUE);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (354 > 0) then begin
-            LVar3 := create_object_sid(354, 0, 0, -1);
+            LVar3 := create_object(354, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
-        if (has_trait(0, dude_obj, 20)) then begin
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(5, 20));
         end
         else begin
@@ -9867,22 +9867,22 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777255, 0, 0, 772);
+        Critter := create_object_sid(16777255, 0, 0, SCRIPT_ECROGUE);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (11 > 0) then begin
-            LVar3 := create_object_sid(11, 0, 0, -1);
+            LVar3 := create_object(11, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
-        if (has_trait(0, dude_obj, 20)) then begin
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(5, 20));
         end
         else begin
@@ -9896,22 +9896,22 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777254, 0, 0, 772);
+        Critter := create_object_sid(16777254, 0, 0, SCRIPT_ECROGUE);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (268 > 0) then begin
-            LVar3 := create_object_sid(268, 0, 0, -1);
+            LVar3 := create_object(268, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
-        if (has_trait(0, dude_obj, 20)) then begin
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(5, 20));
         end
         else begin
@@ -9926,7 +9926,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 1;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -9934,20 +9934,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777298, 0, 0, 632);
+        Critter := create_object_sid(16777298, 0, 0, SCRIPT_ECWLDDOG);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
 end
@@ -9958,7 +9958,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 1;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -9966,20 +9966,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777222, 0, 0, 616);
+        Critter := create_object_sid(16777222, 0, 0, SCRIPT_ECSCORP);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
 end
@@ -9990,7 +9990,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 1;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -9998,20 +9998,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777232, 0, 0, 614);
+        Critter := create_object_sid(16777232, 0, 0, SCRIPT_ECPLANT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
 end
@@ -10023,7 +10023,7 @@ begin
     variable LVar2 := 0;
     variable LVar3 := 0;
     variable LVar4 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -10031,21 +10031,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777472, 0, 0, 738);
+        Critter := create_object_sid(16777472, 0, 0, SCRIPT_ECUNIPAT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (12 > 0) then begin
-            LVar3 := create_object_sid(12, 0, 0, -1);
+            LVar3 := create_object(12, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(4, 14));
         end
         else begin
@@ -10059,21 +10059,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777474, 0, 0, 738);
+        Critter := create_object_sid(16777474, 0, 0, SCRIPT_ECUNIPAT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (242 > 0) then begin
-            LVar3 := create_object_sid(242, 0, 0, -1);
+            LVar3 := create_object(242, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(3, 10));
         end
         else begin
@@ -10087,21 +10087,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777474, 0, 0, 738);
+        Critter := create_object_sid(16777474, 0, 0, SCRIPT_ECUNIPAT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (23 > 0) then begin
-            LVar3 := create_object_sid(23, 0, 0, -1);
+            LVar3 := create_object(23, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(4, 10));
         end
         else begin
@@ -10115,21 +10115,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777264, 0, 0, 738);
+        Critter := create_object_sid(16777264, 0, 0, SCRIPT_ECUNIPAT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (23 > 0) then begin
-            LVar3 := create_object_sid(23, 0, 0, -1);
+            LVar3 := create_object(23, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 25));
         end
         else begin
@@ -10143,27 +10143,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777265, 0, 0, 738);
+        Critter := create_object_sid(16777265, 0, 0, SCRIPT_ECUNIPAT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (23 > 0) then begin
-            LVar3 := create_object_sid(23, 0, 0, -1);
+            LVar3 := create_object(23, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 25));
         end
         else begin
             item_caps_adjust(Critter, random(10, 25));
         end
-        LVar4 := create_object_sid(14, 0, 0, -1);
+        LVar4 := create_object(14, 0, 0);
         add_mult_objs_to_inven(Critter, LVar4, random(2, 5));
     end
 end
@@ -10174,7 +10174,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -10182,28 +10182,28 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777440, 0, 0, 508);
+        Critter := create_object_sid(16777440, 0, 0, SCRIPT_ECSLAVER);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (9 > 0) then begin
-            LVar3 := create_object_sid(9, 0, 0, -1);
+            LVar3 := create_object(9, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 30));
         end
         else begin
             item_caps_adjust(Critter, random(10, 30));
         end
         set_map_var(1, map_var(1) + 1);
-        LVar3 := create_object_sid(159, 0, 0, -1);
+        LVar3 := create_object(159, 0, 0);
         add_mult_objs_to_inven(Critter, LVar3, 2);
     end
     LVar1 := Encounter_Counter / 4;
@@ -10212,21 +10212,21 @@ begin
         LVar1 := 1;
         for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
             LVar0 := LVar0 + 1;
-            Critter := create_object_sid(16777441, 0, 0, 508);
+            Critter := create_object_sid(16777441, 0, 0, SCRIPT_ECSLAVER);
             LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
             Finding_New_Tile := 0;
             while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                 Finding_New_Tile := Finding_New_Tile + 1;
-                LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
             end
-            critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+            critter_attempt_placement(Critter, LVar2, dude_elevation);
             if (280 > 0) then begin
-                LVar3 := create_object_sid(280, 0, 0, -1);
+                LVar3 := create_object(280, 0, 0);
                 add_obj_to_inven(Critter, LVar3);
                 wield_obj_critter(Critter, LVar3);
             end
-            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-            if (has_trait(0, dude_obj, 20)) then begin
+            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                 item_caps_adjust(Critter, 2 * random(20, 30));
                 continue;
             end
@@ -10239,27 +10239,27 @@ begin
         end
         while (LVar0 < LVar1) do begin
             LVar0 := LVar0 + 1;
-            Critter := create_object_sid(16777440, 0, 0, 508);
+            Critter := create_object_sid(16777440, 0, 0, SCRIPT_ECSLAVER);
             LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
             Finding_New_Tile := 0;
             while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                 Finding_New_Tile := Finding_New_Tile + 1;
-                LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
             end
-            critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+            critter_attempt_placement(Critter, LVar2, dude_elevation);
             if (268 > 0) then begin
-                LVar3 := create_object_sid(268, 0, 0, -1);
+                LVar3 := create_object(268, 0, 0);
                 add_obj_to_inven(Critter, LVar3);
                 wield_obj_critter(Critter, LVar3);
             end
-            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-            if (has_trait(0, dude_obj, 20)) then begin
+            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                 item_caps_adjust(Critter, 2 * random(10, 20));
             end
             else begin
                 item_caps_adjust(Critter, random(10, 20));
             end
-            LVar3 := create_object_sid(259, 0, 0, -1);
+            LVar3 := create_object(259, 0, 0);
             add_mult_objs_to_inven(Critter, LVar3, 1);
             set_map_var(1, map_var(1) + 1);
         end
@@ -10270,27 +10270,27 @@ begin
         end
         while (LVar0 < LVar1) do begin
             LVar0 := LVar0 + 1;
-            Critter := create_object_sid(16777441, 0, 0, 508);
+            Critter := create_object_sid(16777441, 0, 0, SCRIPT_ECSLAVER);
             LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
             Finding_New_Tile := 0;
             while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                 Finding_New_Tile := Finding_New_Tile + 1;
-                LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
             end
-            critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+            critter_attempt_placement(Critter, LVar2, dude_elevation);
             if (236 > 0) then begin
-                LVar3 := create_object_sid(236, 0, 0, -1);
+                LVar3 := create_object(236, 0, 0);
                 add_obj_to_inven(Critter, LVar3);
                 wield_obj_critter(Critter, LVar3);
             end
-            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-            if (has_trait(0, dude_obj, 20)) then begin
+            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                 item_caps_adjust(Critter, 2 * random(15, 30));
             end
             else begin
                 item_caps_adjust(Critter, random(15, 30));
             end
-            LVar3 := create_object_sid(259, 0, 0, -1);
+            LVar3 := create_object(259, 0, 0);
             add_mult_objs_to_inven(Critter, LVar3, 1);
             set_map_var(1, map_var(1) + 1);
         end
@@ -10302,7 +10302,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 1;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -10310,20 +10310,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777298, 0, 0, 632);
+        Critter := create_object_sid(16777298, 0, 0, SCRIPT_ECWLDDOG);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
 end
@@ -10334,7 +10334,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter * 7 / 10;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -10342,20 +10342,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777302, 0, 0, 615);
+        Critter := create_object_sid(16777302, 0, 0, SCRIPT_ECGECKO);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter * 3 / 10;
@@ -10365,20 +10365,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777299, 0, 0, 615);
+        Critter := create_object_sid(16777299, 0, 0, SCRIPT_ECGECKO);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
 end
@@ -10389,7 +10389,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -10397,27 +10397,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777438, 0, 0, 491);
+        Critter := create_object_sid(16777438, 0, 0, SCRIPT_ECVLTPAT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (23 > 0) then begin
-            LVar3 := create_object_sid(23, 0, 0, -1);
+            LVar3 := create_object(23, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(30, 40));
         end
         else begin
             item_caps_adjust(Critter, random(30, 40));
         end
-        LVar3 := create_object_sid(40, 0, 0, -1);
+        LVar3 := create_object(40, 0, 0);
         add_mult_objs_to_inven(Critter, LVar3, 1);
     end
     LVar1 := Encounter_Counter / 4;
@@ -10427,27 +10427,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777439, 0, 0, 491);
+        Critter := create_object_sid(16777439, 0, 0, SCRIPT_ECVLTPAT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (23 > 0) then begin
-            LVar3 := create_object_sid(23, 0, 0, -1);
+            LVar3 := create_object(23, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 40));
         end
         else begin
             item_caps_adjust(Critter, random(20, 40));
         end
-        LVar3 := create_object_sid(40, 0, 0, -1);
+        LVar3 := create_object(40, 0, 0);
         add_mult_objs_to_inven(Critter, LVar3, 1);
     end
     LVar1 := Encounter_Counter / 4;
@@ -10457,27 +10457,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777438, 0, 0, 491);
+        Critter := create_object_sid(16777438, 0, 0, SCRIPT_ECVLTPAT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (18 > 0) then begin
-            LVar3 := create_object_sid(18, 0, 0, -1);
+            LVar3 := create_object(18, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 40));
         end
         else begin
             item_caps_adjust(Critter, random(20, 40));
         end
-        LVar3 := create_object_sid(40, 0, 0, -1);
+        LVar3 := create_object(40, 0, 0);
         add_mult_objs_to_inven(Critter, LVar3, 1);
     end
     LVar1 := Encounter_Counter / 4;
@@ -10487,27 +10487,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777439, 0, 0, 491);
+        Critter := create_object_sid(16777439, 0, 0, SCRIPT_ECVLTPAT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (18 > 0) then begin
-            LVar3 := create_object_sid(18, 0, 0, -1);
+            LVar3 := create_object(18, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(15, 30));
         end
         else begin
             item_caps_adjust(Critter, random(15, 30));
         end
-        LVar3 := create_object_sid(40, 0, 0, -1);
+        LVar3 := create_object(40, 0, 0);
         add_mult_objs_to_inven(Critter, LVar3, 1);
     end
 end
@@ -10518,28 +10518,28 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
         LVar1 := 1;
         for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
             LVar0 := LVar0 + 1;
-            Critter := create_object_sid(16777454, 0, 0, 256);
+            Critter := create_object_sid(16777454, 0, 0, SCRIPT_ECRAIDER);
             LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
             Finding_New_Tile := 0;
             while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                 Finding_New_Tile := Finding_New_Tile + 1;
-                LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
             end
-            critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+            critter_attempt_placement(Critter, LVar2, dude_elevation);
             if (23 > 0) then begin
-                LVar3 := create_object_sid(23, 0, 0, -1);
+                LVar3 := create_object(23, 0, 0);
                 add_obj_to_inven(Critter, LVar3);
                 wield_obj_critter(Critter, LVar3);
             end
-            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-            if (has_trait(0, dude_obj, 20)) then begin
+            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                 item_caps_adjust(Critter, 2 * random(14, 23));
                 continue;
             end
@@ -10551,21 +10551,21 @@ begin
             LVar1 := 1;
             for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                 LVar0 := LVar0 + 1;
-                Critter := create_object_sid(16777454, 0, 0, 256);
+                Critter := create_object_sid(16777454, 0, 0, SCRIPT_ECRAIDER);
                 LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                 Finding_New_Tile := 0;
                 while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                     Finding_New_Tile := Finding_New_Tile + 1;
-                    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                 end
-                critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+                critter_attempt_placement(Critter, LVar2, dude_elevation);
                 if (242 > 0) then begin
-                    LVar3 := create_object_sid(242, 0, 0, -1);
+                    LVar3 := create_object(242, 0, 0);
                     add_obj_to_inven(Critter, LVar3);
                     wield_obj_critter(Critter, LVar3);
                 end
-                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                if (has_trait(0, dude_obj, 20)) then begin
+                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                     item_caps_adjust(Critter, 2 * random(20, 26));
                     continue;
                 end
@@ -10577,21 +10577,21 @@ begin
                 LVar1 := 1;
                 for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                     LVar0 := LVar0 + 1;
-                    Critter := create_object_sid(16777455, 0, 0, 256);
+                    Critter := create_object_sid(16777455, 0, 0, SCRIPT_ECRAIDER);
                     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                     Finding_New_Tile := 0;
                     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                         Finding_New_Tile := Finding_New_Tile + 1;
-                        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                     end
-                    critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+                    critter_attempt_placement(Critter, LVar2, dude_elevation);
                     if (268 > 0) then begin
-                        LVar3 := create_object_sid(268, 0, 0, -1);
+                        LVar3 := create_object(268, 0, 0);
                         add_obj_to_inven(Critter, LVar3);
                         wield_obj_critter(Critter, LVar3);
                     end
-                    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                    if (has_trait(0, dude_obj, 20)) then begin
+                    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                         item_caps_adjust(Critter, 2 * random(13, 21));
                         continue;
                     end
@@ -10603,21 +10603,21 @@ begin
                     LVar1 := 1;
                     for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                         LVar0 := LVar0 + 1;
-                        Critter := create_object_sid(16777455, 0, 0, 256);
+                        Critter := create_object_sid(16777455, 0, 0, SCRIPT_ECRAIDER);
                         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                         Finding_New_Tile := 0;
                         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                             Finding_New_Tile := Finding_New_Tile + 1;
-                            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                         end
-                        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+                        critter_attempt_placement(Critter, LVar2, dude_elevation);
                         if (332 > 0) then begin
-                            LVar3 := create_object_sid(332, 0, 0, -1);
+                            LVar3 := create_object(332, 0, 0);
                             add_obj_to_inven(Critter, LVar3);
                             wield_obj_critter(Critter, LVar3);
                         end
-                        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                        if (has_trait(0, dude_obj, 20)) then begin
+                        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                             item_caps_adjust(Critter, 2 * random(15, 28));
                             continue;
                         end
@@ -10631,24 +10631,24 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, 18);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, 18);
     call Build_Grey_Caravan();
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777274, 0, 0, 789);
+    Critter := create_object_sid(16777274, 0, 0, SCRIPT_ECMSTVC);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
-    critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+    critter_attempt_placement(Critter, LVar2, dude_elevation);
     if (-1 > 0) then begin
-        LVar3 := create_object_sid(-1, 0, 0, -1);
+        LVar3 := create_object(-1, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(50, 90));
     end
     else begin
@@ -10661,21 +10661,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777256, 0, 0, 259);
+        Critter := create_object_sid(16777256, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (10 > 0) then begin
-            LVar3 := create_object_sid(10, 0, 0, -1);
+            LVar3 := create_object(10, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 30));
         end
         else begin
@@ -10689,21 +10689,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777257, 0, 0, 259);
+        Critter := create_object_sid(16777257, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (8 > 0) then begin
-            LVar3 := create_object_sid(8, 0, 0, -1);
+            LVar3 := create_object(8, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(15, 30));
         end
         else begin
@@ -10717,21 +10717,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777256, 0, 0, 259);
+        Critter := create_object_sid(16777256, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (9 > 0) then begin
-            LVar3 := create_object_sid(9, 0, 0, -1);
+            LVar3 := create_object(9, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 20));
         end
         else begin
@@ -10745,21 +10745,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777257, 0, 0, 259);
+        Critter := create_object_sid(16777257, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (18 > 0) then begin
-            LVar3 := create_object_sid(18, 0, 0, -1);
+            LVar3 := create_object(18, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(12, 22));
         end
         else begin
@@ -10774,24 +10774,24 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, 14);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, 14);
     call Build_Grey_Caravan();
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777277, 0, 0, 779);
+    Critter := create_object_sid(16777277, 0, 0, SCRIPT_ECMSTBRO);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
-    critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+    critter_attempt_placement(Critter, LVar2, dude_elevation);
     if (268 > 0) then begin
-        LVar3 := create_object_sid(268, 0, 0, -1);
+        LVar3 := create_object(268, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(100, 130));
     end
     else begin
@@ -10804,21 +10804,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777264, 0, 0, 259);
+        Critter := create_object_sid(16777264, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (12 > 0) then begin
-            LVar3 := create_object_sid(12, 0, 0, -1);
+            LVar3 := create_object(12, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(30, 50));
         end
         else begin
@@ -10832,21 +10832,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777265, 0, 0, 259);
+        Critter := create_object_sid(16777265, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (12 > 0) then begin
-            LVar3 := create_object_sid(12, 0, 0, -1);
+            LVar3 := create_object(12, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(25, 45));
         end
         else begin
@@ -10861,24 +10861,24 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, 13);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, 13);
     call Build_Grey_Caravan();
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777395, 0, 0, 780);
+    Critter := create_object_sid(16777395, 0, 0, SCRIPT_ECMSTGEC);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
-    critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+    critter_attempt_placement(Critter, LVar2, dude_elevation);
     if (94 > 0) then begin
-        LVar3 := create_object_sid(94, 0, 0, -1);
+        LVar3 := create_object(94, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(30, 50));
     end
     else begin
@@ -10891,21 +10891,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777318, 0, 0, 259);
+        Critter := create_object_sid(16777318, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (10 > 0) then begin
-            LVar3 := create_object_sid(10, 0, 0, -1);
+            LVar3 := create_object(10, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 20));
         end
         else begin
@@ -10919,21 +10919,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777318, 0, 0, 259);
+        Critter := create_object_sid(16777318, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (23 > 0) then begin
-            LVar3 := create_object_sid(23, 0, 0, -1);
+            LVar3 := create_object(23, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(15, 25));
         end
         else begin
@@ -10948,28 +10948,28 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
         LVar1 := 1;
         for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
             LVar0 := LVar0 + 1;
-            Critter := create_object_sid(16777479, 0, 0, 771);
+            Critter := create_object_sid(16777479, 0, 0, SCRIPT_ECMARADR);
             LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
             Finding_New_Tile := 0;
             while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                 Finding_New_Tile := Finding_New_Tile + 1;
-                LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
             end
-            critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+            critter_attempt_placement(Critter, LVar2, dude_elevation);
             if (268 > 0) then begin
-                LVar3 := create_object_sid(268, 0, 0, -1);
+                LVar3 := create_object(268, 0, 0);
                 add_obj_to_inven(Critter, LVar3);
                 wield_obj_critter(Critter, LVar3);
             end
-            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-            if (has_trait(0, dude_obj, 20)) then begin
+            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                 item_caps_adjust(Critter, 2 * random(10, 40));
                 continue;
             end
@@ -10981,21 +10981,21 @@ begin
             LVar1 := 1;
             for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                 LVar0 := LVar0 + 1;
-                Critter := create_object_sid(16777479, 0, 0, 771);
+                Critter := create_object_sid(16777479, 0, 0, SCRIPT_ECMARADR);
                 LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                 Finding_New_Tile := 0;
                 while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                     Finding_New_Tile := Finding_New_Tile + 1;
-                    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                 end
-                critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+                critter_attempt_placement(Critter, LVar2, dude_elevation);
                 if (296 > 0) then begin
-                    LVar3 := create_object_sid(296, 0, 0, -1);
+                    LVar3 := create_object(296, 0, 0);
                     add_obj_to_inven(Critter, LVar3);
                     wield_obj_critter(Critter, LVar3);
                 end
-                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                if (has_trait(0, dude_obj, 20)) then begin
+                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                     item_caps_adjust(Critter, 2 * random(10, 30));
                     continue;
                 end
@@ -11007,21 +11007,21 @@ begin
                 LVar1 := 1;
                 for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                     LVar0 := LVar0 + 1;
-                    Critter := create_object_sid(16777480, 0, 0, 771);
+                    Critter := create_object_sid(16777480, 0, 0, SCRIPT_ECMARADR);
                     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                     Finding_New_Tile := 0;
                     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                         Finding_New_Tile := Finding_New_Tile + 1;
-                        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                     end
-                    critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+                    critter_attempt_placement(Critter, LVar2, dude_elevation);
                     if (280 > 0) then begin
-                        LVar3 := create_object_sid(280, 0, 0, -1);
+                        LVar3 := create_object(280, 0, 0);
                         add_obj_to_inven(Critter, LVar3);
                         wield_obj_critter(Critter, LVar3);
                     end
-                    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                    if (has_trait(0, dude_obj, 20)) then begin
+                    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                         item_caps_adjust(Critter, 2 * random(10, 40));
                         continue;
                     end
@@ -11033,21 +11033,21 @@ begin
                     LVar1 := 1;
                     for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                         LVar0 := LVar0 + 1;
-                        Critter := create_object_sid(16777480, 0, 0, 771);
+                        Critter := create_object_sid(16777480, 0, 0, SCRIPT_ECMARADR);
                         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                         Finding_New_Tile := 0;
                         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                             Finding_New_Tile := Finding_New_Tile + 1;
-                            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                         end
-                        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+                        critter_attempt_placement(Critter, LVar2, dude_elevation);
                         if (236 > 0) then begin
-                            LVar3 := create_object_sid(236, 0, 0, -1);
+                            LVar3 := create_object(236, 0, 0);
                             add_obj_to_inven(Critter, LVar3);
                             wield_obj_critter(Critter, LVar3);
                         end
-                        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                        if (has_trait(0, dude_obj, 20)) then begin
+                        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                             item_caps_adjust(Critter, 2 * random(10, 30));
                             continue;
                         end
@@ -11061,24 +11061,24 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, random(13, 16));
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, random(13, 16));
     call Build_Grey_Caravan();
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777275, 0, 0, 777);
+    Critter := create_object_sid(16777275, 0, 0, SCRIPT_ECMSTNEW);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
-    critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+    critter_attempt_placement(Critter, LVar2, dude_elevation);
     if (-1 > 0) then begin
-        LVar3 := create_object_sid(-1, 0, 0, -1);
+        LVar3 := create_object(-1, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(20, 40));
     end
     else begin
@@ -11091,21 +11091,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777262, 0, 0, 259);
+        Critter := create_object_sid(16777262, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (22 > 0) then begin
-            LVar3 := create_object_sid(22, 0, 0, -1);
+            LVar3 := create_object(22, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 20));
         end
         else begin
@@ -11119,21 +11119,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777263, 0, 0, 259);
+        Critter := create_object_sid(16777263, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (23 > 0) then begin
-            LVar3 := create_object_sid(23, 0, 0, -1);
+            LVar3 := create_object(23, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(8, 18));
         end
         else begin
@@ -11147,21 +11147,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777258, 0, 0, 259);
+        Critter := create_object_sid(16777258, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (115 > 0) then begin
-            LVar3 := create_object_sid(115, 0, 0, -1);
+            LVar3 := create_object(115, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(5, 15));
         end
         else begin
@@ -11175,27 +11175,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777261, 0, 0, 259);
+        Critter := create_object_sid(16777261, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (385 > 0) then begin
-            LVar3 := create_object_sid(385, 0, 0, -1);
+            LVar3 := create_object(385, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(13, 23));
         end
         else begin
             item_caps_adjust(Critter, random(13, 23));
         end
-        LVar3 := create_object_sid(95, 0, 0, -1);
+        LVar3 := create_object(95, 0, 0);
         add_mult_objs_to_inven(Critter, LVar3, 2);
     end
 end
@@ -11206,24 +11206,24 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, 13);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, 13);
     call Build_Grey_Caravan();
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777277, 0, 0, 778);
+    Critter := create_object_sid(16777277, 0, 0, SCRIPT_ECMSTRED);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
-    critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+    critter_attempt_placement(Critter, LVar2, dude_elevation);
     if (-1 > 0) then begin
-        LVar3 := create_object_sid(-1, 0, 0, -1);
+        LVar3 := create_object(-1, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(40, 100));
     end
     else begin
@@ -11236,21 +11236,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777262, 0, 0, 259);
+        Critter := create_object_sid(16777262, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (23 > 0) then begin
-            LVar3 := create_object_sid(23, 0, 0, -1);
+            LVar3 := create_object(23, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 30));
         end
         else begin
@@ -11264,21 +11264,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777264, 0, 0, 259);
+        Critter := create_object_sid(16777264, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (12 > 0) then begin
-            LVar3 := create_object_sid(12, 0, 0, -1);
+            LVar3 := create_object(12, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 40));
         end
         else begin
@@ -11292,21 +11292,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777263, 0, 0, 259);
+        Critter := create_object_sid(16777263, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (22 > 0) then begin
-            LVar3 := create_object_sid(22, 0, 0, -1);
+            LVar3 := create_object(22, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 30));
         end
         else begin
@@ -11320,21 +11320,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777263, 0, 0, 259);
+        Critter := create_object_sid(16777263, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (332 > 0) then begin
-            LVar3 := create_object_sid(332, 0, 0, -1);
+            LVar3 := create_object(332, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 30));
         end
         else begin
@@ -11349,24 +11349,24 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     call Build_Grey_Caravan();
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777277, 0, 0, 782);
+    Critter := create_object_sid(16777277, 0, 0, SCRIPT_ECMSTNCR);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
-    critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+    critter_attempt_placement(Critter, LVar2, dude_elevation);
     if (268 > 0) then begin
-        LVar3 := create_object_sid(268, 0, 0, -1);
+        LVar3 := create_object(268, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(50, 100));
     end
     else begin
@@ -11379,21 +11379,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777477, 0, 0, 259);
+        Critter := create_object_sid(16777477, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (242 > 0) then begin
-            LVar3 := create_object_sid(242, 0, 0, -1);
+            LVar3 := create_object(242, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 40));
         end
         else begin
@@ -11407,21 +11407,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777477, 0, 0, 259);
+        Critter := create_object_sid(16777477, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (11 > 0) then begin
-            LVar3 := create_object_sid(11, 0, 0, -1);
+            LVar3 := create_object(11, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(25, 45));
         end
         else begin
@@ -11435,21 +11435,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777478, 0, 0, 259);
+        Critter := create_object_sid(16777478, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (268 > 0) then begin
-            LVar3 := create_object_sid(268, 0, 0, -1);
+            LVar3 := create_object(268, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 30));
         end
         else begin
@@ -11463,21 +11463,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777478, 0, 0, 259);
+        Critter := create_object_sid(16777478, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (332 > 0) then begin
-            LVar3 := create_object_sid(332, 0, 0, -1);
+            LVar3 := create_object(332, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 40));
         end
         else begin
@@ -11492,24 +11492,24 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     call Build_Grey_Caravan();
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777277, 0, 0, 783);
+    Critter := create_object_sid(16777277, 0, 0, SCRIPT_ECMSTV15);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
-    critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+    critter_attempt_placement(Critter, LVar2, dude_elevation);
     if (332 > 0) then begin
-        LVar3 := create_object_sid(332, 0, 0, -1);
+        LVar3 := create_object(332, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(50, 100));
     end
     else begin
@@ -11522,21 +11522,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777477, 0, 0, 259);
+        Critter := create_object_sid(16777477, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (242 > 0) then begin
-            LVar3 := create_object_sid(242, 0, 0, -1);
+            LVar3 := create_object(242, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 40));
         end
         else begin
@@ -11550,21 +11550,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777477, 0, 0, 259);
+        Critter := create_object_sid(16777477, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (11 > 0) then begin
-            LVar3 := create_object_sid(11, 0, 0, -1);
+            LVar3 := create_object(11, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(25, 45));
         end
         else begin
@@ -11578,21 +11578,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777478, 0, 0, 259);
+        Critter := create_object_sid(16777478, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (268 > 0) then begin
-            LVar3 := create_object_sid(268, 0, 0, -1);
+            LVar3 := create_object(268, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 30));
         end
         else begin
@@ -11606,21 +11606,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777478, 0, 0, 259);
+        Critter := create_object_sid(16777478, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (332 > 0) then begin
-            LVar3 := create_object_sid(332, 0, 0, -1);
+            LVar3 := create_object(332, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 40));
         end
         else begin
@@ -11635,24 +11635,24 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     if (random(0, 99) < 50) then begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777437, 0, 0, 496);
+        Critter := create_object_sid(16777437, 0, 0, SCRIPT_ECTRVLR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (236 > 0) then begin
-            LVar3 := create_object_sid(236, 0, 0, -1);
+            LVar3 := create_object(236, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(5, 15));
         end
         else begin
@@ -11661,21 +11661,21 @@ begin
     end
     else begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777436, 0, 0, 496);
+        Critter := create_object_sid(16777436, 0, 0, SCRIPT_ECTRVLR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (235 > 0) then begin
-            LVar3 := create_object_sid(235, 0, 0, -1);
+            LVar3 := create_object(235, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(5, 15));
         end
         else begin
@@ -11690,7 +11690,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -11698,20 +11698,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777473, 0, 0, 762);
+        Critter := create_object_sid(16777473, 0, 0, SCRIPT_ECMSTAMY);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (118 > 0) then begin
-            LVar3 := create_object_sid(118, 0, 0, -1);
+            LVar3 := create_object(118, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter / 4;
@@ -11721,21 +11721,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777472, 0, 0, 762);
+        Critter := create_object_sid(16777472, 0, 0, SCRIPT_ECMSTAMY);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (12 > 0) then begin
-            LVar3 := create_object_sid(12, 0, 0, -1);
+            LVar3 := create_object(12, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        LVar3 := create_object_sid(35, 0, 0, -1);
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        LVar3 := create_object(35, 0, 0);
         add_mult_objs_to_inven(Critter, LVar3, random(1, 3));
         set_map_var(1, map_var(1) + 1);
     end
@@ -11746,20 +11746,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777464, 0, 0, 793);
+        Critter := create_object_sid(16777464, 0, 0, SCRIPT_ECCENTUR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter / 4;
@@ -11769,20 +11769,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777462, 0, 0, 792);
+        Critter := create_object_sid(16777462, 0, 0, SCRIPT_ECFLOATR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
 end
@@ -11793,7 +11793,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -11801,21 +11801,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777477, 0, 0, 485);
+        Critter := create_object_sid(16777477, 0, 0, SCRIPT_ECRANGER);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (242 > 0) then begin
-            LVar3 := create_object_sid(242, 0, 0, -1);
+            LVar3 := create_object(242, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 30));
         end
         else begin
@@ -11829,21 +11829,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777477, 0, 0, 485);
+        Critter := create_object_sid(16777477, 0, 0, SCRIPT_ECRANGER);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (11 > 0) then begin
-            LVar3 := create_object_sid(11, 0, 0, -1);
+            LVar3 := create_object(11, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(15, 30));
         end
         else begin
@@ -11857,21 +11857,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777478, 0, 0, 485);
+        Critter := create_object_sid(16777478, 0, 0, SCRIPT_ECRANGER);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (268 > 0) then begin
-            LVar3 := create_object_sid(268, 0, 0, -1);
+            LVar3 := create_object(268, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 30));
         end
         else begin
@@ -11885,21 +11885,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777478, 0, 0, 485);
+        Critter := create_object_sid(16777478, 0, 0, SCRIPT_ECRANGER);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (332 > 0) then begin
-            LVar3 := create_object_sid(332, 0, 0, -1);
+            LVar3 := create_object(332, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 40));
         end
         else begin
@@ -11914,7 +11914,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter * 2 / 3;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -11922,27 +11922,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777281, 0, 0, 493);
+        Critter := create_object_sid(16777281, 0, 0, SCRIPT_ECFARMER);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (9 > 0) then begin
-            LVar3 := create_object_sid(9, 0, 0, -1);
+            LVar3 := create_object(9, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(2, 10));
         end
         else begin
             item_caps_adjust(Critter, random(2, 10));
         end
-        LVar3 := create_object_sid(71, 0, 0, -1);
+        LVar3 := create_object(71, 0, 0);
         add_mult_objs_to_inven(Critter, LVar3, random(2, 5));
     end
     LVar1 := Encounter_Counter / 3;
@@ -11952,62 +11952,62 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777282, 0, 0, 493);
+        Critter := create_object_sid(16777282, 0, 0, SCRIPT_ECFARMER);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (10 > 0) then begin
-            LVar3 := create_object_sid(10, 0, 0, -1);
+            LVar3 := create_object(10, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(5, 10));
         end
         else begin
             item_caps_adjust(Critter, random(5, 10));
         end
-        LVar3 := create_object_sid(71, 0, 0, -1);
+        LVar3 := create_object(71, 0, 0);
         add_mult_objs_to_inven(Critter, LVar3, random(2, 5));
     end
     if (random(0, 99) < 30) then begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777268, 0, 0, 1129);
+        Critter := create_object_sid(16777268, 0, 0, SCRIPT_ECCHILD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
     end
     if (random(0, 99) < 30) then begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777269, 0, 0, 1129);
+        Critter := create_object_sid(16777269, 0, 0, SCRIPT_ECCHILD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
     end
 end
 
@@ -12017,24 +12017,24 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     call Build_Grey_Caravan();
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777272, 0, 0, 776);
+    Critter := create_object_sid(16777272, 0, 0, SCRIPT_ECMSTDEN);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
-    critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+    critter_attempt_placement(Critter, LVar2, dude_elevation);
     if (-1 > 0) then begin
-        LVar3 := create_object_sid(-1, 0, 0, -1);
+        LVar3 := create_object(-1, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(3, 20));
     end
     else begin
@@ -12047,21 +12047,21 @@ begin
         LVar1 := 1;
         for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
             LVar0 := LVar0 + 1;
-            Critter := create_object_sid(16777440, 0, 0, 259);
+            Critter := create_object_sid(16777440, 0, 0, SCRIPT_ECGUARD);
             LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
             Finding_New_Tile := 0;
             while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                 Finding_New_Tile := Finding_New_Tile + 1;
-                LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
             end
-            critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+            critter_attempt_placement(Critter, LVar2, dude_elevation);
             if (236 > 0) then begin
-                LVar3 := create_object_sid(236, 0, 0, -1);
+                LVar3 := create_object(236, 0, 0);
                 add_obj_to_inven(Critter, LVar3);
                 wield_obj_critter(Critter, LVar3);
             end
-            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-            if (has_trait(0, dude_obj, 20)) then begin
+            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                 item_caps_adjust(Critter, 2 * random(3, 10));
                 continue;
             end
@@ -12073,21 +12073,21 @@ begin
             LVar1 := 1;
             for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                 LVar0 := LVar0 + 1;
-                Critter := create_object_sid(16777356, 0, 0, 259);
+                Critter := create_object_sid(16777356, 0, 0, SCRIPT_ECGUARD);
                 LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                 Finding_New_Tile := 0;
                 while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                     Finding_New_Tile := Finding_New_Tile + 1;
-                    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                 end
-                critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+                critter_attempt_placement(Critter, LVar2, dude_elevation);
                 if (9 > 0) then begin
-                    LVar3 := create_object_sid(9, 0, 0, -1);
+                    LVar3 := create_object(9, 0, 0);
                     add_obj_to_inven(Critter, LVar3);
                     wield_obj_critter(Critter, LVar3);
                 end
-                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                if (has_trait(0, dude_obj, 20)) then begin
+                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                     item_caps_adjust(Critter, 2 * random(2, 10));
                     continue;
                 end
@@ -12100,20 +12100,20 @@ begin
             end
             while (LVar0 < LVar1) do begin
                 LVar0 := LVar0 + 1;
-                Critter := create_object_sid(16777235, 0, 0, 259);
+                Critter := create_object_sid(16777235, 0, 0, SCRIPT_ECGUARD);
                 LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                 Finding_New_Tile := 0;
                 while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                     Finding_New_Tile := Finding_New_Tile + 1;
-                    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                 end
-                critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+                critter_attempt_placement(Critter, LVar2, dude_elevation);
                 if (-1 > 0) then begin
-                    LVar3 := create_object_sid(-1, 0, 0, -1);
+                    LVar3 := create_object(-1, 0, 0);
                     add_obj_to_inven(Critter, LVar3);
                     wield_obj_critter(Critter, LVar3);
                 end
-                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
             end
             LVar1 := Encounter_Counter * 3 / 20;
             LVar0 := 0;
@@ -12122,20 +12122,20 @@ begin
             end
             while (LVar0 < LVar1) do begin
                 LVar0 := LVar0 + 1;
-                Critter := create_object_sid(16777236, 0, 0, 259);
+                Critter := create_object_sid(16777236, 0, 0, SCRIPT_ECGUARD);
                 LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                 Finding_New_Tile := 0;
                 while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                     Finding_New_Tile := Finding_New_Tile + 1;
-                    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                 end
-                critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+                critter_attempt_placement(Critter, LVar2, dude_elevation);
                 if (-1 > 0) then begin
-                    LVar3 := create_object_sid(-1, 0, 0, -1);
+                    LVar3 := create_object(-1, 0, 0);
                     add_obj_to_inven(Critter, LVar3);
                     wield_obj_critter(Critter, LVar3);
                 end
-                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
             end
         end
 
@@ -12145,7 +12145,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter * 3 / 10;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -12153,27 +12153,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777246, 0, 0, 626);
+        Critter := create_object_sid(16777246, 0, 0, SCRIPT_ECHIWYMN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (313 > 0) then begin
-            LVar3 := create_object_sid(313, 0, 0, -1);
+            LVar3 := create_object(313, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(5, 10));
         end
         else begin
             item_caps_adjust(Critter, random(5, 10));
         end
-        LVar3 := create_object_sid(40, 0, 0, -1);
+        LVar3 := create_object(40, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         set_map_var(1, map_var(1) + 1);
     end
@@ -12184,29 +12184,29 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777247, 0, 0, 626);
+        Critter := create_object_sid(16777247, 0, 0, SCRIPT_ECHIWYMN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (351 > 0) then begin
-            LVar3 := create_object_sid(351, 0, 0, -1);
+            LVar3 := create_object(351, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(6, 10));
         end
         else begin
             item_caps_adjust(Critter, random(6, 10));
         end
-        LVar3 := create_object_sid(363, 0, 0, -1);
+        LVar3 := create_object(363, 0, 0);
         add_obj_to_inven(Critter, LVar3);
-        LVar3 := create_object_sid(40, 0, 0, -1);
+        LVar3 := create_object(40, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         set_map_var(1, map_var(1) + 1);
     end
@@ -12217,27 +12217,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777246, 0, 0, 626);
+        Critter := create_object_sid(16777246, 0, 0, SCRIPT_ECHIWYMN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (18 > 0) then begin
-            LVar3 := create_object_sid(18, 0, 0, -1);
+            LVar3 := create_object(18, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(4, 12));
         end
         else begin
             item_caps_adjust(Critter, random(4, 12));
         end
-        LVar3 := create_object_sid(273, 0, 0, -1);
+        LVar3 := create_object(273, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         set_map_var(1, map_var(1) + 1);
     end
@@ -12248,29 +12248,29 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777247, 0, 0, 626);
+        Critter := create_object_sid(16777247, 0, 0, SCRIPT_ECHIWYMN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (94 > 0) then begin
-            LVar3 := create_object_sid(94, 0, 0, -1);
+            LVar3 := create_object(94, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(5, 10));
         end
         else begin
             item_caps_adjust(Critter, random(5, 10));
         end
-        LVar3 := create_object_sid(273, 0, 0, -1);
+        LVar3 := create_object(273, 0, 0);
         add_obj_to_inven(Critter, LVar3);
-        LVar3 := create_object_sid(95, 0, 0, -1);
+        LVar3 := create_object(95, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         set_map_var(1, map_var(1) + 1);
     end
@@ -12282,7 +12282,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter * 2 / 5;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -12290,27 +12290,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777246, 0, 0, 625);
+        Critter := create_object_sid(16777246, 0, 0, SCRIPT_ECROBBER);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (94 > 0) then begin
-            LVar3 := create_object_sid(94, 0, 0, -1);
+            LVar3 := create_object(94, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(5, 11));
         end
         else begin
             item_caps_adjust(Critter, random(5, 11));
         end
-        LVar3 := create_object_sid(95, 0, 0, -1);
+        LVar3 := create_object(95, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         set_map_var(1, map_var(1) + 1);
     end
@@ -12321,27 +12321,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777247, 0, 0, 625);
+        Critter := create_object_sid(16777247, 0, 0, SCRIPT_ECROBBER);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (9 > 0) then begin
-            LVar3 := create_object_sid(9, 0, 0, -1);
+            LVar3 := create_object(9, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(6, 12));
         end
         else begin
             item_caps_adjust(Critter, random(6, 12));
         end
-        LVar3 := create_object_sid(29, 0, 0, -1);
+        LVar3 := create_object(29, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         set_map_var(1, map_var(1) + 1);
     end
@@ -12352,29 +12352,29 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777250, 0, 0, 625);
+        Critter := create_object_sid(16777250, 0, 0, SCRIPT_ECROBBER);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (236 > 0) then begin
-            LVar3 := create_object_sid(236, 0, 0, -1);
+            LVar3 := create_object(236, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(6, 10));
         end
         else begin
             item_caps_adjust(Critter, random(6, 10));
         end
-        LVar3 := create_object_sid(40, 0, 0, -1);
+        LVar3 := create_object(40, 0, 0);
         add_obj_to_inven(Critter, LVar3);
-        LVar3 := create_object_sid(259, 0, 0, -1);
+        LVar3 := create_object(259, 0, 0);
         add_mult_objs_to_inven(Critter, LVar3, random(1, 3));
         set_map_var(1, map_var(1) + 1);
     end
@@ -12385,27 +12385,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777251, 0, 0, 625);
+        Critter := create_object_sid(16777251, 0, 0, SCRIPT_ECROBBER);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (9 > 0) then begin
-            LVar3 := create_object_sid(9, 0, 0, -1);
+            LVar3 := create_object(9, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 14));
         end
         else begin
             item_caps_adjust(Critter, random(10, 14));
         end
-        LVar3 := create_object_sid(259, 0, 0, -1);
+        LVar3 := create_object(259, 0, 0);
         add_mult_objs_to_inven(Critter, LVar3, random(1, 4));
         set_map_var(1, map_var(1) + 1);
     end
@@ -12417,31 +12417,31 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777433, 0, 0, 776);
+    Critter := create_object_sid(16777433, 0, 0, SCRIPT_ECMSTDEN);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
-    critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+    critter_attempt_placement(Critter, LVar2, dude_elevation);
     if (10 > 0) then begin
-        LVar3 := create_object_sid(10, 0, 0, -1);
+        LVar3 := create_object(10, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(20, 40));
     end
     else begin
         item_caps_adjust(Critter, random(20, 40));
     end
-    LVar3 := create_object_sid(40, 0, 0, -1);
+    LVar3 := create_object(40, 0, 0);
     add_obj_to_inven(Critter, LVar3);
-    LVar3 := create_object_sid(259, 0, 0, -1);
+    LVar3 := create_object(259, 0, 0);
     add_obj_to_inven(Critter, LVar3);
     LVar1 := Encounter_Counter * 2 / 5;
     LVar0 := 0;
@@ -12450,21 +12450,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777262, 0, 0, 259);
+        Critter := create_object_sid(16777262, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (10 > 0) then begin
-            LVar3 := create_object_sid(10, 0, 0, -1);
+            LVar3 := create_object(10, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 20));
         end
         else begin
@@ -12478,20 +12478,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777233, 0, 0, 628);
+        Critter := create_object_sid(16777233, 0, 0, SCRIPT_ECSLAVE);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
     end
     LVar1 := Encounter_Counter * 3 / 10;
     LVar0 := 0;
@@ -12500,20 +12500,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777240, 0, 0, 628);
+        Critter := create_object_sid(16777240, 0, 0, SCRIPT_ECSLAVE);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
     end
 end
 
@@ -12523,31 +12523,31 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777246, 0, 0, 626);
+    Critter := create_object_sid(16777246, 0, 0, SCRIPT_ECHIWYMN);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
-    critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+    critter_attempt_placement(Critter, LVar2, dude_elevation);
     if (10 > 0) then begin
-        LVar3 := create_object_sid(10, 0, 0, -1);
+        LVar3 := create_object(10, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(40, 70));
     end
     else begin
         item_caps_adjust(Critter, random(40, 70));
     end
-    LVar3 := create_object_sid(40, 0, 0, -1);
+    LVar3 := create_object(40, 0, 0);
     add_obj_to_inven(Critter, LVar3);
-    LVar3 := create_object_sid(259, 0, 0, -1);
+    LVar3 := create_object(259, 0, 0);
     add_obj_to_inven(Critter, LVar3);
     set_map_var(1, map_var(1) + 1);
     LVar1 := Encounter_Counter / 4;
@@ -12557,27 +12557,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777250, 0, 0, 626);
+        Critter := create_object_sid(16777250, 0, 0, SCRIPT_ECHIWYMN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (236 > 0) then begin
-            LVar3 := create_object_sid(236, 0, 0, -1);
+            LVar3 := create_object(236, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 20));
         end
         else begin
             item_caps_adjust(Critter, random(10, 20));
         end
-        LVar3 := create_object_sid(40, 0, 0, -1);
+        LVar3 := create_object(40, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         set_map_var(1, map_var(1) + 1);
     end
@@ -12588,27 +12588,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777251, 0, 0, 626);
+        Critter := create_object_sid(16777251, 0, 0, SCRIPT_ECHIWYMN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (236 > 0) then begin
-            LVar3 := create_object_sid(236, 0, 0, -1);
+            LVar3 := create_object(236, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 16));
         end
         else begin
             item_caps_adjust(Critter, random(10, 16));
         end
-        LVar3 := create_object_sid(40, 0, 0, -1);
+        LVar3 := create_object(40, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         set_map_var(1, map_var(1) + 1);
     end
@@ -12619,27 +12619,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777252, 0, 0, 626);
+        Critter := create_object_sid(16777252, 0, 0, SCRIPT_ECHIWYMN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (10 > 0) then begin
-            LVar3 := create_object_sid(10, 0, 0, -1);
+            LVar3 := create_object(10, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 25));
         end
         else begin
             item_caps_adjust(Critter, random(10, 25));
         end
-        LVar3 := create_object_sid(259, 0, 0, -1);
+        LVar3 := create_object(259, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         set_map_var(1, map_var(1) + 1);
     end
@@ -12650,27 +12650,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777253, 0, 0, 626);
+        Critter := create_object_sid(16777253, 0, 0, SCRIPT_ECHIWYMN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (10 > 0) then begin
-            LVar3 := create_object_sid(10, 0, 0, -1);
+            LVar3 := create_object(10, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(12, 20));
         end
         else begin
             item_caps_adjust(Critter, random(12, 20));
         end
-        LVar3 := create_object_sid(259, 0, 0, -1);
+        LVar3 := create_object(259, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         set_map_var(1, map_var(1) + 1);
     end
@@ -12682,31 +12682,31 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777247, 0, 0, 625);
+    Critter := create_object_sid(16777247, 0, 0, SCRIPT_ECROBBER);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
-    critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+    critter_attempt_placement(Critter, LVar2, dude_elevation);
     if (10 > 0) then begin
-        LVar3 := create_object_sid(10, 0, 0, -1);
+        LVar3 := create_object(10, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(20, 40));
     end
     else begin
         item_caps_adjust(Critter, random(20, 40));
     end
-    LVar3 := create_object_sid(40, 0, 0, -1);
+    LVar3 := create_object(40, 0, 0);
     add_obj_to_inven(Critter, LVar3);
-    LVar3 := create_object_sid(259, 0, 0, -1);
+    LVar3 := create_object(259, 0, 0);
     add_obj_to_inven(Critter, LVar3);
     set_map_var(1, map_var(1) + 1);
     LVar1 := Encounter_Counter / 4;
@@ -12716,27 +12716,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777248, 0, 0, 625);
+        Critter := create_object_sid(16777248, 0, 0, SCRIPT_ECROBBER);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (236 > 0) then begin
-            LVar3 := create_object_sid(236, 0, 0, -1);
+            LVar3 := create_object(236, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 20));
         end
         else begin
             item_caps_adjust(Critter, random(10, 20));
         end
-        LVar3 := create_object_sid(40, 0, 0, -1);
+        LVar3 := create_object(40, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         set_map_var(1, map_var(1) + 1);
     end
@@ -12746,21 +12746,21 @@ begin
         LVar1 := 1;
         for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
             LVar0 := LVar0 + 1;
-            Critter := create_object_sid(16777249, 0, 0, 625);
+            Critter := create_object_sid(16777249, 0, 0, SCRIPT_ECROBBER);
             LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
             Finding_New_Tile := 0;
             while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                 Finding_New_Tile := Finding_New_Tile + 1;
-                LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
             end
-            critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+            critter_attempt_placement(Critter, LVar2, dude_elevation);
             if (234 > 0) then begin
-                LVar3 := create_object_sid(234, 0, 0, -1);
+                LVar3 := create_object(234, 0, 0);
                 add_obj_to_inven(Critter, LVar3);
                 wield_obj_critter(Critter, LVar3);
             end
-            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-            if (has_trait(0, dude_obj, 20)) then begin
+            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                 item_caps_adjust(Critter, 2 * random(8, 22));
                 continue;
             end
@@ -12772,21 +12772,21 @@ begin
             LVar1 := 1;
             for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                 LVar0 := LVar0 + 1;
-                Critter := create_object_sid(16777252, 0, 0, 625);
+                Critter := create_object_sid(16777252, 0, 0, SCRIPT_ECROBBER);
                 LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                 Finding_New_Tile := 0;
                 while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                     Finding_New_Tile := Finding_New_Tile + 1;
-                    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                 end
-                critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+                critter_attempt_placement(Critter, LVar2, dude_elevation);
                 if (8 > 0) then begin
-                    LVar3 := create_object_sid(8, 0, 0, -1);
+                    LVar3 := create_object(8, 0, 0);
                     add_obj_to_inven(Critter, LVar3);
                     wield_obj_critter(Critter, LVar3);
                 end
-                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                if (has_trait(0, dude_obj, 20)) then begin
+                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                     item_caps_adjust(Critter, 2 * random(5, 15));
                     continue;
                 end
@@ -12798,21 +12798,21 @@ begin
                 LVar1 := 1;
                 for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                     LVar0 := LVar0 + 1;
-                    Critter := create_object_sid(16777253, 0, 0, 625);
+                    Critter := create_object_sid(16777253, 0, 0, SCRIPT_ECROBBER);
                     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                     Finding_New_Tile := 0;
                     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                         Finding_New_Tile := Finding_New_Tile + 1;
-                        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                     end
-                    critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+                    critter_attempt_placement(Critter, LVar2, dude_elevation);
                     if (8 > 0) then begin
-                        LVar3 := create_object_sid(8, 0, 0, -1);
+                        LVar3 := create_object(8, 0, 0);
                         add_obj_to_inven(Critter, LVar3);
                         wield_obj_critter(Critter, LVar3);
                     end
-                    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                    if (has_trait(0, dude_obj, 20)) then begin
+                    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                         item_caps_adjust(Critter, 2 * random(10, 20));
                         continue;
                     end
@@ -12826,7 +12826,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -12834,20 +12834,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777432, 0, 0, 630);
+        Critter := create_object_sid(16777432, 0, 0, SCRIPT_ECMANTIS);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
 end
@@ -12858,32 +12858,32 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     call Build_Grey_Caravan();
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777276, 0, 0, 258);
+    Critter := create_object_sid(16777276, 0, 0, SCRIPT_ECMRCHNT);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
-    critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+    critter_attempt_placement(Critter, LVar2, dude_elevation);
     if (236 > 0) then begin
-        LVar3 := create_object_sid(236, 0, 0, -1);
+        LVar3 := create_object(236, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(50, 100));
     end
     else begin
         item_caps_adjust(Critter, random(50, 100));
     end
-    LVar3 := create_object_sid(259, 0, 0, -1);
+    LVar3 := create_object(259, 0, 0);
     add_obj_to_inven(Critter, LVar3);
-    LVar3 := create_object_sid(40, 0, 0, -1);
+    LVar3 := create_object(40, 0, 0);
     add_obj_to_inven(Critter, LVar3);
     LVar1 := Encounter_Counter / 2;
     LVar0 := 0;
@@ -12892,29 +12892,29 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777262, 0, 0, 259);
+        Critter := create_object_sid(16777262, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (9 > 0) then begin
-            LVar3 := create_object_sid(9, 0, 0, -1);
+            LVar3 := create_object(9, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 30));
         end
         else begin
             item_caps_adjust(Critter, random(10, 30));
         end
-        LVar3 := create_object_sid(29, 0, 0, -1);
+        LVar3 := create_object(29, 0, 0);
         add_obj_to_inven(Critter, LVar3);
-        LVar3 := create_object_sid(40, 0, 0, -1);
+        LVar3 := create_object(40, 0, 0);
         add_obj_to_inven(Critter, LVar3);
     end
     LVar1 := Encounter_Counter / 2;
@@ -12924,27 +12924,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777263, 0, 0, 259);
+        Critter := create_object_sid(16777263, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (351 > 0) then begin
-            LVar3 := create_object_sid(351, 0, 0, -1);
+            LVar3 := create_object(351, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 20));
         end
         else begin
             item_caps_adjust(Critter, random(10, 20));
         end
-        LVar3 := create_object_sid(40, 0, 0, -1);
+        LVar3 := create_object(40, 0, 0);
         add_obj_to_inven(Critter, LVar3);
     end
 end
@@ -12955,28 +12955,28 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
         LVar1 := 1;
         for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
             LVar0 := LVar0 + 1;
-            Critter := create_object_sid(16777252, 0, 0, 768);
+            Critter := create_object_sid(16777252, 0, 0, SCRIPT_ECCLMJMP);
             LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
             Finding_New_Tile := 0;
             while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                 Finding_New_Tile := Finding_New_Tile + 1;
-                LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
             end
-            critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+            critter_attempt_placement(Critter, LVar2, dude_elevation);
             if (355 > 0) then begin
-                LVar3 := create_object_sid(355, 0, 0, -1);
+                LVar3 := create_object(355, 0, 0);
                 add_obj_to_inven(Critter, LVar3);
                 wield_obj_critter(Critter, LVar3);
             end
-            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-            if (has_trait(0, dude_obj, 20)) then begin
+            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                 item_caps_adjust(Critter, 2 * random(10, 30));
                 continue;
             end
@@ -12988,21 +12988,21 @@ begin
             LVar1 := 1;
             for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                 LVar0 := LVar0 + 1;
-                Critter := create_object_sid(16777252, 0, 0, 768);
+                Critter := create_object_sid(16777252, 0, 0, SCRIPT_ECCLMJMP);
                 LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                 Finding_New_Tile := 0;
                 while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                     Finding_New_Tile := Finding_New_Tile + 1;
-                    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                 end
-                critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+                critter_attempt_placement(Critter, LVar2, dude_elevation);
                 if (118 > 0) then begin
-                    LVar3 := create_object_sid(118, 0, 0, -1);
+                    LVar3 := create_object(118, 0, 0);
                     add_obj_to_inven(Critter, LVar3);
                     wield_obj_critter(Critter, LVar3);
                 end
-                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                if (has_trait(0, dude_obj, 20)) then begin
+                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                     item_caps_adjust(Critter, 2 * random(10, 30));
                     continue;
                 end
@@ -13014,21 +13014,21 @@ begin
                 LVar1 := 1;
                 for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                     LVar0 := LVar0 + 1;
-                    Critter := create_object_sid(16777253, 0, 0, 768);
+                    Critter := create_object_sid(16777253, 0, 0, SCRIPT_ECCLMJMP);
                     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                     Finding_New_Tile := 0;
                     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                         Finding_New_Tile := Finding_New_Tile + 1;
-                        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                     end
-                    critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+                    critter_attempt_placement(Critter, LVar2, dude_elevation);
                     if (355 > 0) then begin
-                        LVar3 := create_object_sid(355, 0, 0, -1);
+                        LVar3 := create_object(355, 0, 0);
                         add_obj_to_inven(Critter, LVar3);
                         wield_obj_critter(Critter, LVar3);
                     end
-                    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                    if (has_trait(0, dude_obj, 20)) then begin
+                    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                         item_caps_adjust(Critter, 2 * random(10, 30));
                         continue;
                     end
@@ -13040,21 +13040,21 @@ begin
                     LVar1 := 1;
                     for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                         LVar0 := LVar0 + 1;
-                        Critter := create_object_sid(16777252, 0, 0, 768);
+                        Critter := create_object_sid(16777252, 0, 0, SCRIPT_ECCLMJMP);
                         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                         Finding_New_Tile := 0;
                         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                             Finding_New_Tile := Finding_New_Tile + 1;
-                            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                         end
-                        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+                        critter_attempt_placement(Critter, LVar2, dude_elevation);
                         if (118 > 0) then begin
-                            LVar3 := create_object_sid(118, 0, 0, -1);
+                            LVar3 := create_object(118, 0, 0);
                             add_obj_to_inven(Critter, LVar3);
                             wield_obj_critter(Critter, LVar3);
                         end
-                        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                        if (has_trait(0, dude_obj, 20)) then begin
+                        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                             item_caps_adjust(Critter, 2 * random(10, 30));
                             continue;
                         end
@@ -13068,7 +13068,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -13076,21 +13076,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777452, 0, 0, 763);
+        Critter := create_object_sid(16777452, 0, 0, SCRIPT_ECPROSPE);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (115 > 0) then begin
-            LVar3 := create_object_sid(115, 0, 0, -1);
+            LVar3 := create_object(115, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(0, 20));
         end
         else begin
@@ -13104,21 +13104,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777452, 0, 0, 763);
+        Critter := create_object_sid(16777452, 0, 0, SCRIPT_ECPROSPE);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (354 > 0) then begin
-            LVar3 := create_object_sid(354, 0, 0, -1);
+            LVar3 := create_object(354, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(0, 20));
         end
         else begin
@@ -13132,21 +13132,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777453, 0, 0, 763);
+        Critter := create_object_sid(16777453, 0, 0, SCRIPT_ECPROSPE);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (352 > 0) then begin
-            LVar3 := create_object_sid(352, 0, 0, -1);
+            LVar3 := create_object(352, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(0, 20));
         end
         else begin
@@ -13160,21 +13160,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777453, 0, 0, 763);
+        Critter := create_object_sid(16777453, 0, 0, SCRIPT_ECPROSPE);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (268 > 0) then begin
-            LVar3 := create_object_sid(268, 0, 0, -1);
+            LVar3 := create_object(268, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(0, 20));
         end
         else begin
@@ -13189,7 +13189,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -13197,21 +13197,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777450, 0, 0, 505);
+        Critter := create_object_sid(16777450, 0, 0, SCRIPT_ECMONSHN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (115 > 0) then begin
-            LVar3 := create_object_sid(115, 0, 0, -1);
+            LVar3 := create_object(115, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(2, 10));
         end
         else begin
@@ -13225,21 +13225,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777450, 0, 0, 505);
+        Critter := create_object_sid(16777450, 0, 0, SCRIPT_ECMONSHN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (354 > 0) then begin
-            LVar3 := create_object_sid(354, 0, 0, -1);
+            LVar3 := create_object(354, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(6, 16));
         end
         else begin
@@ -13253,21 +13253,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777451, 0, 0, 505);
+        Critter := create_object_sid(16777451, 0, 0, SCRIPT_ECMONSHN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (388 > 0) then begin
-            LVar3 := create_object_sid(388, 0, 0, -1);
+            LVar3 := create_object(388, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(4, 12));
         end
         else begin
@@ -13281,21 +13281,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777451, 0, 0, 505);
+        Critter := create_object_sid(16777451, 0, 0, SCRIPT_ECMONSHN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (235 > 0) then begin
-            LVar3 := create_object_sid(235, 0, 0, -1);
+            LVar3 := create_object(235, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(4, 16));
         end
         else begin
@@ -13310,7 +13310,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -13318,21 +13318,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777248, 0, 0, 509);
+        Critter := create_object_sid(16777248, 0, 0, SCRIPT_ECTRAPPR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (236 > 0) then begin
-            LVar3 := create_object_sid(236, 0, 0, -1);
+            LVar3 := create_object(236, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(0, 20));
         end
         else begin
@@ -13346,21 +13346,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777248, 0, 0, 509);
+        Critter := create_object_sid(16777248, 0, 0, SCRIPT_ECTRAPPR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (235 > 0) then begin
-            LVar3 := create_object_sid(235, 0, 0, -1);
+            LVar3 := create_object(235, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(0, 20));
         end
         else begin
@@ -13374,21 +13374,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777249, 0, 0, 509);
+        Critter := create_object_sid(16777249, 0, 0, SCRIPT_ECTRAPPR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (236 > 0) then begin
-            LVar3 := create_object_sid(236, 0, 0, -1);
+            LVar3 := create_object(236, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(0, 20));
         end
         else begin
@@ -13402,21 +13402,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777248, 0, 0, 509);
+        Critter := create_object_sid(16777248, 0, 0, SCRIPT_ECTRAPPR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (235 > 0) then begin
-            LVar3 := create_object_sid(235, 0, 0, -1);
+            LVar3 := create_object(235, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(0, 20));
         end
         else begin
@@ -13431,7 +13431,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -13439,21 +13439,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777436, 0, 0, 786);
+        Critter := create_object_sid(16777436, 0, 0, SCRIPT_ECHOMEST);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (388 > 0) then begin
-            LVar3 := create_object_sid(388, 0, 0, -1);
+            LVar3 := create_object(388, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(4, 16));
         end
         else begin
@@ -13467,21 +13467,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777436, 0, 0, 786);
+        Critter := create_object_sid(16777436, 0, 0, SCRIPT_ECHOMEST);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (16 > 0) then begin
-            LVar3 := create_object_sid(16, 0, 0, -1);
+            LVar3 := create_object(16, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(5, 15));
         end
         else begin
@@ -13495,21 +13495,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777437, 0, 0, 786);
+        Critter := create_object_sid(16777437, 0, 0, SCRIPT_ECHOMEST);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (268 > 0) then begin
-            LVar3 := create_object_sid(268, 0, 0, -1);
+            LVar3 := create_object(268, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(3, 17));
         end
         else begin
@@ -13520,21 +13520,21 @@ begin
     LVar0 := 0;
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777437, 0, 0, 786);
+        Critter := create_object_sid(16777437, 0, 0, SCRIPT_ECHOMEST);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (352 > 0) then begin
-            LVar3 := create_object_sid(352, 0, 0, -1);
+            LVar3 := create_object(352, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(4, 16));
         end
         else begin
@@ -13549,7 +13549,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter * 6 / 10;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -13557,20 +13557,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777460, 0, 0, 791);
+        Critter := create_object_sid(16777460, 0, 0, SCRIPT_ECDTHCLW);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (371 > 0) then begin
-            LVar3 := create_object_sid(371, 0, 0, -1);
+            LVar3 := create_object(371, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter * 2 / 10;
@@ -13580,20 +13580,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777461, 0, 0, 791);
+        Critter := create_object_sid(16777461, 0, 0, SCRIPT_ECDTHCLW);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (371 > 0) then begin
-            LVar3 := create_object_sid(371, 0, 0, -1);
+            LVar3 := create_object(371, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter * 2 / 10;
@@ -13603,20 +13603,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777224, 0, 0, 791);
+        Critter := create_object_sid(16777224, 0, 0, SCRIPT_ECDTHCLW);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
 end
@@ -13627,7 +13627,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -13635,20 +13635,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777456, 0, 0, 615);
+        Critter := create_object_sid(16777456, 0, 0, SCRIPT_ECGECKO);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (427 > 0) then begin
-            LVar3 := create_object_sid(427, 0, 0, -1);
+            LVar3 := create_object(427, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
 end
@@ -13659,7 +13659,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter * 2 / 5;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -13667,20 +13667,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777464, 0, 0, 793);
+        Critter := create_object_sid(16777464, 0, 0, SCRIPT_ECCENTUR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter * 3 / 5;
@@ -13690,20 +13690,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777465, 0, 0, 793);
+        Critter := create_object_sid(16777465, 0, 0, SCRIPT_ECCENTUR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
 end
@@ -13714,7 +13714,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter * 2 / 5;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -13722,20 +13722,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777462, 0, 0, 792);
+        Critter := create_object_sid(16777462, 0, 0, SCRIPT_ECFLOATR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter * 3 / 5;
@@ -13745,20 +13745,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777463, 0, 0, 792);
+        Critter := create_object_sid(16777463, 0, 0, SCRIPT_ECFLOATR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
 end
@@ -13769,24 +13769,24 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     call Build_Grey_Caravan();
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777358, 0, 0, 781);
+    Critter := create_object_sid(16777358, 0, 0, SCRIPT_ECMSTSAN);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
-    critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+    critter_attempt_placement(Critter, LVar2, dude_elevation);
     if (388 > 0) then begin
-        LVar3 := create_object_sid(388, 0, 0, -1);
+        LVar3 := create_object(388, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(100, 160));
     end
     else begin
@@ -13799,21 +13799,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777438, 0, 0, 259);
+        Critter := create_object_sid(16777438, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (118 > 0) then begin
-            LVar3 := create_object_sid(118, 0, 0, -1);
+            LVar3 := create_object(118, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 40));
         end
         else begin
@@ -13827,21 +13827,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777438, 0, 0, 259);
+        Critter := create_object_sid(16777438, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (389 > 0) then begin
-            LVar3 := create_object_sid(389, 0, 0, -1);
+            LVar3 := create_object(389, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 40));
         end
         else begin
@@ -13855,21 +13855,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777439, 0, 0, 259);
+        Critter := create_object_sid(16777439, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (355 > 0) then begin
-            LVar3 := create_object_sid(355, 0, 0, -1);
+            LVar3 := create_object(355, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 40));
         end
         else begin
@@ -13883,21 +13883,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777439, 0, 0, 259);
+        Critter := create_object_sid(16777439, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (296 > 0) then begin
-            LVar3 := create_object_sid(296, 0, 0, -1);
+            LVar3 := create_object(296, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 40));
         end
         else begin
@@ -13912,7 +13912,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -13920,20 +13920,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777458, 0, 0, 790);
+        Critter := create_object_sid(16777458, 0, 0, SCRIPT_ECALIEN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter * 3 / 4;
@@ -13943,20 +13943,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777459, 0, 0, 790);
+        Critter := create_object_sid(16777459, 0, 0, SCRIPT_ECALIEN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
 end
@@ -13967,7 +13967,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 5;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -13975,20 +13975,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777464, 0, 0, 793);
+        Critter := create_object_sid(16777464, 0, 0, SCRIPT_ECCENTUR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter / 5;
@@ -13998,20 +13998,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777462, 0, 0, 792);
+        Critter := create_object_sid(16777462, 0, 0, SCRIPT_ECFLOATR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter * 3 / 10;
@@ -14021,20 +14021,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777465, 0, 0, 793);
+        Critter := create_object_sid(16777465, 0, 0, SCRIPT_ECCENTUR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter * 3 / 10;
@@ -14044,20 +14044,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777463, 0, 0, 792);
+        Critter := create_object_sid(16777463, 0, 0, SCRIPT_ECFLOATR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
 end
@@ -14068,7 +14068,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter * 9 / 20;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -14076,20 +14076,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777456, 0, 0, 615);
+        Critter := create_object_sid(16777456, 0, 0, SCRIPT_ECGECKO);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (427 > 0) then begin
-            LVar3 := create_object_sid(427, 0, 0, -1);
+            LVar3 := create_object(427, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter * 11 / 20;
@@ -14099,20 +14099,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777457, 0, 0, 615);
+        Critter := create_object_sid(16777457, 0, 0, SCRIPT_ECGECKO);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (427 > 0) then begin
-            LVar3 := create_object_sid(427, 0, 0, -1);
+            LVar3 := create_object(427, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
 end
@@ -14123,28 +14123,28 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 2;
     LVar0 := 0;
     if (LVar1 < 1) then begin
         LVar1 := 1;
         for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
             LVar0 := LVar0 + 1;
-            Critter := create_object_sid(16777476, 0, 0, 734);
+            Critter := create_object_sid(16777476, 0, 0, SCRIPT_ECYAKUZA);
             LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
             Finding_New_Tile := 0;
             while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                 Finding_New_Tile := Finding_New_Tile + 1;
-                LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
             end
-            critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+            critter_attempt_placement(Critter, LVar2, dude_elevation);
             if (283 > 0) then begin
-                LVar3 := create_object_sid(283, 0, 0, -1);
+                LVar3 := create_object(283, 0, 0);
                 add_obj_to_inven(Critter, LVar3);
                 wield_obj_critter(Critter, LVar3);
             end
-            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-            if (has_trait(0, dude_obj, 20)) then begin
+            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                 item_caps_adjust(Critter, 2 * random(3, 30));
                 continue;
             end
@@ -14156,21 +14156,21 @@ begin
             LVar1 := 1;
             for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                 LVar0 := LVar0 + 1;
-                Critter := create_object_sid(16777476, 0, 0, 734);
+                Critter := create_object_sid(16777476, 0, 0, SCRIPT_ECYAKUZA);
                 LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                 Finding_New_Tile := 0;
                 while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                     Finding_New_Tile := Finding_New_Tile + 1;
-                    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                 end
-                critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+                critter_attempt_placement(Critter, LVar2, dude_elevation);
                 if (143 > 0) then begin
-                    LVar3 := create_object_sid(143, 0, 0, -1);
+                    LVar3 := create_object(143, 0, 0);
                     add_obj_to_inven(Critter, LVar3);
                     wield_obj_critter(Critter, LVar3);
                 end
-                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                if (has_trait(0, dude_obj, 20)) then begin
+                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                     item_caps_adjust(Critter, 2 * random(3, 30));
                     continue;
                 end
@@ -14184,28 +14184,28 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
         LVar1 := 1;
         for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
             LVar0 := LVar0 + 1;
-            Critter := create_object_sid(16777252, 0, 0, 774);
+            Critter := create_object_sid(16777252, 0, 0, SCRIPT_ECGANGS);
             LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
             Finding_New_Tile := 0;
             while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                 Finding_New_Tile := Finding_New_Tile + 1;
-                LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
             end
-            critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+            critter_attempt_placement(Critter, LVar2, dude_elevation);
             if (242 > 0) then begin
-                LVar3 := create_object_sid(242, 0, 0, -1);
+                LVar3 := create_object(242, 0, 0);
                 add_obj_to_inven(Critter, LVar3);
                 wield_obj_critter(Critter, LVar3);
             end
-            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-            if (has_trait(0, dude_obj, 20)) then begin
+            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                 item_caps_adjust(Critter, 2 * random(3, 8));
                 continue;
             end
@@ -14217,21 +14217,21 @@ begin
             LVar1 := 1;
             for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                 LVar0 := LVar0 + 1;
-                Critter := create_object_sid(16777252, 0, 0, 774);
+                Critter := create_object_sid(16777252, 0, 0, SCRIPT_ECGANGS);
                 LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                 Finding_New_Tile := 0;
                 while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                     Finding_New_Tile := Finding_New_Tile + 1;
-                    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                 end
-                critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+                critter_attempt_placement(Critter, LVar2, dude_elevation);
                 if (241 > 0) then begin
-                    LVar3 := create_object_sid(241, 0, 0, -1);
+                    LVar3 := create_object(241, 0, 0);
                     add_obj_to_inven(Critter, LVar3);
                     wield_obj_critter(Critter, LVar3);
                 end
-                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                if (has_trait(0, dude_obj, 20)) then begin
+                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                     item_caps_adjust(Critter, 2 * random(5, 18));
                     continue;
                 end
@@ -14243,21 +14243,21 @@ begin
                 LVar1 := 1;
                 for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                     LVar0 := LVar0 + 1;
-                    Critter := create_object_sid(16777255, 0, 0, 774);
+                    Critter := create_object_sid(16777255, 0, 0, SCRIPT_ECGANGS);
                     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                     Finding_New_Tile := 0;
                     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                         Finding_New_Tile := Finding_New_Tile + 1;
-                        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                     end
-                    critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+                    critter_attempt_placement(Critter, LVar2, dude_elevation);
                     if (11 > 0) then begin
-                        LVar3 := create_object_sid(11, 0, 0, -1);
+                        LVar3 := create_object(11, 0, 0);
                         add_obj_to_inven(Critter, LVar3);
                         wield_obj_critter(Critter, LVar3);
                     end
-                    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                    if (has_trait(0, dude_obj, 20)) then begin
+                    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                         item_caps_adjust(Critter, 2 * random(3, 8));
                         continue;
                     end
@@ -14269,21 +14269,21 @@ begin
                     LVar1 := 1;
                     for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                         LVar0 := LVar0 + 1;
-                        Critter := create_object_sid(16777253, 0, 0, 774);
+                        Critter := create_object_sid(16777253, 0, 0, SCRIPT_ECGANGS);
                         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                         Finding_New_Tile := 0;
                         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                             Finding_New_Tile := Finding_New_Tile + 1;
-                            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                         end
-                        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+                        critter_attempt_placement(Critter, LVar2, dude_elevation);
                         if (22 > 0) then begin
-                            LVar3 := create_object_sid(22, 0, 0, -1);
+                            LVar3 := create_object(22, 0, 0);
                             add_obj_to_inven(Critter, LVar3);
                             wield_obj_critter(Critter, LVar3);
                         end
-                        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                        if (has_trait(0, dude_obj, 20)) then begin
+                        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                             item_caps_adjust(Critter, 2 * random(3, 8));
                             continue;
                         end
@@ -14297,28 +14297,28 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 2;
     LVar0 := 0;
     if (LVar1 < 1) then begin
         LVar1 := 1;
         for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
             LVar0 := LVar0 + 1;
-            Critter := create_object_sid(16777475, 0, 0, 482);
+            Critter := create_object_sid(16777475, 0, 0, SCRIPT_ECMOBSTR);
             LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
             Finding_New_Tile := 0;
             while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                 Finding_New_Tile := Finding_New_Tile + 1;
-                LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
             end
-            critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+            critter_attempt_placement(Critter, LVar2, dude_elevation);
             if (283 > 0) then begin
-                LVar3 := create_object_sid(283, 0, 0, -1);
+                LVar3 := create_object(283, 0, 0);
                 add_obj_to_inven(Critter, LVar3);
                 wield_obj_critter(Critter, LVar3);
             end
-            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-            if (has_trait(0, dude_obj, 20)) then begin
+            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                 item_caps_adjust(Critter, 2 * random(10, 30));
                 continue;
             end
@@ -14330,21 +14330,21 @@ begin
             LVar1 := 1;
             for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                 LVar0 := LVar0 + 1;
-                Critter := create_object_sid(16777475, 0, 0, 482);
+                Critter := create_object_sid(16777475, 0, 0, SCRIPT_ECMOBSTR);
                 LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                 Finding_New_Tile := 0;
                 while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                     Finding_New_Tile := Finding_New_Tile + 1;
-                    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                 end
-                critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+                critter_attempt_placement(Critter, LVar2, dude_elevation);
                 if (242 > 0) then begin
-                    LVar3 := create_object_sid(242, 0, 0, -1);
+                    LVar3 := create_object(242, 0, 0);
                     add_obj_to_inven(Critter, LVar3);
                     wield_obj_critter(Critter, LVar3);
                 end
-                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                if (has_trait(0, dude_obj, 20)) then begin
+                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                     item_caps_adjust(Critter, 2 * random(12, 23));
                     continue;
                 end
@@ -14358,7 +14358,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -14366,20 +14366,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777458, 0, 0, 790);
+        Critter := create_object_sid(16777458, 0, 0, SCRIPT_ECALIEN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
 end
@@ -14390,7 +14390,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter * 2 / 5;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -14398,20 +14398,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777326, 0, 0, 617);
+        Critter := create_object_sid(16777326, 0, 0, SCRIPT_ECRAT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter * 1 / 5;
@@ -14421,20 +14421,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777327, 0, 0, 617);
+        Critter := create_object_sid(16777327, 0, 0, SCRIPT_ECRAT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter * 2 / 5;
@@ -14444,21 +14444,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777328, 0, 0, 617);
+        Critter := create_object_sid(16777328, 0, 0, SCRIPT_ECRAT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
-        critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
+        critter_attempt_placement(Critter, LVar2, dude_elevation);
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
 end
-
