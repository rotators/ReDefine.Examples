variable ProtoOfItemGiven;
variable ValueOfRollCheck := 1;
variable Scenery_Creation;
variable Scenery_Creation_Hex;
variable Scenery_Creation_Count;
variable Temp_Scenery_Creation_Hex;
variable Scenery_Creation_Ptr;
variable lPartyWornArmor;
variable How_Many_Party_Members_Are_Injured;
variable How_Many_Party_Members_Armed;
variable PartyHealingItem;

procedure checkPartyMembersNearDoor;

variable global_temp;
variable dest_tile;
variable step_tile;
variable in_dialog;
variable forced_node;
variable restock_amt;
variable restock_obj;
variable restock_trash;
variable removed_qty;
variable toRemove_qty;

procedure div(variable arg0, variable arg1);
procedure start;
procedure map_enter_p_proc;
procedure map_update_p_proc;
procedure map_exit_p_proc;
procedure timed_event_p_proc;
procedure Generate_Hospital;
procedure Generate_Hospital_Own_Attack;
procedure repair_tiles;

export variable Map_event;
export variable Catherin_obj;
export variable Sophie_obj;
export variable Gurgan_obj;
export variable Rua_obj;
export variable William_obj;
export variable vex_head;
export variable Vex_Guard;
export variable William_door;
export variable Willguard_obj;
export variable Kuggar_obj;
export variable alvarez_obj;
export variable alvarez_table_swap;
export variable alvarez_table_trade;
export variable HunterFloater_obj;
export variable hunter_guard1;
export variable hunter_guard2;
export variable caravan_cart1;
export variable caravan_cart2;
export variable caravan_cart3;
export variable Chuva;
export variable primi1_obj;
export variable primi2_obj;
export variable primi3_obj;
export variable primi4_obj;
export variable primi5_obj;
export variable primi6_obj;
export variable primi7_obj;
export variable primi8_obj;
export variable primi9_obj;
export variable primi10_obj;
export variable primi11_obj;

variable enemy_lovci;
variable enemy_pristeh;
variable enemy_vex;
variable lastdudetile;
variable lastdudeelevation;
variable blocker;
variable nemzol1;
variable nemzol2;
variable nemzol3;
variable nemzol4;
variable nemzol5;
variable nemzol6;
variable kuggar;
variable bratr1;
variable bratr2;
variable lovec1;
variable lovec2;
variable divos1;
variable divos2;
variable sequence;
variable sequence2;
variable vexman;


procedure checkPartyMembersNearDoor
begin
    if (party_member_obj(16777729) != 0) then begin
        if (tile_distance_objs(self_obj, party_member_obj(16777729)) <= 5) then begin
            return 1;
        end
    end
    if ((party_member_obj(16777779) != 0) and ((global_var(910) bwand 32) == 0)) then begin
        if (tile_distance_objs(self_obj, party_member_obj(16777779)) <= 5) then begin
            return 1;
        end
    end
    if ((party_member_obj(16777811) != 0) and ((global_var(910) bwand 64) == 0)) then begin
        if (tile_distance_objs(self_obj, party_member_obj(16777811)) <= 5) then begin
            return 1;
        end
    end
    if (party_member_obj(16777812) != 0) then begin
        if (tile_distance_objs(self_obj, party_member_obj(16777812)) <= 5) then begin
            return 1;
        end
    end
    if (party_member_obj(16777813) != 0) then begin
        if (tile_distance_objs(self_obj, party_member_obj(16777813)) <= 5) then begin
            return 1;
        end
    end
    if ((party_member_obj(16777814) != 0) and ((global_var(910) bwand 128) == 0)) then begin
        if (tile_distance_objs(self_obj, party_member_obj(16777814)) <= 5) then begin
            return 1;
        end
    end
    if (party_member_obj(16777748) != 0) then begin
        if (tile_distance_objs(self_obj, party_member_obj(16777748)) <= 5) then begin
            return 1;
        end
    end
    if (party_member_obj(16777293) != 0) then begin
        if (tile_distance_objs(self_obj, party_member_obj(16777293)) <= 5) then begin
            return 1;
        end
    end
    if (party_member_obj(16778017) != 0) then begin
        if (tile_distance_objs(self_obj, party_member_obj(16778017)) <= 5) then begin
            return 1;
        end
    end
    if (party_member_obj(16778016) != 0) then begin
        if (tile_distance_objs(self_obj, party_member_obj(16778016)) <= 5) then begin
            return 1;
        end
    end
    if (party_member_obj(16778049) != 0) then begin
        if (tile_distance_objs(self_obj, party_member_obj(16778049)) <= 5) then begin
            return 1;
        end
    end
    if (party_member_obj(16778050) != 0) then begin
        if (tile_distance_objs(self_obj, party_member_obj(16778050)) <= 5) then begin
            return 1;
        end
    end
    if (party_member_obj(16778051) != 0) then begin
        if (tile_distance_objs(self_obj, party_member_obj(16778051)) <= 5) then begin
            return 1;
        end
    end
    return 0;
end

procedure div(variable arg0, variable arg1)
begin
    if (0 > arg0) then begin
        return -(-arg0 / arg1);
    end
    return arg0 / arg1;
end

procedure start
begin
    Map_event := self_obj;
end

procedure map_enter_p_proc
begin
    if (elevation(dude_obj) == 2) then begin
        if ((map_var(0) bwand 4096) != 0) then begin
            set_light_level(1);
        end
        else begin
            set_light_level(50);
        end
    end
    else begin
        if (elevation(dude_obj) == 1) then begin
            set_light_level(60);
        end
        else begin
            if ((get_month >= 3) and (get_month < 5)) then begin
                if ((game_time_hour >= 600) and (game_time_hour < (600 + 100))) then begin
                    set_light_level(game_time_hour - 600 + 40);
                end
                else begin
                    if ((game_time_hour >= (600 + 100)) and (game_time_hour < 1800)) then begin
                        set_light_level(100);
                    end
                    else begin
                        if ((game_time_hour >= 1800) and (game_time_hour < (1800 + 100))) then begin
                            set_light_level(100 - (game_time_hour - 1800));
                        end
                        else begin
                            set_light_level(40);
                        end
                    end
                end
            end
            else begin
                if ((get_month >= 5) and (get_month < 9)) then begin
                    if ((game_time_hour >= 500) and (game_time_hour < (500 + 100))) then begin
                        set_light_level(game_time_hour - 500 + 40);
                    end
                    else begin
                        if ((game_time_hour >= (500 + 100)) and (game_time_hour < 1900)) then begin
                            set_light_level(100);
                        end
                        else begin
                            if ((game_time_hour >= 1900) and (game_time_hour < (1900 + 100))) then begin
                                set_light_level(100 - (game_time_hour - 1900));
                            end
                            else begin
                                set_light_level(40);
                            end
                        end
                    end
                end
                else begin
                    if ((get_month >= 9) and (get_month < 11)) then begin
                        if ((game_time_hour >= 600) and (game_time_hour < (600 + 100))) then begin
                            set_light_level(game_time_hour - 600 + 40);
                        end
                        else begin
                            if ((game_time_hour >= (600 + 100)) and (game_time_hour < 1800)) then begin
                                set_light_level(100);
                            end
                            else begin
                                if ((game_time_hour >= 1800) and (game_time_hour < (1800 + 100))) then begin
                                    set_light_level(100 - (game_time_hour - 1800));
                                end
                                else begin
                                    set_light_level(40);
                                end
                            end
                        end
                    end
                    else begin
                        if ((game_time_hour >= 700) and (game_time_hour < (700 + 100))) then begin
                            set_light_level(game_time_hour - 700 + 40);
                        end
                        else begin
                            if ((game_time_hour >= (700 + 100)) and (game_time_hour < 1700)) then begin
                                set_light_level(100);
                            end
                            else begin
                                if ((game_time_hour >= 1700) and (game_time_hour < (1700 + 100))) then begin
                                    set_light_level(100 - (game_time_hour - 1700));
                                end
                                else begin
                                    set_light_level(40);
                                end
                            end
                        end
                    end
                end
            end
        end
    end
    if (not(metarule(22, 0))) then begin
        if ((global_var(911) bwand 1) != 0) then begin
        end
        if (metarule(14, 0)) then begin
            if (metarule(17, 24) == 0) then begin
                debug_msg("  mark_on_map(" + 24 + ")");
                mark_area_known(0, 24, 1);
            end
            set_global_var(53, global_var(53) - 3);
            if (get_critter_stat(dude_obj, 34) == 0) then begin
                display_msg(message_str(1632, 100));
            end
            if (get_critter_stat(dude_obj, 34) == 1) then begin
                display_msg(message_str(1632, 101));
            end
            anim(dude_obj, 1000, 5);
            if (not((global_var(867) bwand 268435456) != 0)) then begin
                set_global_var(867, global_var(867) bwor 268435456);
            end
        end
        if ((global_var(998) != 1) and not((global_var(1000) bwand 32) != 0)) then begin
            if ((global_var(574) == 1) and (global_var(992) == 0) and (global_var(1008) == 0) and not((global_var(1000) bwand 8) != 0)) then begin
                set_global_var(1000, global_var(1000) bwor 32);
                create_object_sid(16777804, 0, 0, 107);
            end
            if ((global_var(898) < 4) and ((global_var(882) != 4) and (global_var(881) != 2) and (global_var(883) != 2)) and (global_var(859) == 0) and ((global_var(1000) bwand 16) == 0) and not((global_var(867) bwand 33554432) != 0) and ((global_var(1017) bwand 131072) == 0)) then begin
                if ((global_var(574) == 1) and ((global_var(1006) == 0) and ((global_var(904) bwand 2) != 0) and not((global_var(904) bwand 8192) != 0) or ((global_var(1007) == 0) and ((global_var(904) bwand 1) != 0)))) then begin
                    set_global_var(1000, global_var(1000) bwor 32);
                    create_object_sid(16777804, 0, 0, 107);
                end
            end
            if ((global_var(574) == 1) and ((global_var(1017) bwand 131072) == 0) and ((global_var(1017) bwand 65536) != 0) and (global_var(864) == 0) and ((global_var(1000) bwand 16) == 0) and ((global_var(882) == 4) or (global_var(881) == 2) or (global_var(883) == 2))) then begin
                set_global_var(1000, global_var(1000) bwor 32);
                create_object_sid(16777804, 0, 0, 107);
            end
        end
        if ((global_var(882) == 1) and not((map_var(0) bwand 128) != 0)) then begin
            if (global_var(862) == 1) then begin
                set_global_var(862, 0);
                set_map_var(0, map_var(0) bwor 1024);
            end
            kuggar := create_object_sid(16777916, 24730, 0, 1715);
            bratr1 := create_object_sid(16777917, 24728, 0, 1716);
            bratr2 := create_object_sid(16777917, 25132, 0, 1716);
            lovec1 := create_object_sid(16777958, 26331, 0, 1717);
            lovec2 := create_object_sid(16777958, 26329, 0, 1717);
            restock_obj := create_object_sid(603, 0, 0, -1);
            add_mult_objs_to_inven(lovec1, restock_obj, 1);
            restock_obj := create_object_sid(115, 0, 0, -1);
            add_mult_objs_to_inven(lovec2, restock_obj, 1);
            restock_obj := create_object_sid(40, 0, 0, -1);
            add_mult_objs_to_inven(lovec1, restock_obj, 1);
            restock_obj := create_object_sid(40, 0, 0, -1);
            add_mult_objs_to_inven(lovec2, restock_obj, 1);
            restock_obj := create_object_sid(280, 0, 0, -1);
            add_mult_objs_to_inven(bratr1, restock_obj, 1);
            restock_obj := create_object_sid(280, 0, 0, -1);
            add_mult_objs_to_inven(bratr2, restock_obj, 1);
            set_global_var(910, global_var(910) bwor 65536);
            move_to(dude_obj, 25930, 0);
            anim(dude_obj, 1000, 5);
            anim(lovec1, 1000, 5);
            anim(lovec2, 1000, 5);
            anim(kuggar, 1000, 2);
            anim(bratr1, 1000, 2);
            anim(bratr2, 1000, 1);
            set_map_var(0, map_var(0) bwor 128);
            add_timer_event(self_obj, game_ticks(0), 1);
        end
        if (global_var(878) == 1) then begin
            game_ui_disable;
            call Generate_Hospital();
            set_global_var(862, 0);
            set_global_var(890, 0);
            set_global_var(899, 0);
            set_global_var(857, 0);
            if (global_var(864) == 1) then begin
                set_global_var(864, 0);
                enemy_lovci := 1;
            end
            if (global_var(860) == 1) then begin
                set_global_var(860, 0);
                enemy_pristeh := 1;
            end
            if (global_var(861) == 1) then begin
                set_global_var(861, 0);
                enemy_vex := 1;
            end
            move_to(dude_obj, 16337, 0);
            anim(dude_obj, 1000, 2);
            if (party_member_obj(16777729) != 0) then begin
                if (party_member_obj(16777729) != 0) then begin
                    if (has_trait(1, party_member_obj(16777729), 666)) then begin
                        critter_attempt_placement(party_member_obj(16777729), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if ((party_member_obj(16777779) != 0) and ((global_var(910) bwand 32) == 0)) then begin
                if (party_member_obj(16777779) != 0) then begin
                    if (has_trait(1, party_member_obj(16777779), 666)) then begin
                        critter_attempt_placement(party_member_obj(16777779), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if ((party_member_obj(16777811) != 0) and ((global_var(910) bwand 64) == 0)) then begin
                if (party_member_obj(16777811) != 0) then begin
                    if (has_trait(1, party_member_obj(16777811), 666)) then begin
                        critter_attempt_placement(party_member_obj(16777811), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if (party_member_obj(16777812) != 0) then begin
                if (party_member_obj(16777812) != 0) then begin
                    if (has_trait(1, party_member_obj(16777812), 666)) then begin
                        critter_attempt_placement(party_member_obj(16777812), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if ((party_member_obj(16777814) != 0) and ((global_var(910) bwand 128) == 0)) then begin
                if (party_member_obj(16777814) != 0) then begin
                    if (has_trait(1, party_member_obj(16777814), 666)) then begin
                        critter_attempt_placement(party_member_obj(16777814), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if (party_member_obj(16777748) != 0) then begin
                if (party_member_obj(16777748) != 0) then begin
                    if (has_trait(1, party_member_obj(16777748), 666)) then begin
                        critter_attempt_placement(party_member_obj(16777748), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if (party_member_obj(16778017) != 0) then begin
                if (party_member_obj(16778017) != 0) then begin
                    if (has_trait(1, party_member_obj(16778017), 666)) then begin
                        critter_attempt_placement(party_member_obj(16778017), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if (party_member_obj(16778016) != 0) then begin
                if (party_member_obj(16778016) != 0) then begin
                    if (has_trait(1, party_member_obj(16778016), 666)) then begin
                        critter_attempt_placement(party_member_obj(16778016), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if (party_member_obj(16778049) != 0) then begin
                if (party_member_obj(16778049) != 0) then begin
                    if (has_trait(1, party_member_obj(16778049), 666)) then begin
                        critter_attempt_placement(party_member_obj(16778049), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if (party_member_obj(16778050) != 0) then begin
                if (party_member_obj(16778050) != 0) then begin
                    if (has_trait(1, party_member_obj(16778050), 666)) then begin
                        critter_attempt_placement(party_member_obj(16778050), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if (party_member_obj(16778051) != 0) then begin
                if (party_member_obj(16778051) != 0) then begin
                    if (has_trait(1, party_member_obj(16778051), 666)) then begin
                        critter_attempt_placement(party_member_obj(16778051), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if (party_member_obj(16777293) != 0) then begin
                if (party_member_obj(16777293) != 0) then begin
                    if (has_trait(1, party_member_obj(16777293), 666)) then begin
                        critter_attempt_placement(party_member_obj(16777293), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            add_timer_event(self_obj, game_ticks(1), 5);
        end
        if (((global_var(865) bwand 8388608) != 0) and not((map_var(0) bwand 2048) != 0) and (global_var(882) != 1) and (global_var(878) != 1) and (global_var(724) != 11)) then begin
            game_ui_disable;
            set_map_var(0, map_var(0) bwor 2048);
            call Generate_Hospital_Own_Attack();
            set_obj_visibility(dude_obj, 1);
            set_global_var(865, global_var(865) bwor 8388608);
            set_global_var(632, global_var(632) bwor 64);
            if (party_member_obj(16777729) != 0) then begin
                if (party_member_obj(16777729)) then begin
                    if (has_trait(1, party_member_obj(16777729), 666)) then begin
                        debug_msg("set party member hidden: " + obj_name(party_member_obj(16777729)));
                        set_global_var(632, global_var(632) bwor 1);
                        set_obj_visibility(party_member_obj(16777729), 1);
                    end
                    else begin
                        debug_msg("PARTY.H:::: no party member hidden because they already are invisible");
                    end
                end
            end
            if ((party_member_obj(16777779) != 0) and ((global_var(910) bwand 32) == 0)) then begin
                if (party_member_obj(16777779)) then begin
                    if (has_trait(1, party_member_obj(16777779), 666)) then begin
                        debug_msg("set party member hidden: " + obj_name(party_member_obj(16777779)));
                        set_global_var(632, global_var(632) bwor 2);
                        set_obj_visibility(party_member_obj(16777779), 1);
                    end
                    else begin
                        debug_msg("PARTY.H:::: no party member hidden because they already are invisible");
                    end
                end
            end
            if ((party_member_obj(16777811) != 0) and ((global_var(910) bwand 64) == 0)) then begin
                if (party_member_obj(16777811)) then begin
                    if (has_trait(1, party_member_obj(16777811), 666)) then begin
                        debug_msg("set party member hidden: " + obj_name(party_member_obj(16777811)));
                        set_global_var(632, global_var(632) bwor 4);
                        set_obj_visibility(party_member_obj(16777811), 1);
                    end
                    else begin
                        debug_msg("PARTY.H:::: no party member hidden because they already are invisible");
                    end
                end
            end
            if (party_member_obj(16777812) != 0) then begin
                if (party_member_obj(16777812)) then begin
                    if (has_trait(1, party_member_obj(16777812), 666)) then begin
                        debug_msg("set party member hidden: " + obj_name(party_member_obj(16777812)));
                        set_global_var(632, global_var(632) bwor 8);
                        set_obj_visibility(party_member_obj(16777812), 1);
                    end
                    else begin
                        debug_msg("PARTY.H:::: no party member hidden because they already are invisible");
                    end
                end
            end
            if (party_member_obj(16777813) != 0) then begin
                if (party_member_obj(16777813)) then begin
                    if (has_trait(1, party_member_obj(16777813), 666)) then begin
                        debug_msg("set party member hidden: " + obj_name(party_member_obj(16777813)));
                        set_global_var(632, global_var(632) bwor 16);
                        set_obj_visibility(party_member_obj(16777813), 1);
                    end
                    else begin
                        debug_msg("PARTY.H:::: no party member hidden because they already are invisible");
                    end
                end
            end
            if ((party_member_obj(16777814) != 0) and ((global_var(910) bwand 128) == 0)) then begin
                if (party_member_obj(16777814)) then begin
                    if (has_trait(1, party_member_obj(16777814), 666)) then begin
                        debug_msg("set party member hidden: " + obj_name(party_member_obj(16777814)));
                        set_global_var(632, global_var(632) bwor 32);
                        set_obj_visibility(party_member_obj(16777814), 1);
                    end
                    else begin
                        debug_msg("PARTY.H:::: no party member hidden because they already are invisible");
                    end
                end
            end
            set_global_var(862, 0);
            if (global_var(864) == 1) then begin
                set_global_var(864, 0);
                enemy_lovci := 1;
            end
            if (global_var(860) == 1) then begin
                set_global_var(860, 0);
                enemy_pristeh := 1;
            end
            if (global_var(861) == 1) then begin
                set_global_var(861, 0);
                enemy_vex := 1;
            end
            add_timer_event(self_obj, 2, 6);
        end
        if ((map_var(6) != 2) and (global_var(723) >= 4) and (global_var(723) <= 6)) then begin
            if (map_var(5) >= 8) then begin
                set_map_var(6, 2);
                vexman := create_object_sid(16777922, 16708, 2, 1672);
                anim(vexman, 1000, 5);
                restock_obj := create_object_sid(94, 0, 0, -1);
                add_mult_objs_to_inven(vexman, restock_obj, 1);
                restock_obj := create_object_sid(95, 0, 0, -1);
                add_mult_objs_to_inven(vexman, restock_obj, 2);
                restock_obj := create_object_sid(87, 0, 0, -1);
                add_mult_objs_to_inven(vexman, restock_obj, 1);
                if (obj_carrying_pid_obj(vexman, 94)) then begin
                    wield_obj_critter(vexman, obj_carrying_pid_obj(vexman, 94));
                end
                add_timer_event(vexman, 0, 8);
                vexman := create_object_sid(16777923, 16306, 2, 1672);
                anim(vexman, 1000, 3);
                restock_obj := create_object_sid(9, 0, 0, -1);
                add_mult_objs_to_inven(vexman, restock_obj, 1);
                restock_obj := create_object_sid(29, 0, 0, -1);
                add_mult_objs_to_inven(vexman, restock_obj, 1);
                restock_obj := create_object_sid(40, 0, 0, -1);
                add_mult_objs_to_inven(vexman, restock_obj, 1);
                if (obj_carrying_pid_obj(vexman, 9)) then begin
                    wield_obj_critter(vexman, obj_carrying_pid_obj(vexman, 9));
                end
                vexman := create_object_sid(16777924, 14909, 2, 1672);
                anim(vexman, 1000, 3);
                restock_obj := create_object_sid(234, 0, 0, -1);
                add_mult_objs_to_inven(vexman, restock_obj, 1);
                restock_obj := create_object_sid(110, 0, 0, -1);
                add_mult_objs_to_inven(vexman, restock_obj, 1);
                if (obj_carrying_pid_obj(vexman, 234)) then begin
                    wield_obj_critter(vexman, obj_carrying_pid_obj(vexman, 234));
                end
            end
            else begin
                if (map_var(6) == 1) then begin
                    set_map_var(6, 2);
                    vexman := create_object_sid(16777922, 16708, 2, 1672);
                    anim(vexman, 1000, 5);
                    restock_obj := create_object_sid(94, 0, 0, -1);
                    add_mult_objs_to_inven(vexman, restock_obj, 1);
                    restock_obj := create_object_sid(95, 0, 0, -1);
                    add_mult_objs_to_inven(vexman, restock_obj, 2);
                    restock_obj := create_object_sid(87, 0, 0, -1);
                    add_mult_objs_to_inven(vexman, restock_obj, 1);
                    if (obj_carrying_pid_obj(vexman, 94)) then begin
                        wield_obj_critter(vexman, obj_carrying_pid_obj(vexman, 94));
                    end
                    add_timer_event(vexman, 0, 8);
                end
            end
        end
    end
    if ((party_member_obj(16777811) != 0) and ((global_var(910) bwand 64) == 0)) then begin
        set_global_var(1018, global_var(1018) bwor 32768);
    end
end

procedure map_update_p_proc
begin
    if (elevation(dude_obj) == 2) then begin
        if ((map_var(0) bwand 4096) != 0) then begin
            set_light_level(1);
        end
        else begin
            set_light_level(50);
        end
    end
    else begin
        if (elevation(dude_obj) == 1) then begin
            set_light_level(60);
        end
        else begin
            if ((get_month >= 3) and (get_month < 5)) then begin
                if ((game_time_hour >= 600) and (game_time_hour < (600 + 100))) then begin
                    set_light_level(game_time_hour - 600 + 40);
                end
                else begin
                    if ((game_time_hour >= (600 + 100)) and (game_time_hour < 1800)) then begin
                        set_light_level(100);
                    end
                    else begin
                        if ((game_time_hour >= 1800) and (game_time_hour < (1800 + 100))) then begin
                            set_light_level(100 - (game_time_hour - 1800));
                        end
                        else begin
                            set_light_level(40);
                        end
                    end
                end
            end
            else begin
                if ((get_month >= 5) and (get_month < 9)) then begin
                    if ((game_time_hour >= 500) and (game_time_hour < (500 + 100))) then begin
                        set_light_level(game_time_hour - 500 + 40);
                    end
                    else begin
                        if ((game_time_hour >= (500 + 100)) and (game_time_hour < 1900)) then begin
                            set_light_level(100);
                        end
                        else begin
                            if ((game_time_hour >= 1900) and (game_time_hour < (1900 + 100))) then begin
                                set_light_level(100 - (game_time_hour - 1900));
                            end
                            else begin
                                set_light_level(40);
                            end
                        end
                    end
                end
                else begin
                    if ((get_month >= 9) and (get_month < 11)) then begin
                        if ((game_time_hour >= 600) and (game_time_hour < (600 + 100))) then begin
                            set_light_level(game_time_hour - 600 + 40);
                        end
                        else begin
                            if ((game_time_hour >= (600 + 100)) and (game_time_hour < 1800)) then begin
                                set_light_level(100);
                            end
                            else begin
                                if ((game_time_hour >= 1800) and (game_time_hour < (1800 + 100))) then begin
                                    set_light_level(100 - (game_time_hour - 1800));
                                end
                                else begin
                                    set_light_level(40);
                                end
                            end
                        end
                    end
                    else begin
                        if ((game_time_hour >= 700) and (game_time_hour < (700 + 100))) then begin
                            set_light_level(game_time_hour - 700 + 40);
                        end
                        else begin
                            if ((game_time_hour >= (700 + 100)) and (game_time_hour < 1700)) then begin
                                set_light_level(100);
                            end
                            else begin
                                if ((game_time_hour >= 1700) and (game_time_hour < (1700 + 100))) then begin
                                    set_light_level(100 - (game_time_hour - 1700));
                                end
                                else begin
                                    set_light_level(40);
                                end
                            end
                        end
                    end
                end
            end
        end
    end
end

procedure map_exit_p_proc
begin
    set_global_var(857, 0);
    if (tile_in_tile_rect(7958, 7925, 11358, 11325, tile_num(dude_obj)) or tile_in_tile_rect(30320, 30301, 32720, 32701, tile_num(dude_obj))) then begin
        set_global_var(1017, global_var(1017) bwor 1);
    end
end

procedure timed_event_p_proc
begin
    if (global_var(882) == 1) then begin
        if (fixed_param == 1) then begin
            if (fixed_param == 1) then begin
                sequence := sequence + 1;
            end
            if (sequence == 1) then begin
                metarule3(108, 25130, 0, 0);
                game_ui_disable;
                if (party_member_obj(16777729) != 0) then begin
                    if (party_member_obj(16777729) != 0) then begin
                        if (has_trait(1, party_member_obj(16777729), 666)) then begin
                            critter_attempt_placement(party_member_obj(16777729), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 5), elevation(dude_obj));
                        end
                    end
                end
                if ((party_member_obj(16777779) != 0) and ((global_var(910) bwand 32) == 0)) then begin
                    if (party_member_obj(16777779) != 0) then begin
                        if (has_trait(1, party_member_obj(16777779), 666)) then begin
                            critter_attempt_placement(party_member_obj(16777779), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 5), elevation(dude_obj));
                        end
                    end
                end
                if ((party_member_obj(16777811) != 0) and ((global_var(910) bwand 64) == 0)) then begin
                    if (party_member_obj(16777811) != 0) then begin
                        if (has_trait(1, party_member_obj(16777811), 666)) then begin
                            critter_attempt_placement(party_member_obj(16777811), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 5), elevation(dude_obj));
                        end
                    end
                end
                if (party_member_obj(16777812) != 0) then begin
                    if (party_member_obj(16777812) != 0) then begin
                        if (has_trait(1, party_member_obj(16777812), 666)) then begin
                            critter_attempt_placement(party_member_obj(16777812), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 5), elevation(dude_obj));
                        end
                    end
                end
                if ((party_member_obj(16777814) != 0) and ((global_var(910) bwand 128) == 0)) then begin
                    if (party_member_obj(16777814) != 0) then begin
                        if (has_trait(1, party_member_obj(16777814), 666)) then begin
                            critter_attempt_placement(party_member_obj(16777814), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 5), elevation(dude_obj));
                        end
                    end
                end
                if (party_member_obj(16777748) != 0) then begin
                    if (party_member_obj(16777748) != 0) then begin
                        if (has_trait(1, party_member_obj(16777748), 666)) then begin
                            critter_attempt_placement(party_member_obj(16777748), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 5), elevation(dude_obj));
                        end
                    end
                end
                if (party_member_obj(16778017) != 0) then begin
                    if (party_member_obj(16778017) != 0) then begin
                        if (has_trait(1, party_member_obj(16778017), 666)) then begin
                            critter_attempt_placement(party_member_obj(16778017), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 5), elevation(dude_obj));
                        end
                    end
                end
                if (party_member_obj(16778016) != 0) then begin
                    if (party_member_obj(16778016) != 0) then begin
                        if (has_trait(1, party_member_obj(16778016), 666)) then begin
                            critter_attempt_placement(party_member_obj(16778016), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 5), elevation(dude_obj));
                        end
                    end
                end
                if (party_member_obj(16778049) != 0) then begin
                    if (party_member_obj(16778049) != 0) then begin
                        if (has_trait(1, party_member_obj(16778049), 666)) then begin
                            critter_attempt_placement(party_member_obj(16778049), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 5), elevation(dude_obj));
                        end
                    end
                end
                if (party_member_obj(16778050) != 0) then begin
                    if (party_member_obj(16778050) != 0) then begin
                        if (has_trait(1, party_member_obj(16778050), 666)) then begin
                            critter_attempt_placement(party_member_obj(16778050), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 5), elevation(dude_obj));
                        end
                    end
                end
                if (party_member_obj(16778051) != 0) then begin
                    if (party_member_obj(16778051) != 0) then begin
                        if (has_trait(1, party_member_obj(16778051), 666)) then begin
                            critter_attempt_placement(party_member_obj(16778051), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 5), elevation(dude_obj));
                        end
                    end
                end
                if (party_member_obj(16777293) != 0) then begin
                    if (party_member_obj(16777293) != 0) then begin
                        if (has_trait(1, party_member_obj(16777293), 666)) then begin
                            critter_attempt_placement(party_member_obj(16777293), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 5), elevation(dude_obj));
                        end
                    end
                end
                add_timer_event(self_obj, game_ticks(0), 1);
            end
            if (sequence == 2) then begin
                animate_move_obj_to_tile(dude_obj, 25130, 0);
                animate_move_obj_to_tile(lovec1, 25531, 0);
                animate_move_obj_to_tile(lovec2, 25929, 0);
                add_timer_event(self_obj, game_ticks(1), 1);
            end
            if (sequence == 3) then begin
                reg_anim_func(2, lovec2);
                anim(lovec2, 1000, 2);
                add_timer_event(self_obj, game_ticks(1), 1);
            end
            if (sequence == 4) then begin
                reg_anim_func(2, lovec1);
                reg_anim_func(2, dude_obj);
                anim(lovec1, 1000, 5);
                add_timer_event(self_obj, 5, 1);
            end
            if (sequence == 5) then begin
                game_ui_enable;
                sequence := 0;
                add_timer_event(Kuggar_obj, game_ticks(0), 1);
            end
        end
    end
    if (fixed_param == 2) then begin
        float_msg(lovec1, message_str(1690, 602), 2);
    end
    if (global_var(882) == 3) then begin
        if (fixed_param == 3) then begin
            if (fixed_param == 3) then begin
                sequence2 := sequence2 + 1;
            end
            if (sequence2 == 1) then begin
                game_ui_disable;
                metarule3(108, 25130, 0, 0);
                add_timer_event(self_obj, game_ticks(0), 3);
            end
            if (sequence2 == 2) then begin
                float_msg(lovec1, message_str(1690, 600), 8);
                add_timer_event(self_obj, game_ticks(5), 3);
            end
            if (sequence2 == 3) then begin
                float_msg(lovec2, message_str(1690, 601), 8);
                add_timer_event(self_obj, game_ticks(1), 3);
            end
            if (sequence2 == 4) then begin
                reg_anim_func(2, kuggar);
                animate_move_obj_to_tile(kuggar, 25930, 0);
                add_timer_event(self_obj, game_ticks(1), 3);
            end
            if (sequence2 == 5) then begin
                anim(dude_obj, 1000, 2);
                add_timer_event(self_obj, 5, 3);
            end
            if (sequence2 == 6) then begin
                reg_anim_func(2, kuggar);
                animate_move_obj_to_tile(kuggar, 24335, 0);
                add_timer_event(self_obj, game_ticks(1), 3);
            end
            if (sequence2 == 7) then begin
                reg_anim_func(2, lovec2);
                animate_move_obj_to_tile(lovec2, 24335, 0);
                add_timer_event(self_obj, 1, 3);
            end
            if (sequence2 == 8) then begin
                reg_anim_func(2, lovec1);
                animate_move_obj_to_tile(lovec1, 24335, 0);
                add_timer_event(self_obj, game_ticks(3), 3);
            end
            if (sequence2 == 9) then begin
                gfade_out(600);
                add_timer_event(self_obj, 5, 3);
            end
            if (sequence2 == 10) then begin
                destroy_object(kuggar);
                destroy_object(lovec1);
                destroy_object(lovec2);
                add_timer_event(self_obj, 8, 3);
            end
            if (sequence2 == 11) then begin
                gfade_in(600);
                game_ui_enable;
                add_timer_event(self_obj, 2, 3);
            end
            if (sequence2 == 12) then begin
                sequence2 := 0;
                if (((map_var(0) bwand 1024) != 0) and (global_var(862) == 0)) then begin
                    set_global_var(862, 1);
                end
            end
        end
    end
    if (fixed_param == 4) then begin
        if (fixed_param == 4) then begin
            sequence := sequence + 1;
        end
        if (sequence == 1) then begin
            set_global_var(862, 0);
            game_ui_disable;
            add_timer_event(self_obj, 2, 4);
        end
        if (sequence == 2) then begin
            gfade_out(600);
            add_timer_event(self_obj, 5, 4);
        end
        if (sequence == 3) then begin
            set_map_var(0, map_var(0) bwor 512);
            add_timer_event(self_obj, game_ticks(1), 4);
        end
        if (sequence == 4) then begin
            gfade_in(600);
            add_timer_event(self_obj, 5, 4);
        end
        if (sequence == 5) then begin
            game_ui_enable;
            set_global_var(862, 1);
        end
    end
    if (fixed_param == 5) then begin
        game_ui_enable;
        set_global_var(862, 1);
        set_global_var(878, 2);
        if (enemy_lovci == 1) then begin
            set_global_var(864, 1);
        end
        if (enemy_pristeh == 1) then begin
            set_global_var(860, 1);
        end
        if (enemy_vex == 1) then begin
            set_global_var(861, 1);
        end
    end
    if (fixed_param == 6) then begin
        if (fixed_param == 6) then begin
            sequence := sequence + 1;
        end
        if (sequence == 1) then begin
            lastdudetile := tile_num(dude_obj);
            lastdudeelevation := elevation(dude_obj);
            move_to(dude_obj, 23534, 0);
            if (party_member_obj(16777729) != 0) then begin
                if (party_member_obj(16777729) != 0) then begin
                    if (has_trait(1, party_member_obj(16777729), 666)) then begin
                        critter_attempt_placement(party_member_obj(16777729), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if ((party_member_obj(16777779) != 0) and ((global_var(910) bwand 32) == 0)) then begin
                if (party_member_obj(16777779) != 0) then begin
                    if (has_trait(1, party_member_obj(16777779), 666)) then begin
                        critter_attempt_placement(party_member_obj(16777779), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if ((party_member_obj(16777811) != 0) and ((global_var(910) bwand 64) == 0)) then begin
                if (party_member_obj(16777811) != 0) then begin
                    if (has_trait(1, party_member_obj(16777811), 666)) then begin
                        critter_attempt_placement(party_member_obj(16777811), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if (party_member_obj(16777812) != 0) then begin
                if (party_member_obj(16777812) != 0) then begin
                    if (has_trait(1, party_member_obj(16777812), 666)) then begin
                        critter_attempt_placement(party_member_obj(16777812), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if ((party_member_obj(16777814) != 0) and ((global_var(910) bwand 128) == 0)) then begin
                if (party_member_obj(16777814) != 0) then begin
                    if (has_trait(1, party_member_obj(16777814), 666)) then begin
                        critter_attempt_placement(party_member_obj(16777814), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if (party_member_obj(16777748) != 0) then begin
                if (party_member_obj(16777748) != 0) then begin
                    if (has_trait(1, party_member_obj(16777748), 666)) then begin
                        critter_attempt_placement(party_member_obj(16777748), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if (party_member_obj(16778017) != 0) then begin
                if (party_member_obj(16778017) != 0) then begin
                    if (has_trait(1, party_member_obj(16778017), 666)) then begin
                        critter_attempt_placement(party_member_obj(16778017), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if (party_member_obj(16778016) != 0) then begin
                if (party_member_obj(16778016) != 0) then begin
                    if (has_trait(1, party_member_obj(16778016), 666)) then begin
                        critter_attempt_placement(party_member_obj(16778016), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if (party_member_obj(16778049) != 0) then begin
                if (party_member_obj(16778049) != 0) then begin
                    if (has_trait(1, party_member_obj(16778049), 666)) then begin
                        critter_attempt_placement(party_member_obj(16778049), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if (party_member_obj(16778050) != 0) then begin
                if (party_member_obj(16778050) != 0) then begin
                    if (has_trait(1, party_member_obj(16778050), 666)) then begin
                        critter_attempt_placement(party_member_obj(16778050), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if (party_member_obj(16778051) != 0) then begin
                if (party_member_obj(16778051) != 0) then begin
                    if (has_trait(1, party_member_obj(16778051), 666)) then begin
                        critter_attempt_placement(party_member_obj(16778051), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if (party_member_obj(16777293) != 0) then begin
                if (party_member_obj(16777293) != 0) then begin
                    if (has_trait(1, party_member_obj(16777293), 666)) then begin
                        critter_attempt_placement(party_member_obj(16777293), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            reg_anim_func(2, kuggar);
            reg_anim_func(2, bratr1);
            reg_anim_func(2, nemzol1);
            reg_anim_func(2, nemzol2);
            reg_anim_func(2, nemzol3);
            reg_anim_func(2, nemzol4);
            reg_anim_func(2, nemzol5);
            add_timer_event(self_obj, game_ticks(1), 6);
        end
        if (sequence == 2) then begin
            animate_move_obj_to_tile(nemzol1, 22534, 0);
            animate_move_obj_to_tile(nemzol2, 23733, 0);
            animate_move_obj_to_tile(nemzol5, 25735, 0);
            reg_anim_func(2, kuggar);
            reg_anim_func(1, 1);
            reg_anim_play_sfx(kuggar, sfx_build_char_name(kuggar, 16, 2), 0);
            reg_anim_animate(kuggar, 41, -1);
            reg_anim_func(3, 0);
            reg_anim_func(2, nemzol3);
            reg_anim_func(1, 1);
            reg_anim_play_sfx(nemzol3, sfx_build_char_name(nemzol3, 16, 2), 0);
            reg_anim_animate(nemzol3, 13, -1);
            reg_anim_func(3, 0);
            reg_anim_func(2, bratr1);
            reg_anim_func(1, 1);
            reg_anim_play_sfx(bratr1, sfx_build_char_name(bratr1, 14, 4), 0);
            reg_anim_animate(bratr1, 14, -1);
            reg_anim_func(3, 0);
            reg_anim_func(2, nemzol4);
            reg_anim_func(1, 1);
            reg_anim_play_sfx(nemzol4, sfx_build_char_name(nemzol4, 42, 4), 0);
            reg_anim_animate(nemzol4, 42, -1);
            reg_anim_func(3, 0);
            add_timer_event(self_obj, game_ticks(2), 6);
        end
        if (sequence == 3) then begin
            anim(nemzol5, 1000, 4);
            reg_anim_func(2, kuggar);
            reg_anim_func(1, 1);
            reg_anim_play_sfx(kuggar, sfx_build_char_name(kuggar, 14, 4), 0);
            reg_anim_animate(kuggar, 14, -1);
            reg_anim_func(3, 0);
            reg_anim_func(2, nemzol3);
            reg_anim_func(1, 1);
            reg_anim_play_sfx(nemzol3, sfx_build_char_name(nemzol3, 42, 4), 0);
            reg_anim_animate(nemzol3, 42, -1);
            reg_anim_func(3, 0);
            reg_anim_func(2, bratr1);
            reg_anim_func(1, 1);
            reg_anim_animate(bratr1, 17, -1);
            reg_anim_play_sfx(bratr1, sfx_build_char_name(bratr1, 17, 4), 0);
            reg_anim_func(3, 0);
            reg_anim_func(2, nemzol4);
            reg_anim_func(1, 1);
            reg_anim_play_sfx(nemzol4, sfx_build_char_name(nemzol4, 14, 4), 0);
            reg_anim_animate(nemzol4, 14, -1);
            reg_anim_func(3, 0);
            add_timer_event(self_obj, game_ticks(2), 6);
        end
        if (sequence == 4) then begin
            anim(nemzol5, 1000, 4);
            reg_anim_func(2, kuggar);
            reg_anim_func(1, 1);
            reg_anim_play_sfx(kuggar, sfx_build_char_name(kuggar, 20, 3), 0);
            reg_anim_animate(kuggar, 20, -1);
            reg_anim_func(3, 0);
            reg_anim_func(2, nemzol3);
            reg_anim_func(1, 1);
            reg_anim_play_sfx(nemzol3, sfx_build_char_name(nemzol3, 42, 4), 0);
            reg_anim_animate(nemzol3, 42, -1);
            reg_anim_func(3, 0);
            reg_anim_func(2, bratr1);
            reg_anim_func(1, 1);
            reg_anim_play_sfx(bratr1, sfx_build_char_name(bratr1, 16, 4), 0);
            reg_anim_animate(bratr1, 18, -1);
            reg_anim_func(3, 0);
            reg_anim_func(2, nemzol4);
            reg_anim_func(1, 1);
            reg_anim_play_sfx(nemzol4, sfx_build_char_name(nemzol4, 14, 4), 0);
            reg_anim_animate(nemzol4, 14, -1);
            reg_anim_func(3, 0);
            add_timer_event(self_obj, game_ticks(2), 6);
        end
        if (sequence == 5) then begin
            reg_anim_func(2, bratr1);
            reg_anim_func(1, 1);
            reg_anim_play_sfx(bratr1, sfx_build_char_name(bratr1, 20, 3), 0);
            reg_anim_animate(bratr1, 34, -1);
            reg_anim_func(3, 0);
            reg_anim_func(2, nemzol4);
            reg_anim_func(1, 1);
            reg_anim_play_sfx(nemzol4, sfx_build_char_name(nemzol4, 42, 4), 0);
            reg_anim_animate(nemzol4, 42, -1);
            reg_anim_func(3, 0);
            add_timer_event(self_obj, game_ticks(2), 6);
        end
        if (sequence == 6) then begin
            gfade_out(600);
            add_timer_event(self_obj, game_ticks(1), 6);
        end
        if (sequence == 7) then begin
            move_to(dude_obj, lastdudetile, lastdudeelevation);
            set_obj_visibility(dude_obj, 0);
            set_global_var(632, global_var(632) bwand (-1 - 64));
            if (party_member_obj(16777729) != 0) then begin
                if (party_member_obj(16777729)) then begin
                    if (has_trait(1, party_member_obj(16777729), 666) == 0) then begin
                        if ((global_var(632) bwand 1) != 0) then begin
                            debug_msg("unhiding party member " + obj_name(party_member_obj(16777729)));
                            set_global_var(632, global_var(632) bwand (-1 - 1));
                            set_obj_visibility(party_member_obj(16777729), 0);
                        end
                        else begin
                            debug_msg("PARTY.H:::: party member wasn't hidden by my macro");
                        end
                    end
                    else begin
                        debug_msg("unhiding party member " + obj_name(party_member_obj(16777729)));
                        set_global_var(632, global_var(632) bwand (-1 - 1));
                        set_obj_visibility(party_member_obj(16777729), 0);
                        debug_msg("PARTY.H:::: party member wasn't hidden.. clearing my state");
                    end
                end
            end
            if ((party_member_obj(16777779) != 0) and ((global_var(910) bwand 32) == 0)) then begin
                if (party_member_obj(16777779)) then begin
                    if (has_trait(1, party_member_obj(16777779), 666) == 0) then begin
                        if ((global_var(632) bwand 2) != 0) then begin
                            debug_msg("unhiding party member " + obj_name(party_member_obj(16777779)));
                            set_global_var(632, global_var(632) bwand (-1 - 2));
                            set_obj_visibility(party_member_obj(16777779), 0);
                        end
                        else begin
                            debug_msg("PARTY.H:::: party member wasn't hidden by my macro");
                        end
                    end
                    else begin
                        debug_msg("unhiding party member " + obj_name(party_member_obj(16777779)));
                        set_global_var(632, global_var(632) bwand (-1 - 2));
                        set_obj_visibility(party_member_obj(16777779), 0);
                        debug_msg("PARTY.H:::: party member wasn't hidden.. clearing my state");
                    end
                end
            end
            if ((party_member_obj(16777811) != 0) and ((global_var(910) bwand 64) == 0)) then begin
                if (party_member_obj(16777811)) then begin
                    if (has_trait(1, party_member_obj(16777811), 666) == 0) then begin
                        if ((global_var(632) bwand 4) != 0) then begin
                            debug_msg("unhiding party member " + obj_name(party_member_obj(16777811)));
                            set_global_var(632, global_var(632) bwand (-1 - 4));
                            set_obj_visibility(party_member_obj(16777811), 0);
                        end
                        else begin
                            debug_msg("PARTY.H:::: party member wasn't hidden by my macro");
                        end
                    end
                    else begin
                        debug_msg("unhiding party member " + obj_name(party_member_obj(16777811)));
                        set_global_var(632, global_var(632) bwand (-1 - 4));
                        set_obj_visibility(party_member_obj(16777811), 0);
                        debug_msg("PARTY.H:::: party member wasn't hidden.. clearing my state");
                    end
                end
            end
            if (party_member_obj(16777812) != 0) then begin
                if (party_member_obj(16777812)) then begin
                    if (has_trait(1, party_member_obj(16777812), 666) == 0) then begin
                        if ((global_var(632) bwand 8) != 0) then begin
                            debug_msg("unhiding party member " + obj_name(party_member_obj(16777812)));
                            set_global_var(632, global_var(632) bwand (-1 - 8));
                            set_obj_visibility(party_member_obj(16777812), 0);
                        end
                        else begin
                            debug_msg("PARTY.H:::: party member wasn't hidden by my macro");
                        end
                    end
                    else begin
                        debug_msg("unhiding party member " + obj_name(party_member_obj(16777812)));
                        set_global_var(632, global_var(632) bwand (-1 - 8));
                        set_obj_visibility(party_member_obj(16777812), 0);
                        debug_msg("PARTY.H:::: party member wasn't hidden.. clearing my state");
                    end
                end
            end
            if (party_member_obj(16777813) != 0) then begin
                if (party_member_obj(16777813)) then begin
                    if (has_trait(1, party_member_obj(16777813), 666) == 0) then begin
                        if ((global_var(632) bwand 16) != 0) then begin
                            debug_msg("unhiding party member " + obj_name(party_member_obj(16777813)));
                            set_global_var(632, global_var(632) bwand (-1 - 16));
                            set_obj_visibility(party_member_obj(16777813), 0);
                        end
                        else begin
                            debug_msg("PARTY.H:::: party member wasn't hidden by my macro");
                        end
                    end
                    else begin
                        debug_msg("unhiding party member " + obj_name(party_member_obj(16777813)));
                        set_global_var(632, global_var(632) bwand (-1 - 16));
                        set_obj_visibility(party_member_obj(16777813), 0);
                        debug_msg("PARTY.H:::: party member wasn't hidden.. clearing my state");
                    end
                end
            end
            if ((party_member_obj(16777814) != 0) and ((global_var(910) bwand 128) == 0)) then begin
                if (party_member_obj(16777814)) then begin
                    if (has_trait(1, party_member_obj(16777814), 666) == 0) then begin
                        if ((global_var(632) bwand 32) != 0) then begin
                            debug_msg("unhiding party member " + obj_name(party_member_obj(16777814)));
                            set_global_var(632, global_var(632) bwand (-1 - 32));
                            set_obj_visibility(party_member_obj(16777814), 0);
                        end
                        else begin
                            debug_msg("PARTY.H:::: party member wasn't hidden by my macro");
                        end
                    end
                    else begin
                        debug_msg("unhiding party member " + obj_name(party_member_obj(16777814)));
                        set_global_var(632, global_var(632) bwand (-1 - 32));
                        set_obj_visibility(party_member_obj(16777814), 0);
                        debug_msg("PARTY.H:::: party member wasn't hidden.. clearing my state");
                    end
                end
            end
            if (party_member_obj(16777729) != 0) then begin
                if (party_member_obj(16777729) != 0) then begin
                    if (has_trait(1, party_member_obj(16777729), 666)) then begin
                        critter_attempt_placement(party_member_obj(16777729), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if ((party_member_obj(16777779) != 0) and ((global_var(910) bwand 32) == 0)) then begin
                if (party_member_obj(16777779) != 0) then begin
                    if (has_trait(1, party_member_obj(16777779), 666)) then begin
                        critter_attempt_placement(party_member_obj(16777779), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if ((party_member_obj(16777811) != 0) and ((global_var(910) bwand 64) == 0)) then begin
                if (party_member_obj(16777811) != 0) then begin
                    if (has_trait(1, party_member_obj(16777811), 666)) then begin
                        critter_attempt_placement(party_member_obj(16777811), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if (party_member_obj(16777812) != 0) then begin
                if (party_member_obj(16777812) != 0) then begin
                    if (has_trait(1, party_member_obj(16777812), 666)) then begin
                        critter_attempt_placement(party_member_obj(16777812), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if ((party_member_obj(16777814) != 0) and ((global_var(910) bwand 128) == 0)) then begin
                if (party_member_obj(16777814) != 0) then begin
                    if (has_trait(1, party_member_obj(16777814), 666)) then begin
                        critter_attempt_placement(party_member_obj(16777814), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if (party_member_obj(16777748) != 0) then begin
                if (party_member_obj(16777748) != 0) then begin
                    if (has_trait(1, party_member_obj(16777748), 666)) then begin
                        critter_attempt_placement(party_member_obj(16777748), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if (party_member_obj(16778017) != 0) then begin
                if (party_member_obj(16778017) != 0) then begin
                    if (has_trait(1, party_member_obj(16778017), 666)) then begin
                        critter_attempt_placement(party_member_obj(16778017), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if (party_member_obj(16778016) != 0) then begin
                if (party_member_obj(16778016) != 0) then begin
                    if (has_trait(1, party_member_obj(16778016), 666)) then begin
                        critter_attempt_placement(party_member_obj(16778016), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if (party_member_obj(16778049) != 0) then begin
                if (party_member_obj(16778049) != 0) then begin
                    if (has_trait(1, party_member_obj(16778049), 666)) then begin
                        critter_attempt_placement(party_member_obj(16778049), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if (party_member_obj(16778050) != 0) then begin
                if (party_member_obj(16778050) != 0) then begin
                    if (has_trait(1, party_member_obj(16778050), 666)) then begin
                        critter_attempt_placement(party_member_obj(16778050), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if (party_member_obj(16778051) != 0) then begin
                if (party_member_obj(16778051) != 0) then begin
                    if (has_trait(1, party_member_obj(16778051), 666)) then begin
                        critter_attempt_placement(party_member_obj(16778051), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            if (party_member_obj(16777293) != 0) then begin
                if (party_member_obj(16777293) != 0) then begin
                    if (has_trait(1, party_member_obj(16777293), 666)) then begin
                        critter_attempt_placement(party_member_obj(16777293), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
                    end
                end
            end
            destroy_object(nemzol1);
            destroy_object(nemzol2);
            destroy_object(nemzol3);
            destroy_object(nemzol4);
            destroy_object(nemzol5);
            destroy_object(kuggar);
            destroy_object(bratr1);
            destroy_object(bratr2);
            destroy_object(lovec1);
            destroy_object(divos1);
            destroy_object(divos2);
            destroy_object(lovec2);
            add_timer_event(self_obj, game_ticks(1), 6);
        end
        if (sequence == 8) then begin
            gfade_in(600);
            sequence := 0;
            game_ui_enable;
            if (enemy_lovci == 1) then begin
                set_global_var(864, 1);
            end
            if (enemy_pristeh == 1) then begin
                set_global_var(860, 1);
            end
            if (enemy_vex == 1) then begin
                set_global_var(861, 1);
            end
        end
    end
    if (fixed_param == 7) then begin
        call repair_tiles();
        if (elevation(dude_obj) == 2) then begin
            set_light_level(50);
        end
    end
    if (fixed_param == 52) then begin
        gfade_in(600);
    end
end

procedure Generate_Hospital
begin
    nemzol1 := create_object_sid(16777928, 16135, 0, 1743);
    nemzol5 := create_object_sid(16777929, 15938, 0, 1743);
    nemzol3 := create_object_sid(16777928, 22122, 0, 1743);
    nemzol4 := create_object_sid(16777929, 22721, 0, 1743);
    nemzol2 := create_object_sid(16777928, 27526, 0, 1743);
    nemzol6 := create_object_sid(16777929, 27324, 0, 1743);
    anim(nemzol1, 1000, 2);
    anim(nemzol5, 1000, 2);
    anim(nemzol3, 1000, 3);
    anim(nemzol4, 1000, 3);
    anim(nemzol2, 1000, 4);
    anim(nemzol6, 1000, 4);
    restock_obj := create_object_sid(601, 0, 0, -1);
    add_mult_objs_to_inven(nemzol1, restock_obj, 1);
    restock_obj := create_object_sid(601, 0, 0, -1);
    add_mult_objs_to_inven(nemzol2, restock_obj, 1);
    restock_obj := create_object_sid(601, 0, 0, -1);
    add_mult_objs_to_inven(nemzol3, restock_obj, 1);
    restock_obj := create_object_sid(601, 0, 0, -1);
    add_mult_objs_to_inven(nemzol4, restock_obj, 1);
    restock_obj := create_object_sid(601, 0, 0, -1);
    add_mult_objs_to_inven(nemzol5, restock_obj, 1);
    restock_obj := create_object_sid(601, 0, 0, -1);
    add_mult_objs_to_inven(nemzol6, restock_obj, 1);
    restock_obj := create_object_sid(40, 0, 0, -1);
    add_mult_objs_to_inven(nemzol1, restock_obj, 1);
    restock_obj := create_object_sid(40, 0, 0, -1);
    add_mult_objs_to_inven(nemzol2, restock_obj, 1);
    restock_obj := create_object_sid(40, 0, 0, -1);
    add_mult_objs_to_inven(nemzol3, restock_obj, 1);
    restock_obj := create_object_sid(40, 0, 0, -1);
    add_mult_objs_to_inven(nemzol4, restock_obj, 1);
    restock_obj := create_object_sid(40, 0, 0, -1);
    add_mult_objs_to_inven(nemzol5, restock_obj, 1);
    restock_obj := create_object_sid(40, 0, 0, -1);
    add_mult_objs_to_inven(nemzol6, restock_obj, 1);
    restock_obj := create_object_sid(38, 0, 0, -1);
    add_mult_objs_to_inven(nemzol1, restock_obj, 1);
    restock_obj := create_object_sid(38, 0, 0, -1);
    add_mult_objs_to_inven(nemzol2, restock_obj, 1);
    restock_obj := create_object_sid(38, 0, 0, -1);
    add_mult_objs_to_inven(nemzol3, restock_obj, 1);
    restock_obj := create_object_sid(38, 0, 0, -1);
    add_mult_objs_to_inven(nemzol4, restock_obj, 1);
    restock_obj := create_object_sid(38, 0, 0, -1);
    add_mult_objs_to_inven(nemzol5, restock_obj, 1);
    restock_obj := create_object_sid(38, 0, 0, -1);
    add_mult_objs_to_inven(nemzol6, restock_obj, 1);
    wield_obj_critter(nemzol1, obj_carrying_pid_obj(nemzol1, 601));
    wield_obj_critter(nemzol2, obj_carrying_pid_obj(nemzol2, 601));
    wield_obj_critter(nemzol3, obj_carrying_pid_obj(nemzol3, 601));
    wield_obj_critter(nemzol4, obj_carrying_pid_obj(nemzol4, 601));
    wield_obj_critter(nemzol5, obj_carrying_pid_obj(nemzol5, 601));
    wield_obj_critter(nemzol6, obj_carrying_pid_obj(nemzol5, 601));
end

procedure Generate_Hospital_Own_Attack
begin
    nemzol1 := create_object_sid(16777928, 20132, 0, -1);
    nemzol2 := create_object_sid(16777928, 22929, 0, -1);
    nemzol3 := create_object_sid(16777928, 23943, 0, -1);
    nemzol4 := create_object_sid(16777929, 24939, 0, -1);
    nemzol5 := create_object_sid(16777929, 26529, 0, -1);
    kuggar := create_object_sid(16777916, 23942, 0, -1);
    bratr1 := create_object_sid(16777916, 25139, 0, -1);
    bratr2 := create_object_sid(16777916, 23136, 0, -1);
    lovec1 := create_object_sid(16777916, 24935, 0, -1);
    lovec2 := create_object_sid(16777916, 22129, 0, -1);
    divos1 := create_object_sid(16777918, 23145, 0, -1);
    divos2 := create_object_sid(16777918, 25744, 0, -1);
    anim(kuggar, 1000, 4);
    anim(bratr1, 1000, 5);
    anim(bratr2, 1000, 3);
    anim(lovec1, 1000, 2);
    anim(lovec2, 1000, 1);
    anim(divos1, 1000, 4);
    anim(divos2, 1000, 3);
    reg_anim_func(2, bratr2);
    anim(bratr2, 48, 0);
    reg_anim_func(2, lovec1);
    anim(lovec1, 48, 0);
    reg_anim_func(2, lovec2);
    anim(lovec2, 62, 0);
    reg_anim_func(2, divos1);
    anim(divos1, 48, 0);
    reg_anim_func(2, divos2);
    anim(divos2, 62, 0);
    anim(nemzol1, 1000, 2);
    anim(nemzol2, 1000, 3);
    anim(nemzol3, 1000, 1);
    anim(nemzol4, 1000, 2);
    anim(nemzol5, 1000, 4);
    restock_obj := create_object_sid(7, 0, 0, -1);
    add_mult_objs_to_inven(kuggar, restock_obj, 1);
    restock_obj := create_object_sid(601, 0, 0, -1);
    add_mult_objs_to_inven(nemzol1, restock_obj, 1);
    restock_obj := create_object_sid(601, 0, 0, -1);
    add_mult_objs_to_inven(nemzol2, restock_obj, 1);
    restock_obj := create_object_sid(601, 0, 0, -1);
    add_mult_objs_to_inven(nemzol3, restock_obj, 1);
    restock_obj := create_object_sid(601, 0, 0, -1);
    add_mult_objs_to_inven(nemzol4, restock_obj, 1);
    restock_obj := create_object_sid(601, 0, 0, -1);
    add_mult_objs_to_inven(nemzol5, restock_obj, 1);
    wield_obj_critter(kuggar, obj_carrying_pid_obj(kuggar, 7));
    wield_obj_critter(nemzol1, obj_carrying_pid_obj(nemzol1, 601));
    wield_obj_critter(nemzol2, obj_carrying_pid_obj(nemzol2, 601));
    wield_obj_critter(nemzol3, obj_carrying_pid_obj(nemzol3, 601));
    wield_obj_critter(nemzol4, obj_carrying_pid_obj(nemzol4, 601));
    wield_obj_critter(nemzol5, obj_carrying_pid_obj(nemzol5, 601));
end

procedure repair_tiles
begin
    create_object_sid(67108980, 19324, 2, -1);
    create_object_sid(67108980, 18924, 2, -1);
    create_object_sid(67108980, 18524, 2, -1);
    create_object_sid(67108980, 18124, 2, -1);
    create_object_sid(67108980, 17724, 2, -1);
    create_object_sid(67108980, 17324, 2, -1);
    create_object_sid(67108980, 16924, 2, -1);
    create_object_sid(67108980, 16524, 2, -1);
    create_object_sid(67108980, 16124, 2, -1);
    create_object_sid(67108980, 15724, 2, -1);
    create_object_sid(67108980, 15324, 2, -1);
    create_object_sid(67108980, 14924, 2, -1);
    create_object_sid(67108980, 14524, 2, -1);
    create_object_sid(67108980, 14124, 2, -1);
    create_object_sid(67108980, 13724, 2, -1);
    create_object_sid(67108980, 13424, 2, -1);
    create_object_sid(67108980, 19326, 2, -1);
    create_object_sid(67108980, 18926, 2, -1);
    create_object_sid(67108980, 18526, 2, -1);
    create_object_sid(67108980, 18126, 2, -1);
    create_object_sid(67108980, 17726, 2, -1);
    create_object_sid(67108980, 17326, 2, -1);
    create_object_sid(67108980, 16926, 2, -1);
    create_object_sid(67108980, 16526, 2, -1);
    create_object_sid(67108980, 16126, 2, -1);
    create_object_sid(67108980, 15726, 2, -1);
    create_object_sid(67108980, 15326, 2, -1);
    create_object_sid(67108980, 14926, 2, -1);
    create_object_sid(67108980, 14526, 2, -1);
    create_object_sid(67108980, 14126, 2, -1);
    create_object_sid(67108980, 13726, 2, -1);
    create_object_sid(67108980, 13426, 2, -1);
    create_object_sid(67108980, 19352, 2, -1);
    create_object_sid(67108980, 19350, 2, -1);
    create_object_sid(67108980, 19348, 2, -1);
    create_object_sid(67108980, 19346, 2, -1);
    create_object_sid(67108980, 19344, 2, -1);
    create_object_sid(67108980, 19342, 2, -1);
    create_object_sid(67108980, 19340, 2, -1);
    create_object_sid(67108980, 19338, 2, -1);
    create_object_sid(67108980, 19336, 2, -1);
    create_object_sid(67108980, 19334, 2, -1);
    create_object_sid(67108980, 19332, 2, -1);
    create_object_sid(67108980, 19330, 2, -1);
    create_object_sid(67108980, 19328, 2, -1);
    create_object_sid(67108980, 18952, 2, -1);
    create_object_sid(67108980, 18950, 2, -1);
    create_object_sid(67108980, 18948, 2, -1);
    create_object_sid(67108980, 18946, 2, -1);
    create_object_sid(67108980, 18944, 2, -1);
    create_object_sid(67108980, 18942, 2, -1);
    create_object_sid(67108980, 18940, 2, -1);
    create_object_sid(67108980, 18938, 2, -1);
    create_object_sid(67108980, 18936, 2, -1);
    create_object_sid(67108980, 18934, 2, -1);
    create_object_sid(67108980, 18932, 2, -1);
    create_object_sid(67108980, 18930, 2, -1);
    create_object_sid(67108980, 18928, 2, -1);
    create_object_sid(67108980, 18552, 2, -1);
    create_object_sid(67108980, 18550, 2, -1);
    create_object_sid(67108980, 18548, 2, -1);
    create_object_sid(67108980, 18546, 2, -1);
    create_object_sid(67108980, 18544, 2, -1);
    create_object_sid(67108980, 18542, 2, -1);
    create_object_sid(67108980, 18540, 2, -1);
    create_object_sid(67108980, 18538, 2, -1);
    create_object_sid(67108980, 18536, 2, -1);
    create_object_sid(67108980, 18534, 2, -1);
    create_object_sid(67108980, 18532, 2, -1);
    create_object_sid(67108980, 18530, 2, -1);
    create_object_sid(67108980, 18528, 2, -1);
    create_object_sid(67108980, 18152, 2, -1);
    create_object_sid(67108980, 18150, 2, -1);
    create_object_sid(67108980, 18148, 2, -1);
    create_object_sid(67108980, 18146, 2, -1);
    create_object_sid(67108980, 18144, 2, -1);
    create_object_sid(67108980, 18142, 2, -1);
    create_object_sid(67108980, 18140, 2, -1);
    create_object_sid(67108980, 18138, 2, -1);
    create_object_sid(67108980, 18136, 2, -1);
    create_object_sid(67108980, 18134, 2, -1);
    create_object_sid(67108980, 18132, 2, -1);
    create_object_sid(67108980, 18130, 2, -1);
    create_object_sid(67108980, 18128, 2, -1);
    create_object_sid(67108980, 17752, 2, -1);
    create_object_sid(67108980, 17750, 2, -1);
    create_object_sid(67108980, 17748, 2, -1);
    create_object_sid(67108980, 17746, 2, -1);
    create_object_sid(67108980, 17744, 2, -1);
    create_object_sid(67108980, 17742, 2, -1);
    create_object_sid(67108980, 17740, 2, -1);
    create_object_sid(67108980, 17738, 2, -1);
    create_object_sid(67108980, 17736, 2, -1);
    create_object_sid(67108980, 17734, 2, -1);
    create_object_sid(67108980, 17732, 2, -1);
    create_object_sid(67108980, 17730, 2, -1);
    create_object_sid(67108980, 17728, 2, -1);
    create_object_sid(67108980, 17352, 2, -1);
    create_object_sid(67108980, 17350, 2, -1);
    create_object_sid(67108980, 17348, 2, -1);
    create_object_sid(67108980, 17346, 2, -1);
    create_object_sid(67108980, 17344, 2, -1);
    create_object_sid(67108980, 17342, 2, -1);
    create_object_sid(67108980, 17340, 2, -1);
    create_object_sid(67108980, 17338, 2, -1);
    create_object_sid(67108980, 17336, 2, -1);
    create_object_sid(67108980, 17334, 2, -1);
    create_object_sid(67108980, 17332, 2, -1);
    create_object_sid(67108980, 17330, 2, -1);
    create_object_sid(67108980, 17328, 2, -1);
    create_object_sid(67108980, 16952, 2, -1);
    create_object_sid(67108980, 16950, 2, -1);
    create_object_sid(67108980, 16948, 2, -1);
    create_object_sid(67108980, 16946, 2, -1);
    create_object_sid(67108980, 16944, 2, -1);
    create_object_sid(67108980, 16942, 2, -1);
    create_object_sid(67108980, 16940, 2, -1);
    create_object_sid(67108980, 16938, 2, -1);
    create_object_sid(67108980, 16936, 2, -1);
    create_object_sid(67108980, 16934, 2, -1);
    create_object_sid(67108980, 16932, 2, -1);
    create_object_sid(67108980, 16930, 2, -1);
    create_object_sid(67108980, 16928, 2, -1);
    create_object_sid(67108980, 16552, 2, -1);
    create_object_sid(67108980, 16550, 2, -1);
    create_object_sid(67108980, 16548, 2, -1);
    create_object_sid(67108980, 16546, 2, -1);
    create_object_sid(67108980, 16544, 2, -1);
    create_object_sid(67108980, 16542, 2, -1);
    create_object_sid(67108980, 16540, 2, -1);
    create_object_sid(67108980, 16538, 2, -1);
    create_object_sid(67108980, 16536, 2, -1);
    create_object_sid(67108980, 16534, 2, -1);
    create_object_sid(67108980, 16532, 2, -1);
    create_object_sid(67108980, 16530, 2, -1);
    create_object_sid(67108980, 16528, 2, -1);
    create_object_sid(67108980, 16152, 2, -1);
    create_object_sid(67108980, 16150, 2, -1);
    create_object_sid(67108980, 16148, 2, -1);
    create_object_sid(67108980, 16146, 2, -1);
    create_object_sid(67108980, 16144, 2, -1);
    create_object_sid(67108980, 16142, 2, -1);
    create_object_sid(67108980, 16140, 2, -1);
    create_object_sid(67108980, 16138, 2, -1);
    create_object_sid(67108980, 16136, 2, -1);
    create_object_sid(67108980, 16134, 2, -1);
    create_object_sid(67108980, 16132, 2, -1);
    create_object_sid(67108980, 16130, 2, -1);
    create_object_sid(67108980, 16128, 2, -1);
    create_object_sid(67108980, 15752, 2, -1);
    create_object_sid(67108980, 15750, 2, -1);
    create_object_sid(67108980, 15748, 2, -1);
    create_object_sid(67108980, 15746, 2, -1);
    create_object_sid(67108980, 15744, 2, -1);
    create_object_sid(67108980, 15742, 2, -1);
    create_object_sid(67108980, 15740, 2, -1);
    create_object_sid(67108980, 15738, 2, -1);
    create_object_sid(67108980, 15736, 2, -1);
    create_object_sid(67108980, 15734, 2, -1);
    create_object_sid(67108980, 15732, 2, -1);
    create_object_sid(67108980, 15730, 2, -1);
    create_object_sid(67108980, 15728, 2, -1);
    create_object_sid(67108980, 15352, 2, -1);
    create_object_sid(67108980, 15350, 2, -1);
    create_object_sid(67108980, 15348, 2, -1);
    create_object_sid(67108980, 15346, 2, -1);
    create_object_sid(67108980, 15344, 2, -1);
    create_object_sid(67108980, 15342, 2, -1);
    create_object_sid(67108980, 15340, 2, -1);
    create_object_sid(67108980, 15338, 2, -1);
    create_object_sid(67108980, 15336, 2, -1);
    create_object_sid(67108980, 15334, 2, -1);
    create_object_sid(67108980, 15332, 2, -1);
    create_object_sid(67108980, 15330, 2, -1);
    create_object_sid(67108980, 15328, 2, -1);
    create_object_sid(67108980, 14952, 2, -1);
    create_object_sid(67108980, 14950, 2, -1);
    create_object_sid(67108980, 14948, 2, -1);
    create_object_sid(67108980, 14946, 2, -1);
    create_object_sid(67108980, 14944, 2, -1);
    create_object_sid(67108980, 14942, 2, -1);
    create_object_sid(67108980, 14940, 2, -1);
    create_object_sid(67108980, 14938, 2, -1);
    create_object_sid(67108980, 14936, 2, -1);
    create_object_sid(67108980, 14934, 2, -1);
    create_object_sid(67108980, 14932, 2, -1);
    create_object_sid(67108980, 14930, 2, -1);
    create_object_sid(67108980, 14928, 2, -1);
    create_object_sid(67108980, 14552, 2, -1);
    create_object_sid(67108980, 14550, 2, -1);
    create_object_sid(67108980, 14548, 2, -1);
    create_object_sid(67108980, 14546, 2, -1);
    create_object_sid(67108980, 14544, 2, -1);
    create_object_sid(67108980, 14542, 2, -1);
    create_object_sid(67108980, 14540, 2, -1);
    create_object_sid(67108980, 14538, 2, -1);
    create_object_sid(67108980, 14536, 2, -1);
    create_object_sid(67108980, 14534, 2, -1);
    create_object_sid(67108980, 14532, 2, -1);
    create_object_sid(67108980, 14530, 2, -1);
    create_object_sid(67108980, 14528, 2, -1);
    create_object_sid(67108980, 14152, 2, -1);
    create_object_sid(67108980, 14150, 2, -1);
    create_object_sid(67108980, 14148, 2, -1);
    create_object_sid(67108980, 14146, 2, -1);
    create_object_sid(67108980, 14144, 2, -1);
    create_object_sid(67108980, 14142, 2, -1);
    create_object_sid(67108980, 14140, 2, -1);
    create_object_sid(67108980, 14138, 2, -1);
    create_object_sid(67108980, 14136, 2, -1);
    create_object_sid(67108980, 14134, 2, -1);
    create_object_sid(67108980, 14132, 2, -1);
    create_object_sid(67108980, 14130, 2, -1);
    create_object_sid(67108980, 14128, 2, -1);
    create_object_sid(67108980, 13752, 2, -1);
    create_object_sid(67108980, 13750, 2, -1);
    create_object_sid(67108980, 13748, 2, -1);
    create_object_sid(67108980, 13746, 2, -1);
    create_object_sid(67108980, 13744, 2, -1);
    create_object_sid(67108980, 13742, 2, -1);
    create_object_sid(67108980, 13740, 2, -1);
    create_object_sid(67108980, 13738, 2, -1);
    create_object_sid(67108980, 13736, 2, -1);
    create_object_sid(67108980, 13734, 2, -1);
    create_object_sid(67108980, 13732, 2, -1);
    create_object_sid(67108980, 13730, 2, -1);
    create_object_sid(67108980, 13728, 2, -1);
    create_object_sid(67108980, 13452, 2, -1);
    create_object_sid(67108980, 13450, 2, -1);
    create_object_sid(67108980, 13448, 2, -1);
    create_object_sid(67108980, 13446, 2, -1);
    create_object_sid(67108980, 13444, 2, -1);
    create_object_sid(67108980, 13442, 2, -1);
    create_object_sid(67108980, 13440, 2, -1);
    create_object_sid(67108980, 13438, 2, -1);
    create_object_sid(67108980, 13436, 2, -1);
    create_object_sid(67108980, 13434, 2, -1);
    create_object_sid(67108980, 13432, 2, -1);
    create_object_sid(67108980, 13430, 2, -1);
    create_object_sid(67108980, 13428, 2, -1);
end

