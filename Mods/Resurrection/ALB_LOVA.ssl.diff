diff --git a/Mods/Resurrection/Original/ALB_LOVA.ssl b/Mods/Resurrection/ReDefine/ALB_LOVA.ssl
index 850f473..54c7102 100644
--- a/Mods/Resurrection/Original/ALB_LOVA.ssl
+++ b/Mods/Resurrection/ReDefine/ALB_LOVA.ssl
@@ -101,12 +101,12 @@ begin
             return 1;
         end
     end
-    if ((party_member_obj(16777779) != 0) and ((global_var(910) bwand 32) == 0)) then begin
+    if ((party_member_obj(16777779) != 0) and ((global_var(GVAR_PTR_PARTY_MEMBER_ACTIONS) bwand 32) == 0)) then begin
         if (tile_distance_objs(self_obj, party_member_obj(16777779)) <= 5) then begin
             return 1;
         end
     end
-    if ((party_member_obj(16777811) != 0) and ((global_var(910) bwand 64) == 0)) then begin
+    if ((party_member_obj(16777811) != 0) and ((global_var(GVAR_PTR_PARTY_MEMBER_ACTIONS) bwand 64) == 0)) then begin
         if (tile_distance_objs(self_obj, party_member_obj(16777811)) <= 5) then begin
             return 1;
         end
@@ -121,7 +121,7 @@ begin
             return 1;
         end
     end
-    if ((party_member_obj(16777814) != 0) and ((global_var(910) bwand 128) == 0)) then begin
+    if ((party_member_obj(16777814) != 0) and ((global_var(GVAR_PTR_PARTY_MEMBER_ACTIONS) bwand 128) == 0)) then begin
         if (tile_distance_objs(self_obj, party_member_obj(16777814)) <= 5) then begin
             return 1;
         end
@@ -179,11 +179,11 @@ end
 
 procedure map_enter_p_proc
 begin
-    if (elevation(dude_obj) == 2) then begin
+    if (dude_elevation == 2) then begin
         set_light_level(50);
     end
     else begin
-        if (elevation(dude_obj) == 1) then begin
+        if (dude_elevation == 1) then begin
             set_light_level(60);
         end
         else begin
@@ -271,121 +271,121 @@ begin
     if (map_var(3) == 0) then begin
         set_map_var(3, 1);
     end
-    if (not(metarule(22, 0))) then begin
-        if ((global_var(998) != 1) and not((global_var(1000) bwand 32) != 0)) then begin
-            if ((global_var(574) == 1) and (global_var(992) == 0) and (global_var(1008) == 0) and not((global_var(1000) bwand 8) != 0)) then begin
-                set_global_var(1000, global_var(1000) bwor 32);
-                create_object_sid(16777804, 0, 0, 107);
-            end
-            if ((global_var(898) < 4) and ((global_var(882) != 4) and (global_var(881) != 2) and (global_var(883) != 2)) and (global_var(859) == 0) and ((global_var(1000) bwand 16) == 0) and not((global_var(867) bwand 33554432) != 0) and ((global_var(1017) bwand 131072) == 0)) then begin
-                if ((global_var(574) == 1) and ((global_var(1006) == 0) and ((global_var(904) bwand 2) != 0) and not((global_var(904) bwand 8192) != 0) or ((global_var(1007) == 0) and ((global_var(904) bwand 1) != 0)))) then begin
-                    set_global_var(1000, global_var(1000) bwor 32);
-                    create_object_sid(16777804, 0, 0, 107);
+    if (not(is_loading_game)) then begin
+        if ((global_var(GVAR_AQE_ENEMY_EMPEROR) != 1) and not((global_var(GVAR_AQE_ALBUQ_EMPEROR_EVENTS_NEXT) bwand 32) != 0)) then begin
+            if ((global_var(GVAR_HOLODISK_ENCLAVE_STATE) == 1) and (global_var(GVAR_AQE_QUEST_ELISA_3) == 0) and (global_var(GVAR_AQE_HELP_TO_ARAN) == 0) and not((global_var(GVAR_AQE_ALBUQ_EMPEROR_EVENTS_NEXT) bwand 8) != 0)) then begin
+                set_global_var(GVAR_AQE_ALBUQ_EMPEROR_EVENTS_NEXT, global_var(GVAR_AQE_ALBUQ_EMPEROR_EVENTS_NEXT) bwor 32);
+                create_object_sid(16777804, 0, 0, SCRIPT_APIPMSG);
+            end
+            if ((global_var(GVAR_AQ_MUTANT_HUNTERS_CANDIDATE) < 4) and ((global_var(GVAR_AQ_QUEST_MTHUNT_HERMAN_QUEST) != 4) and (global_var(GVAR_AQ_QUEST_MTHUNT_TULSA_QUEST) != 2) and (global_var(GVAR_AQ_QUEST_MTHUNT_DUTCH_QUEST) != 2)) and (global_var(GVAR_AQ_MUTANT_HUNTER) == 0) and ((global_var(GVAR_AQE_ALBUQ_EMPEROR_EVENTS_NEXT) bwand 16) == 0) and not((global_var(GVAR_AQ_ALBUQ_DEATHS) bwand 33554432) != 0) and ((global_var(GVAR_AQE_DIRECTIONS_SETUP) bwand 131072) == 0)) then begin
+                if ((global_var(GVAR_HOLODISK_ENCLAVE_STATE) == 1) and ((global_var(GVAR_AQE_MESAGE_FROM_ELISA) == 0) and ((global_var(GVAR_AQE_ALBUQ_EMPEROR_EVENTS) bwand 2) != 0) and not((global_var(GVAR_AQE_ALBUQ_EMPEROR_EVENTS) bwand 8192) != 0) or ((global_var(GVAR_AQE_MESAGE_FROM_ARAN) == 0) and ((global_var(GVAR_AQE_ALBUQ_EMPEROR_EVENTS) bwand 1) != 0)))) then begin
+                    set_global_var(GVAR_AQE_ALBUQ_EMPEROR_EVENTS_NEXT, global_var(GVAR_AQE_ALBUQ_EMPEROR_EVENTS_NEXT) bwor 32);
+                    create_object_sid(16777804, 0, 0, SCRIPT_APIPMSG);
                 end
             end
-            if ((global_var(574) == 1) and ((global_var(1017) bwand 131072) == 0) and ((global_var(1017) bwand 65536) != 0) and (global_var(864) == 0) and ((global_var(1000) bwand 16) == 0) and ((global_var(882) == 4) or (global_var(881) == 2) or (global_var(883) == 2))) then begin
-                set_global_var(1000, global_var(1000) bwor 32);
-                create_object_sid(16777804, 0, 0, 107);
+            if ((global_var(GVAR_HOLODISK_ENCLAVE_STATE) == 1) and ((global_var(GVAR_AQE_DIRECTIONS_SETUP) bwand 131072) == 0) and ((global_var(GVAR_AQE_DIRECTIONS_SETUP) bwand 65536) != 0) and (global_var(GVAR_AQ_ENEMY_HUNTERS) == 0) and ((global_var(GVAR_AQE_ALBUQ_EMPEROR_EVENTS_NEXT) bwand 16) == 0) and ((global_var(GVAR_AQ_QUEST_MTHUNT_HERMAN_QUEST) == 4) or (global_var(GVAR_AQ_QUEST_MTHUNT_TULSA_QUEST) == 2) or (global_var(GVAR_AQ_QUEST_MTHUNT_DUTCH_QUEST) == 2))) then begin
+                set_global_var(GVAR_AQE_ALBUQ_EMPEROR_EVENTS_NEXT, global_var(GVAR_AQE_ALBUQ_EMPEROR_EVENTS_NEXT) bwor 32);
+                create_object_sid(16777804, 0, 0, SCRIPT_APIPMSG);
             end
         end
-        if (global_var(1008) == 2) then begin
+        if (global_var(GVAR_AQE_HELP_TO_ARAN) == 2) then begin
             game_ui_disable;
             move_to(dude_obj, 10696, 0);
             anim(dude_obj, 1000, 5);
             if (party_member_obj(16777729) != 0) then begin
                 if (party_member_obj(16777729) != 0) then begin
-                    if (has_trait(1, party_member_obj(16777729), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16777729), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16777729))) then begin
+                        critter_attempt_placement(party_member_obj(16777729), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
-            if ((party_member_obj(16777779) != 0) and ((global_var(910) bwand 32) == 0)) then begin
+            if ((party_member_obj(16777779) != 0) and ((global_var(GVAR_PTR_PARTY_MEMBER_ACTIONS) bwand 32) == 0)) then begin
                 if (party_member_obj(16777779) != 0) then begin
-                    if (has_trait(1, party_member_obj(16777779), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16777779), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16777779))) then begin
+                        critter_attempt_placement(party_member_obj(16777779), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
-            if ((party_member_obj(16777811) != 0) and ((global_var(910) bwand 64) == 0)) then begin
+            if ((party_member_obj(16777811) != 0) and ((global_var(GVAR_PTR_PARTY_MEMBER_ACTIONS) bwand 64) == 0)) then begin
                 if (party_member_obj(16777811) != 0) then begin
-                    if (has_trait(1, party_member_obj(16777811), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16777811), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16777811))) then begin
+                        critter_attempt_placement(party_member_obj(16777811), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16777812) != 0) then begin
                 if (party_member_obj(16777812) != 0) then begin
-                    if (has_trait(1, party_member_obj(16777812), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16777812), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16777812))) then begin
+                        critter_attempt_placement(party_member_obj(16777812), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
-            if ((party_member_obj(16777814) != 0) and ((global_var(910) bwand 128) == 0)) then begin
+            if ((party_member_obj(16777814) != 0) and ((global_var(GVAR_PTR_PARTY_MEMBER_ACTIONS) bwand 128) == 0)) then begin
                 if (party_member_obj(16777814) != 0) then begin
-                    if (has_trait(1, party_member_obj(16777814), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16777814), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16777814))) then begin
+                        critter_attempt_placement(party_member_obj(16777814), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16777748) != 0) then begin
                 if (party_member_obj(16777748) != 0) then begin
-                    if (has_trait(1, party_member_obj(16777748), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16777748), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16777748))) then begin
+                        critter_attempt_placement(party_member_obj(16777748), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16778017) != 0) then begin
                 if (party_member_obj(16778017) != 0) then begin
-                    if (has_trait(1, party_member_obj(16778017), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16778017), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16778017))) then begin
+                        critter_attempt_placement(party_member_obj(16778017), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16778016) != 0) then begin
                 if (party_member_obj(16778016) != 0) then begin
-                    if (has_trait(1, party_member_obj(16778016), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16778016), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16778016))) then begin
+                        critter_attempt_placement(party_member_obj(16778016), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16778049) != 0) then begin
                 if (party_member_obj(16778049) != 0) then begin
-                    if (has_trait(1, party_member_obj(16778049), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16778049), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16778049))) then begin
+                        critter_attempt_placement(party_member_obj(16778049), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16778050) != 0) then begin
                 if (party_member_obj(16778050) != 0) then begin
-                    if (has_trait(1, party_member_obj(16778050), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16778050), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16778050))) then begin
+                        critter_attempt_placement(party_member_obj(16778050), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16778051) != 0) then begin
                 if (party_member_obj(16778051) != 0) then begin
-                    if (has_trait(1, party_member_obj(16778051), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16778051), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16778051))) then begin
+                        critter_attempt_placement(party_member_obj(16778051), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16777293) != 0) then begin
                 if (party_member_obj(16777293) != 0) then begin
-                    if (has_trait(1, party_member_obj(16777293), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16777293), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16777293))) then begin
+                        critter_attempt_placement(party_member_obj(16777293), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16777729) != 0) then begin
                 anim(party_member_obj(16777729), 1000, 5);
             end
-            if ((party_member_obj(16777779) != 0) and ((global_var(910) bwand 32) == 0)) then begin
+            if ((party_member_obj(16777779) != 0) and ((global_var(GVAR_PTR_PARTY_MEMBER_ACTIONS) bwand 32) == 0)) then begin
                 anim(party_member_obj(16777779), 1000, 5);
             end
-            if ((party_member_obj(16777811) != 0) and ((global_var(910) bwand 64) == 0)) then begin
+            if ((party_member_obj(16777811) != 0) and ((global_var(GVAR_PTR_PARTY_MEMBER_ACTIONS) bwand 64) == 0)) then begin
                 anim(party_member_obj(16777811), 1000, 5);
             end
-            if ((party_member_obj(16777814) != 0) and ((global_var(910) bwand 128) == 0)) then begin
+            if ((party_member_obj(16777814) != 0) and ((global_var(GVAR_PTR_PARTY_MEMBER_ACTIONS) bwand 128) == 0)) then begin
                 anim(party_member_obj(16777814), 1000, 5);
             end
             if (party_member_obj(16778017) != 0) then begin
@@ -408,11 +408,11 @@ begin
             end
             call Generate_Arans_Soldiers();
             call Generate_Gate_Guards();
-            metarule3(108, 9901, 0, 0);
-            gfade_in(1);
+            tile_set_center(9901);
+            fade_in;
             add_timer_event(self_obj, game_ticks(0), 1);
         end
-        if ((global_var(1008) == 1) and (global_var(998) != 1)) then begin
+        if ((global_var(GVAR_AQE_HELP_TO_ARAN) == 1) and (global_var(GVAR_AQE_ENEMY_EMPEROR) != 1)) then begin
             if (not((map_var(0) bwand 65536) != 0)) then begin
                 call Remove_Dead_Bodies_From_Gate();
             end
@@ -421,98 +421,98 @@ begin
             anim(dude_obj, 1000, 5);
             if (party_member_obj(16777729) != 0) then begin
                 if (party_member_obj(16777729) != 0) then begin
-                    if (has_trait(1, party_member_obj(16777729), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16777729), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16777729))) then begin
+                        critter_attempt_placement(party_member_obj(16777729), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
-            if ((party_member_obj(16777779) != 0) and ((global_var(910) bwand 32) == 0)) then begin
+            if ((party_member_obj(16777779) != 0) and ((global_var(GVAR_PTR_PARTY_MEMBER_ACTIONS) bwand 32) == 0)) then begin
                 if (party_member_obj(16777779) != 0) then begin
-                    if (has_trait(1, party_member_obj(16777779), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16777779), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16777779))) then begin
+                        critter_attempt_placement(party_member_obj(16777779), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
-            if ((party_member_obj(16777811) != 0) and ((global_var(910) bwand 64) == 0)) then begin
+            if ((party_member_obj(16777811) != 0) and ((global_var(GVAR_PTR_PARTY_MEMBER_ACTIONS) bwand 64) == 0)) then begin
                 if (party_member_obj(16777811) != 0) then begin
-                    if (has_trait(1, party_member_obj(16777811), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16777811), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16777811))) then begin
+                        critter_attempt_placement(party_member_obj(16777811), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16777812) != 0) then begin
                 if (party_member_obj(16777812) != 0) then begin
-                    if (has_trait(1, party_member_obj(16777812), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16777812), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16777812))) then begin
+                        critter_attempt_placement(party_member_obj(16777812), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
-            if ((party_member_obj(16777814) != 0) and ((global_var(910) bwand 128) == 0)) then begin
+            if ((party_member_obj(16777814) != 0) and ((global_var(GVAR_PTR_PARTY_MEMBER_ACTIONS) bwand 128) == 0)) then begin
                 if (party_member_obj(16777814) != 0) then begin
-                    if (has_trait(1, party_member_obj(16777814), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16777814), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16777814))) then begin
+                        critter_attempt_placement(party_member_obj(16777814), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16777748) != 0) then begin
                 if (party_member_obj(16777748) != 0) then begin
-                    if (has_trait(1, party_member_obj(16777748), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16777748), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16777748))) then begin
+                        critter_attempt_placement(party_member_obj(16777748), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16778017) != 0) then begin
                 if (party_member_obj(16778017) != 0) then begin
-                    if (has_trait(1, party_member_obj(16778017), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16778017), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16778017))) then begin
+                        critter_attempt_placement(party_member_obj(16778017), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16778016) != 0) then begin
                 if (party_member_obj(16778016) != 0) then begin
-                    if (has_trait(1, party_member_obj(16778016), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16778016), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16778016))) then begin
+                        critter_attempt_placement(party_member_obj(16778016), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16778049) != 0) then begin
                 if (party_member_obj(16778049) != 0) then begin
-                    if (has_trait(1, party_member_obj(16778049), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16778049), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16778049))) then begin
+                        critter_attempt_placement(party_member_obj(16778049), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16778050) != 0) then begin
                 if (party_member_obj(16778050) != 0) then begin
-                    if (has_trait(1, party_member_obj(16778050), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16778050), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16778050))) then begin
+                        critter_attempt_placement(party_member_obj(16778050), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16778051) != 0) then begin
                 if (party_member_obj(16778051) != 0) then begin
-                    if (has_trait(1, party_member_obj(16778051), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16778051), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16778051))) then begin
+                        critter_attempt_placement(party_member_obj(16778051), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16777293) != 0) then begin
                 if (party_member_obj(16777293) != 0) then begin
-                    if (has_trait(1, party_member_obj(16777293), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16777293), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16777293))) then begin
+                        critter_attempt_placement(party_member_obj(16777293), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16777729) != 0) then begin
                 anim(party_member_obj(16777729), 1000, 5);
             end
-            if ((party_member_obj(16777779) != 0) and ((global_var(910) bwand 32) == 0)) then begin
+            if ((party_member_obj(16777779) != 0) and ((global_var(GVAR_PTR_PARTY_MEMBER_ACTIONS) bwand 32) == 0)) then begin
                 anim(party_member_obj(16777779), 1000, 5);
             end
-            if ((party_member_obj(16777811) != 0) and ((global_var(910) bwand 64) == 0)) then begin
+            if ((party_member_obj(16777811) != 0) and ((global_var(GVAR_PTR_PARTY_MEMBER_ACTIONS) bwand 64) == 0)) then begin
                 anim(party_member_obj(16777811), 1000, 5);
             end
-            if ((party_member_obj(16777814) != 0) and ((global_var(910) bwand 128) == 0)) then begin
+            if ((party_member_obj(16777814) != 0) and ((global_var(GVAR_PTR_PARTY_MEMBER_ACTIONS) bwand 128) == 0)) then begin
                 anim(party_member_obj(16777814), 1000, 5);
             end
             if (party_member_obj(16778017) != 0) then begin
@@ -533,105 +533,105 @@ begin
             if (party_member_obj(16777812) != 0) then begin
                 anim(party_member_obj(16777812), 1000, 5);
             end
-            set_global_var(998, 1);
+            set_global_var(GVAR_AQE_ENEMY_EMPEROR, 1);
         end
-        if (((global_var(904) bwand 134217728) != 0) and not((map_var(0) bwand 32768) != 0)) then begin
+        if (((global_var(GVAR_AQE_ALBUQ_EMPEROR_EVENTS) bwand 134217728) != 0) and not((map_var(0) bwand 32768) != 0)) then begin
             move_to(dude_obj, 10101, elevation(0));
             anim(dude_obj, 1000, 2);
             if (party_member_obj(16777729) != 0) then begin
                 if (party_member_obj(16777729) != 0) then begin
-                    if (has_trait(1, party_member_obj(16777729), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16777729), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16777729))) then begin
+                        critter_attempt_placement(party_member_obj(16777729), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
-            if ((party_member_obj(16777779) != 0) and ((global_var(910) bwand 32) == 0)) then begin
+            if ((party_member_obj(16777779) != 0) and ((global_var(GVAR_PTR_PARTY_MEMBER_ACTIONS) bwand 32) == 0)) then begin
                 if (party_member_obj(16777779) != 0) then begin
-                    if (has_trait(1, party_member_obj(16777779), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16777779), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16777779))) then begin
+                        critter_attempt_placement(party_member_obj(16777779), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
-            if ((party_member_obj(16777811) != 0) and ((global_var(910) bwand 64) == 0)) then begin
+            if ((party_member_obj(16777811) != 0) and ((global_var(GVAR_PTR_PARTY_MEMBER_ACTIONS) bwand 64) == 0)) then begin
                 if (party_member_obj(16777811) != 0) then begin
-                    if (has_trait(1, party_member_obj(16777811), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16777811), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16777811))) then begin
+                        critter_attempt_placement(party_member_obj(16777811), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16777812) != 0) then begin
                 if (party_member_obj(16777812) != 0) then begin
-                    if (has_trait(1, party_member_obj(16777812), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16777812), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16777812))) then begin
+                        critter_attempt_placement(party_member_obj(16777812), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
-            if ((party_member_obj(16777814) != 0) and ((global_var(910) bwand 128) == 0)) then begin
+            if ((party_member_obj(16777814) != 0) and ((global_var(GVAR_PTR_PARTY_MEMBER_ACTIONS) bwand 128) == 0)) then begin
                 if (party_member_obj(16777814) != 0) then begin
-                    if (has_trait(1, party_member_obj(16777814), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16777814), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16777814))) then begin
+                        critter_attempt_placement(party_member_obj(16777814), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16777748) != 0) then begin
                 if (party_member_obj(16777748) != 0) then begin
-                    if (has_trait(1, party_member_obj(16777748), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16777748), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16777748))) then begin
+                        critter_attempt_placement(party_member_obj(16777748), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16778017) != 0) then begin
                 if (party_member_obj(16778017) != 0) then begin
-                    if (has_trait(1, party_member_obj(16778017), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16778017), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16778017))) then begin
+                        critter_attempt_placement(party_member_obj(16778017), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16778016) != 0) then begin
                 if (party_member_obj(16778016) != 0) then begin
-                    if (has_trait(1, party_member_obj(16778016), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16778016), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16778016))) then begin
+                        critter_attempt_placement(party_member_obj(16778016), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16778049) != 0) then begin
                 if (party_member_obj(16778049) != 0) then begin
-                    if (has_trait(1, party_member_obj(16778049), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16778049), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16778049))) then begin
+                        critter_attempt_placement(party_member_obj(16778049), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16778050) != 0) then begin
                 if (party_member_obj(16778050) != 0) then begin
-                    if (has_trait(1, party_member_obj(16778050), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16778050), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16778050))) then begin
+                        critter_attempt_placement(party_member_obj(16778050), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16778051) != 0) then begin
                 if (party_member_obj(16778051) != 0) then begin
-                    if (has_trait(1, party_member_obj(16778051), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16778051), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16778051))) then begin
+                        critter_attempt_placement(party_member_obj(16778051), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16777293) != 0) then begin
                 if (party_member_obj(16777293) != 0) then begin
-                    if (has_trait(1, party_member_obj(16777293), 666)) then begin
-                        critter_attempt_placement(party_member_obj(16777293), tile_num_in_direction(tile_num(dude_obj), (has_trait(1, dude_obj, 10) + 3) % 6, 2), elevation(dude_obj));
+                    if (obj_is_visible_flag(party_member_obj(16777293))) then begin
+                        critter_attempt_placement(party_member_obj(16777293), tile_num_in_direction(dude_tile, (obj_get_rot(dude_obj) + 3) % 6, 2), dude_elevation);
                     end
                 end
             end
             if (party_member_obj(16777729) != 0) then begin
                 anim(party_member_obj(16777729), 1000, 2);
             end
-            if ((party_member_obj(16777779) != 0) and ((global_var(910) bwand 32) == 0)) then begin
+            if ((party_member_obj(16777779) != 0) and ((global_var(GVAR_PTR_PARTY_MEMBER_ACTIONS) bwand 32) == 0)) then begin
                 anim(party_member_obj(16777779), 1000, 2);
             end
-            if ((party_member_obj(16777811) != 0) and ((global_var(910) bwand 64) == 0)) then begin
+            if ((party_member_obj(16777811) != 0) and ((global_var(GVAR_PTR_PARTY_MEMBER_ACTIONS) bwand 64) == 0)) then begin
                 anim(party_member_obj(16777811), 1000, 2);
             end
-            if ((party_member_obj(16777814) != 0) and ((global_var(910) bwand 128) == 0)) then begin
+            if ((party_member_obj(16777814) != 0) and ((global_var(GVAR_PTR_PARTY_MEMBER_ACTIONS) bwand 128) == 0)) then begin
                 anim(party_member_obj(16777814), 1000, 2);
             end
             if (party_member_obj(16778017) != 0) then begin
@@ -659,11 +659,11 @@ end
 
 procedure map_update_p_proc
 begin
-    if (elevation(dude_obj) == 2) then begin
+    if (dude_elevation == 2) then begin
         set_light_level(50);
     end
     else begin
-        if (elevation(dude_obj) == 1) then begin
+        if (dude_elevation == 1) then begin
             set_light_level(60);
         end
         else begin
@@ -749,29 +749,29 @@ end
 
 procedure map_exit_p_proc
 begin
-    if (tile_in_tile_rect(16368, 16355, 22368, 22355, tile_num(dude_obj))) then begin
-        set_global_var(1017, global_var(1017) bwor 2);
+    if (tile_in_tile_rect(16368, 16355, 22368, 22355, dude_tile)) then begin
+        set_global_var(GVAR_AQE_DIRECTIONS_SETUP, global_var(GVAR_AQE_DIRECTIONS_SETUP) bwor 2);
     end
-    if (tile_in_tile_rect(8304, 8298, 9304, 9298, tile_num(dude_obj))) then begin
-        set_global_var(1017, global_var(1017) bwor 16);
+    if (tile_in_tile_rect(8304, 8298, 9304, 9298, dude_tile)) then begin
+        set_global_var(GVAR_AQE_DIRECTIONS_SETUP, global_var(GVAR_AQE_DIRECTIONS_SETUP) bwor 16);
     end
-    if ((global_var(1008) >= 3) and tile_in_tile_rect(8304, 8298, 9304, 9298, tile_num(dude_obj)) and not((map_var(0) bwand 65536) != 0)) then begin
+    if ((global_var(GVAR_AQE_HELP_TO_ARAN) >= 3) and tile_in_tile_rect(8304, 8298, 9304, 9298, dude_tile) and not((map_var(0) bwand 65536) != 0)) then begin
         call Remove_Dead_Bodies_From_Gate();
         set_map_var(0, map_var(0) bwor 65536);
     end
-    if ((global_var(1008) >= 2) and (global_var(1008) != 10) and (tile_in_tile_rect(16567, 16555, 19967, 19955, tile_num(dude_obj)) or tile_in_tile_rect(30746, 30731, 33146, 33131, tile_num(dude_obj)))) then begin
-        if (get_critter_stat(dude_obj, 34) == 0) then begin
-            display_msg(message_str(1636, 500));
+    if ((global_var(GVAR_AQE_HELP_TO_ARAN) >= 2) and (global_var(GVAR_AQE_HELP_TO_ARAN) != 10) and (tile_in_tile_rect(16567, 16555, 19967, 19955, dude_tile) or tile_in_tile_rect(30746, 30731, 33146, 33131, dude_tile))) then begin
+        if (dude_gender == 0) then begin
+            display_mstr(500);
         end
         else begin
-            display_msg(message_str(1636, 501));
+            display_mstr(501);
         end
-        set_global_var(998, 1);
-        set_global_var(904, global_var(904) bwor 64);
-        if ((party_member_obj(16777814) != 0) and ((global_var(910) bwand 128) == 0)) then begin
-            set_global_var(1020, global_var(1020) bwor 64);
+        set_global_var(GVAR_AQE_ENEMY_EMPEROR, 1);
+        set_global_var(GVAR_AQE_ALBUQ_EMPEROR_EVENTS, global_var(GVAR_AQE_ALBUQ_EMPEROR_EVENTS) bwor 64);
+        if ((party_member_obj(16777814) != 0) and ((global_var(GVAR_PTR_PARTY_MEMBER_ACTIONS) bwand 128) == 0)) then begin
+            set_global_var(GVAR_PTR_LYSTRA_REACTIONS_2, global_var(GVAR_PTR_LYSTRA_REACTIONS_2) bwor 64);
         end
-        set_global_var(1008, 1);
+        set_global_var(GVAR_AQE_HELP_TO_ARAN, 1);
     end
 end
 
@@ -782,28 +782,28 @@ begin
             sequence := sequence + 1;
         end
         if (sequence == 1) then begin
-            metarule3(108, 9901, 0, 0);
+            tile_set_center(9901);
             add_timer_event(self_obj, game_ticks(1), 1);
         end
         if (sequence == 2) then begin
-            float_msg(aran, message_str(1636, 100), 2);
+            float_msg(aran, mstr(100), FLOAT_MSG_RED);
             add_timer_event(self_obj, game_ticks(6), 1);
         end
         if (sequence == 3) then begin
-            float_msg(gateguard1, message_str(1636, 200), 8);
+            float_msg(gateguard1, mstr(200), FLOAT_MSG_YELLOW);
             add_timer_event(self_obj, game_ticks(7), 1);
         end
         if (sequence == 4) then begin
-            float_msg(gateguard1, message_str(1636, 201), 8);
+            float_msg(gateguard1, mstr(201), FLOAT_MSG_YELLOW);
             add_timer_event(self_obj, game_ticks(6), 1);
         end
         if (sequence == 5) then begin
-            float_msg(aran, message_str(1636, 300), 2);
+            float_msg(aran, mstr(300), FLOAT_MSG_RED);
             add_timer_event(self_obj, game_ticks(4), 1);
         end
         if (sequence == 6) then begin
             game_ui_enable;
-            set_global_var(1008, 3);
+            set_global_var(GVAR_AQE_HELP_TO_ARAN, 3);
             attack_setup(is1, gateguard1);
         end
     end
@@ -815,67 +815,67 @@ begin
             sequence2 := sequence2 + 1;
         end
         if (sequence2 == 1) then begin
-            float_msg(dude_obj, message_str(1636, 601), 4);
-            display_msg(message_str(1636, 602));
+            float_msg(dude_obj, mstr(601), FLOAT_MSG_BLUE);
+            display_mstr(602);
             add_timer_event(self_obj, game_ticks(5), 75);
         end
         if (sequence2 == 2) then begin
-            gfade_out(1);
+            fade_out;
             game_ui_enable;
-            critter_heal(dude_obj, -get_critter_stat(dude_obj, 7));
+            critter_heal(dude_obj, -get_critter_stat(dude_obj, STAT_max_hp));
         end
     end
 end
 
 procedure Generate_Arans_Soldiers
 begin
-    is1 := create_object_sid(16778031, 10904, 0, 140);
-    is2 := create_object_sid(16778031, 10899, 0, 140);
-    is3 := create_object_sid(16778031, 11302, 0, 140);
-    is4 := create_object_sid(16778032, 11507, 0, 140);
-    is5 := create_object_sid(16778031, 11903, 0, 140);
-    aran := create_object_sid(16778022, 10501, 0, 94);
+    is1 := create_object_sid(16778031, 10904, 0, SCRIPT_ACISVOJ9);
+    is2 := create_object_sid(16778031, 10899, 0, SCRIPT_ACISVOJ9);
+    is3 := create_object_sid(16778031, 11302, 0, SCRIPT_ACISVOJ9);
+    is4 := create_object_sid(16778032, 11507, 0, SCRIPT_ACISVOJ9);
+    is5 := create_object_sid(16778031, 11903, 0, SCRIPT_ACISVOJ9);
+    aran := create_object_sid(16778022, 10501, 0, SCRIPT_AARAN);
     anim(is1, 1000, 5);
     anim(is2, 1000, 5);
     anim(is3, 1000, 5);
     anim(is4, 1000, 5);
     anim(is5, 1000, 5);
     anim(aran, 1000, 5);
-    restock_obj := create_object_sid(599, 0, 0, -1);
+    restock_obj := create_object(599, 0, 0);
     add_mult_objs_to_inven(is1, restock_obj, 1);
-    restock_obj := create_object_sid(118, 0, 0, -1);
+    restock_obj := create_object(118, 0, 0);
     add_mult_objs_to_inven(is2, restock_obj, 1);
-    restock_obj := create_object_sid(599, 0, 0, -1);
+    restock_obj := create_object(599, 0, 0);
     add_mult_objs_to_inven(is3, restock_obj, 1);
-    restock_obj := create_object_sid(402, 0, 0, -1);
+    restock_obj := create_object(402, 0, 0);
     add_mult_objs_to_inven(is4, restock_obj, 1);
-    restock_obj := create_object_sid(406, 0, 0, -1);
+    restock_obj := create_object(406, 0, 0);
     add_mult_objs_to_inven(is5, restock_obj, 1);
-    restock_obj := create_object_sid(406, 0, 0, -1);
+    restock_obj := create_object(406, 0, 0);
     add_mult_objs_to_inven(aran, restock_obj, 1);
-    restock_obj := create_object_sid(38, 0, 0, -1);
+    restock_obj := create_object(38, 0, 0);
     add_mult_objs_to_inven(is1, restock_obj, 1);
-    restock_obj := create_object_sid(39, 0, 0, -1);
+    restock_obj := create_object(39, 0, 0);
     add_mult_objs_to_inven(is2, restock_obj, 1);
-    restock_obj := create_object_sid(38, 0, 0, -1);
+    restock_obj := create_object(38, 0, 0);
     add_mult_objs_to_inven(is3, restock_obj, 1);
-    restock_obj := create_object_sid(38, 0, 0, -1);
+    restock_obj := create_object(38, 0, 0);
     add_mult_objs_to_inven(is4, restock_obj, 1);
-    restock_obj := create_object_sid(38, 0, 0, -1);
+    restock_obj := create_object(38, 0, 0);
     add_mult_objs_to_inven(is5, restock_obj, 1);
-    restock_obj := create_object_sid(38, 0, 0, -1);
+    restock_obj := create_object(38, 0, 0);
     add_mult_objs_to_inven(aran, restock_obj, 1);
-    restock_obj := create_object_sid(40, 0, 0, -1);
+    restock_obj := create_object(40, 0, 0);
     add_mult_objs_to_inven(is1, restock_obj, 3);
-    restock_obj := create_object_sid(40, 0, 0, -1);
+    restock_obj := create_object(40, 0, 0);
     add_mult_objs_to_inven(is2, restock_obj, 3);
-    restock_obj := create_object_sid(40, 0, 0, -1);
+    restock_obj := create_object(40, 0, 0);
     add_mult_objs_to_inven(is3, restock_obj, 3);
-    restock_obj := create_object_sid(40, 0, 0, -1);
+    restock_obj := create_object(40, 0, 0);
     add_mult_objs_to_inven(is4, restock_obj, 3);
-    restock_obj := create_object_sid(40, 0, 0, -1);
+    restock_obj := create_object(40, 0, 0);
     add_mult_objs_to_inven(is5, restock_obj, 3);
-    restock_obj := create_object_sid(40, 0, 0, -1);
+    restock_obj := create_object(40, 0, 0);
     add_mult_objs_to_inven(aran, restock_obj, 4);
     wield_obj_critter(is1, obj_carrying_pid_obj(is1, 599));
     wield_obj_critter(is2, obj_carrying_pid_obj(is2, 118));
@@ -887,35 +887,35 @@ end
 
 procedure Generate_Gate_Guards
 begin
-    gateguard1 := create_object_sid(16778031, 9701, 0, 142);
-    gateguard2 := create_object_sid(16778031, 9504, 0, 142);
-    gateguard3 := create_object_sid(16778045, 9499, 0, 142);
-    gateguard4 := create_object_sid(16778032, 9497, 0, 142);
-    gateguard5 := create_object_sid(16778045, 9506, 0, 142);
+    gateguard1 := create_object_sid(16778031, 9701, 0, SCRIPT_ACISVOJ8);
+    gateguard2 := create_object_sid(16778031, 9504, 0, SCRIPT_ACISVOJ8);
+    gateguard3 := create_object_sid(16778045, 9499, 0, SCRIPT_ACISVOJ8);
+    gateguard4 := create_object_sid(16778032, 9497, 0, SCRIPT_ACISVOJ8);
+    gateguard5 := create_object_sid(16778045, 9506, 0, SCRIPT_ACISVOJ8);
     anim(gateguard1, 1000, 2);
     anim(gateguard2, 1000, 2);
     anim(gateguard3, 1000, 2);
     anim(gateguard4, 1000, 2);
     anim(gateguard5, 1000, 2);
-    restock_obj := create_object_sid(406, 0, 0, -1);
+    restock_obj := create_object(406, 0, 0);
     add_mult_objs_to_inven(gateguard1, restock_obj, 1);
-    restock_obj := create_object_sid(599, 0, 0, -1);
+    restock_obj := create_object(599, 0, 0);
     add_mult_objs_to_inven(gateguard2, restock_obj, 1);
-    restock_obj := create_object_sid(24, 0, 0, -1);
+    restock_obj := create_object(24, 0, 0);
     add_mult_objs_to_inven(gateguard3, restock_obj, 1);
-    restock_obj := create_object_sid(599, 0, 0, -1);
+    restock_obj := create_object(599, 0, 0);
     add_mult_objs_to_inven(gateguard4, restock_obj, 1);
-    restock_obj := create_object_sid(24, 0, 0, -1);
+    restock_obj := create_object(24, 0, 0);
     add_mult_objs_to_inven(gateguard5, restock_obj, 1);
-    restock_obj := create_object_sid(40, 0, 0, -1);
+    restock_obj := create_object(40, 0, 0);
     add_mult_objs_to_inven(gateguard1, restock_obj, 1);
-    restock_obj := create_object_sid(40, 0, 0, -1);
+    restock_obj := create_object(40, 0, 0);
     add_mult_objs_to_inven(gateguard2, restock_obj, 1);
-    restock_obj := create_object_sid(40, 0, 0, -1);
+    restock_obj := create_object(40, 0, 0);
     add_mult_objs_to_inven(gateguard3, restock_obj, 1);
-    restock_obj := create_object_sid(40, 0, 0, -1);
+    restock_obj := create_object(40, 0, 0);
     add_mult_objs_to_inven(gateguard4, restock_obj, 1);
-    restock_obj := create_object_sid(40, 0, 0, -1);
+    restock_obj := create_object(40, 0, 0);
     add_mult_objs_to_inven(gateguard5, restock_obj, 1);
     wield_obj_critter(gateguard1, obj_carrying_pid_obj(gateguard1, 406));
     wield_obj_critter(gateguard2, obj_carrying_pid_obj(gateguard2, 599));
@@ -1077,4 +1077,3 @@ begin
         end
     end
 end
-
