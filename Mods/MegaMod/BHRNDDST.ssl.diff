diff --git a/Mods/MegaMod/Original/BHRNDDST.ssl b/Mods/MegaMod/ReDefine/BHRNDDST.ssl
index dd380dd..e00decd 100644
--- a/Mods/MegaMod/Original/BHRNDDST.ssl
+++ b/Mods/MegaMod/ReDefine/BHRNDDST.ssl
@@ -225,31 +225,31 @@ end
 procedure map_enter_p_proc
 begin
     variable LVar0 := 0;
-    if (metarule(14, 0)) then begin
+    if (map_first_run) then begin
         Combat1 := 0;
         Combat2 := 0;
         set_map_var(1, 0);
-        if (global_var(339) == 4) then begin
+        if (global_var(GVAR_MEDICINE_CARAVAN) == 4) then begin
             call Redding_Caravan();
             debug_msg("Redding Medicine Caravan.");
         end
         else begin
-            if (global_var(338) == 4) then begin
+            if (global_var(GVAR_CATTLE_DRIVE_CARAVAN) == 4) then begin
                 call Redding_Caravan();
                 debug_msg("Redding Cattle Drive.");
             end
             else begin
-                if (global_var(340) == 4) then begin
+                if (global_var(GVAR_JET_CARAVAN) == 4) then begin
                     call Redding_Caravan();
                     debug_msg("Redding Jet Caravan.");
                 end
                 else begin
-                    if (global_var(330) == 2) then begin
+                    if (global_var(GVAR_BH_CARAVAN) == 2) then begin
                         call Broken_Hills_Caravan();
                         debug_msg("Broken Hills Caravan.");
                     end
                     else begin
-                        if ((global_var(266) bwand 16) != 0) then begin
+                        if ((global_var(GVAR_NCR_CATTLE_DRIVE) bwand 16) != 0) then begin
                             call NCR_Cattle_Drive();
                             debug_msg("NCR Cattle Drive.");
                         end
@@ -261,9 +261,9 @@ begin
                 end
             end
         end
-        LVar0 := global_var(283) - global_var(275);
-        debug_msg("Total Encounters == " + global_var(283) + ". Encounters Left == " + global_var(275) + ". On Encounter " + LVar0);
-        set_global_var(275, global_var(275) - 1);
+        LVar0 := global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) - global_var(GVAR_CARAVAN_ENCOUNTERS);
+        debug_msg("Total Encounters == " + global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) + ". Encounters Left == " + global_var(GVAR_CARAVAN_ENCOUNTERS) + ". On Encounter " + LVar0);
+        set_global_var(GVAR_CARAVAN_ENCOUNTERS, global_var(GVAR_CARAVAN_ENCOUNTERS) - 1);
         if ((Combat1 != 0) and (Combat2 != 0)) then begin
             attack_setup(Combat1, Combat2);
             debug_msg("Having " + Combat1 + " fighting " + Combat2 + ".");
@@ -345,7 +345,7 @@ begin
             end
         end
     end
-    set_global_var(27, 0);
+    set_global_var(GVAR_LOAD_MAP_INDEX, 0);
     return 0;
     LVar0 := 0;
 end
@@ -431,45 +431,45 @@ begin
         end
     end
     if (map_var(1) <= 0) then begin
-        if (global_var(275) == 0) then begin
-            debug_msg("Caravan_End == " + global_var(271));
-            if (global_var(271) == 1) then begin
+        if (global_var(GVAR_CARAVAN_ENCOUNTERS) == 0) then begin
+            debug_msg("Caravan_End == " + global_var(GVAR_CARAVAN_END));
+            if (global_var(GVAR_CARAVAN_END) == 1) then begin
                 set_exit_grids(0, 65, 0, 25494, 0);
             end
             else begin
-                if (global_var(271) == 2) then begin
+                if (global_var(GVAR_CARAVAN_END) == 2) then begin
                     set_exit_grids(0, 15, 0, 27704, 0);
                 end
                 else begin
-                    if (global_var(271) == 3) then begin
+                    if (global_var(GVAR_CARAVAN_END) == 3) then begin
                         set_exit_grids(0, 54, 0, 27306, 0);
                     end
                     else begin
-                        if (global_var(271) == 4) then begin
+                        if (global_var(GVAR_CARAVAN_END) == 4) then begin
                             set_exit_grids(0, 46, 0, 18467, 0);
                         end
                         else begin
-                            if (global_var(271) == 5) then begin
+                            if (global_var(GVAR_CARAVAN_END) == 5) then begin
                                 set_exit_grids(0, 6, 0, 22097, 0);
                             end
                             else begin
-                                if (global_var(271) == 6) then begin
+                                if (global_var(GVAR_CARAVAN_END) == 6) then begin
                                     set_exit_grids(0, 78, 0, 22097, 0);
                                 end
                                 else begin
-                                    if (global_var(271) == 7) then begin
+                                    if (global_var(GVAR_CARAVAN_END) == 7) then begin
                                         set_exit_grids(0, 31, 0, 22901, 0);
                                     end
                                     else begin
-                                        if (global_var(271) == 8) then begin
+                                        if (global_var(GVAR_CARAVAN_END) == 8) then begin
                                             set_exit_grids(0, 137, 0, 22097, 0);
                                         end
                                         else begin
-                                            if (global_var(271) == 9) then begin
+                                            if (global_var(GVAR_CARAVAN_END) == 9) then begin
                                                 set_exit_grids(0, 18, 0, 22097, 0);
                                             end
                                             else begin
-                                                if (global_var(271) == 10) then begin
+                                                if (global_var(GVAR_CARAVAN_END) == 10) then begin
                                                     set_exit_grids(0, 9, 0, 22097, 0);
                                                 end
                                             end
@@ -481,24 +481,24 @@ begin
                     end
                 end
             end
-            if (global_var(339) == 3) then begin
-                set_global_var(339, 7);
+            if (global_var(GVAR_MEDICINE_CARAVAN) == 3) then begin
+                set_global_var(GVAR_MEDICINE_CARAVAN, 7);
             end
             else begin
-                if (global_var(338) == 3) then begin
-                    set_global_var(338, 7);
+                if (global_var(GVAR_CATTLE_DRIVE_CARAVAN) == 3) then begin
+                    set_global_var(GVAR_CATTLE_DRIVE_CARAVAN, 7);
                 end
                 else begin
-                    if (global_var(340) == 3) then begin
-                        set_global_var(340, 7);
+                    if (global_var(GVAR_JET_CARAVAN) == 3) then begin
+                        set_global_var(GVAR_JET_CARAVAN, 7);
                     end
                     else begin
-                        if ((global_var(266) bwand 64) != 0) then begin
-                            set_global_var(266, global_var(266) bwand (-1 - 64));
+                        if ((global_var(GVAR_NCR_CATTLE_DRIVE) bwand 64) != 0) then begin
+                            set_global_var(GVAR_NCR_CATTLE_DRIVE, global_var(GVAR_NCR_CATTLE_DRIVE) bwand (-1 - 64));
                         end
                         else begin
-                            if (global_var(330) == 5) then begin
-                                set_global_var(330, 3);
+                            if (global_var(GVAR_BH_CARAVAN) == 5) then begin
+                                set_global_var(GVAR_BH_CARAVAN, 3);
                             end
                         end
                     end
@@ -510,24 +510,24 @@ begin
             LVar0 := tile_num_in_direction(22097, LVar1, random(3, 8));
             set_exit_grids(0, 94, 0, LVar0, LVar1);
         end
-        if (global_var(339) == 3) then begin
-            set_global_var(339, 4);
+        if (global_var(GVAR_MEDICINE_CARAVAN) == 3) then begin
+            set_global_var(GVAR_MEDICINE_CARAVAN, 4);
         end
         else begin
-            if (global_var(338) == 3) then begin
-                set_global_var(338, 4);
+            if (global_var(GVAR_CATTLE_DRIVE_CARAVAN) == 3) then begin
+                set_global_var(GVAR_CATTLE_DRIVE_CARAVAN, 4);
             end
             else begin
-                if (global_var(340) == 3) then begin
-                    set_global_var(340, 4);
+                if (global_var(GVAR_JET_CARAVAN) == 3) then begin
+                    set_global_var(GVAR_JET_CARAVAN, 4);
                 end
                 else begin
-                    if ((global_var(266) bwand 64) != 0) then begin
-                        set_global_var(266, global_var(266) bwor 16);
+                    if ((global_var(GVAR_NCR_CATTLE_DRIVE) bwand 64) != 0) then begin
+                        set_global_var(GVAR_NCR_CATTLE_DRIVE, global_var(GVAR_NCR_CATTLE_DRIVE) bwor 16);
                     end
                     else begin
-                        if (global_var(330) == 5) then begin
-                            set_global_var(330, 2);
+                        if (global_var(GVAR_BH_CARAVAN) == 5) then begin
+                            set_global_var(GVAR_BH_CARAVAN, 2);
                         end
                     end
                 end
@@ -536,7 +536,7 @@ begin
     end
     else begin
         set_exit_grids(0, -2, 0, 20100, 0);
-        metarule3(101, metarule(44, 0), metarule(45, 0), 1);
+        metarule3(101, worldmap_xpos, worldmap_ypos, 1);
     end
     return 0;
     LVar0 := 0;
@@ -546,9 +546,9 @@ end
 procedure map_exit_p_proc
 begin
     variable LVar0 := 0;
-    if (global_var(275) == 0) then begin
-        if (global_var(271) == 1) then begin
-            if (global_var(270) == 4) then begin
+    if (global_var(GVAR_CARAVAN_ENCOUNTERS) == 0) then begin
+        if (global_var(GVAR_CARAVAN_END) == 1) then begin
+            if (global_var(GVAR_CARAVAN_START) == 4) then begin
                 LVar0 := 3 + (11 - get_day);
                 if (LVar0 > 0) then begin
                     game_time_advance(LVar0 * (24 * (60 * (60 * 10))));
@@ -558,7 +558,7 @@ begin
                 end
             end
             else begin
-                if (global_var(270) == 3) then begin
+                if (global_var(GVAR_CARAVAN_START) == 3) then begin
                     LVar0 := 10 - get_day;
                     if (LVar0 > 0) then begin
                         game_time_advance(LVar0 * (24 * (60 * (60 * 10))));
@@ -579,7 +579,7 @@ begin
             end
         end
         else begin
-            if (global_var(271) == 2) then begin
+            if (global_var(GVAR_CARAVAN_END) == 2) then begin
                 LVar0 := 26 - get_day;
                 if (LVar0 > 0) then begin
                     game_time_advance(LVar0 * (24 * (60 * (60 * 10))));
@@ -589,7 +589,7 @@ begin
                 end
             end
             else begin
-                if (global_var(271) == 3) then begin
+                if (global_var(GVAR_CARAVAN_END) == 3) then begin
                     LVar0 := 10 - get_day;
                     if (LVar0 > 0) then begin
                         game_time_advance(LVar0 * (24 * (60 * (60 * 10))));
@@ -599,7 +599,7 @@ begin
                     end
                 end
                 else begin
-                    if (global_var(271) == 4) then begin
+                    if (global_var(GVAR_CARAVAN_END) == 4) then begin
                         LVar0 := 3 + (11 - get_day);
                         if (LVar0 > 0) then begin
                             game_time_advance(LVar0 * (24 * (60 * (60 * 10))));
@@ -609,22 +609,22 @@ begin
                         end
                     end
                     else begin
-                        if (global_var(271) == 5) then begin
+                        if (global_var(GVAR_CARAVAN_END) == 5) then begin
                         end
                         else begin
-                            if (global_var(271) == 6) then begin
+                            if (global_var(GVAR_CARAVAN_END) == 6) then begin
                             end
                             else begin
-                                if (global_var(271) == 7) then begin
+                                if (global_var(GVAR_CARAVAN_END) == 7) then begin
                                 end
                                 else begin
-                                    if (global_var(271) == 8) then begin
+                                    if (global_var(GVAR_CARAVAN_END) == 8) then begin
                                     end
                                     else begin
-                                        if (global_var(271) == 9) then begin
+                                        if (global_var(GVAR_CARAVAN_END) == 9) then begin
                                         end
                                         else begin
-                                            if (global_var(271) == 10) then begin
+                                            if (global_var(GVAR_CARAVAN_END) == 10) then begin
                                             end
                                         end
                                     end
@@ -643,22 +643,22 @@ end
 procedure Broken_Hills_Caravan
 begin
     call Build_Caravan_Team();
-    if (global_var(330) == 2) then begin
-        if (global_var(271) == 2) then begin
+    if (global_var(GVAR_BH_CARAVAN) == 2) then begin
+        if (global_var(GVAR_CARAVAN_END) == 2) then begin
             call Broken_VC_Encounters();
         end
         else begin
-            if (global_var(271) == 7) then begin
+            if (global_var(GVAR_CARAVAN_END) == 7) then begin
                 call Broken_Gecko_Encounters();
             end
             else begin
-                if (global_var(271) == 4) then begin
+                if (global_var(GVAR_CARAVAN_END) == 4) then begin
                     call Broken_NCR_Encounters();
                 end
             end
         end
         if (map_var(1) > 0) then begin
-            set_global_var(330, 5);
+            set_global_var(GVAR_BH_CARAVAN, 5);
         end
     end
 end
@@ -666,64 +666,64 @@ end
 procedure Broken_VC_Encounters
 begin
     variable LVar0 := 0;
-    LVar0 := global_var(283) - global_var(275);
-    if (global_var(283) == 1) then begin
+    LVar0 := global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) - global_var(GVAR_CARAVAN_ENCOUNTERS);
+    if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 1) then begin
         wm_area_set_pos(44, 1325 + random(-25, 25), 600 + random(-25, 25));
         set_exit_grids(0, -2, 0, 20100, 0);
         game_time_advance(7 * (24 * (60 * (60 * 10))));
-        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
             call Redding_EPA_Encounter();
         end
         else begin
-            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                 call Redding_Reno_Encounter();
             end
             else begin
-                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                     call Redding_SRNRRN_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                         call Broken_Hills_Brok_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                             call Broken_Hills_NCR_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                 call Redding_Band_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                     call Redding_Red_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                         call Broken_Hills_VPat_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                             call Redding_NRNR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                 call Redding_DNRV_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                     call Redding_DVMV_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                         call Broken_Hills_VNNB_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                             call Broken_Hills_RDRC_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                 call Redding_DMRV_Encounter();
                                                             end
                                                         end
@@ -741,64 +741,64 @@ begin
         end
     end
     else begin
-        if (global_var(283) == 2) then begin
+        if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 2) then begin
             if (LVar0 == 0) then begin
                 wm_area_set_pos(44, 1225 + random(-25, 25), 750 + random(-25, 25));
                 set_exit_grids(0, -2, 0, 20100, 0);
                 game_time_advance(3 * (24 * (60 * (60 * 10))));
-                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                     call Redding_EPA_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                         call Redding_Reno_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                             call Redding_SRNRRN_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                 call Broken_Hills_Brok_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                     call Broken_Hills_NCR_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                         call Redding_Band_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                             call Redding_Red_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                 call Broken_Hills_VPat_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                     call Redding_NRNR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                         call Redding_DNRV_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                             call Redding_DVMV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                 call Broken_Hills_VNNB_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                     call Broken_Hills_RDRC_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                         call Redding_DMRV_Encounter();
                                                                     end
                                                                 end
@@ -820,59 +820,59 @@ begin
                     wm_area_set_pos(44, 1300 + random(-25, 25), 400 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(8 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -892,64 +892,64 @@ begin
             end
         end
         else begin
-            if (global_var(283) == 3) then begin
+            if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 3) then begin
                 if (LVar0 == 0) then begin
                     wm_area_set_pos(44, 1200 + random(-25, 25), 800 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(2 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -971,59 +971,59 @@ begin
                         wm_area_set_pos(44, 1250 + random(-25, 25), 625 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(4 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -1045,59 +1045,59 @@ begin
                             wm_area_set_pos(44, 1300 + random(-25, 25), 400 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(5 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -1118,64 +1118,64 @@ begin
                 end
             end
             else begin
-                if (global_var(283) == 4) then begin
+                if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 4) then begin
                     if (LVar0 == 0) then begin
                         wm_area_set_pos(44, 1200 + random(-25, 25), 825 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(2 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -1197,59 +1197,59 @@ begin
                             wm_area_set_pos(44, 1250 + random(-25, 25), 700 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(3 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -1271,59 +1271,59 @@ begin
                                 wm_area_set_pos(44, 1300 + random(-25, 25), 500 + random(-25, 25));
                                 set_exit_grids(0, -2, 0, 20100, 0);
                                 game_time_advance(4 * (24 * (60 * (60 * 10))));
-                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                     call Redding_EPA_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                         call Redding_Reno_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                             call Redding_SRNRRN_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                 call Broken_Hills_Brok_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                     call Broken_Hills_NCR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                         call Redding_Band_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                             call Redding_Red_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                 call Broken_Hills_VPat_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                     call Redding_NRNR_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                         call Redding_DNRV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                             call Redding_DVMV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                 call Broken_Hills_VNNB_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                     call Broken_Hills_RDRC_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                         call Redding_DMRV_Encounter();
                                                                                     end
                                                                                 end
@@ -1345,59 +1345,59 @@ begin
                                     wm_area_set_pos(44, 1300 + random(-25, 25), 375 + random(-25, 25));
                                     set_exit_grids(0, -2, 0, 20100, 0);
                                     game_time_advance(3 * (24 * (60 * (60 * 10))));
-                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                         call Redding_EPA_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                             call Redding_Reno_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                                 call Redding_SRNRRN_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                     call Broken_Hills_Brok_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                         call Broken_Hills_NCR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                             call Redding_Band_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                                 call Redding_Red_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                     call Broken_Hills_VPat_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                         call Redding_NRNR_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                             call Redding_DNRV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                                 call Redding_DVMV_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                     call Broken_Hills_VNNB_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                         call Broken_Hills_RDRC_Encounter();
                                                                                     end
                                                                                     else begin
-                                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                             call Redding_DMRV_Encounter();
                                                                                         end
                                                                                     end
@@ -1428,64 +1428,64 @@ end
 procedure Broken_Gecko_Encounters
 begin
     variable LVar0 := 0;
-    LVar0 := global_var(283) - global_var(275);
-    if (global_var(283) == 1) then begin
+    LVar0 := global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) - global_var(GVAR_CARAVAN_ENCOUNTERS);
+    if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 1) then begin
         wm_area_set_pos(44, 1375 + random(-25, 25), 600 + random(-25, 25));
         set_exit_grids(0, -2, 0, 20100, 0);
         game_time_advance(7 * (24 * (60 * (60 * 10))));
-        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
             call Redding_EPA_Encounter();
         end
         else begin
-            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                 call Redding_Reno_Encounter();
             end
             else begin
-                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                     call Redding_SRNRRN_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                         call Broken_Hills_Brok_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                             call Broken_Hills_NCR_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                 call Redding_Band_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                     call Redding_Red_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                         call Broken_Hills_VPat_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                             call Redding_NRNR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                 call Redding_DNRV_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                     call Redding_DVMV_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                         call Broken_Hills_VNNB_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                             call Broken_Hills_RDRC_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                 call Redding_DMRV_Encounter();
                                                             end
                                                         end
@@ -1503,64 +1503,64 @@ begin
         end
     end
     else begin
-        if (global_var(283) == 2) then begin
+        if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 2) then begin
             if (LVar0 == 0) then begin
                 wm_area_set_pos(44, 1275 + random(-25, 25), 750 + random(-25, 25));
                 set_exit_grids(0, -2, 0, 20100, 0);
                 game_time_advance(3 * (24 * (60 * (60 * 10))));
-                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                     call Redding_EPA_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                         call Redding_Reno_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                             call Redding_SRNRRN_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                 call Broken_Hills_Brok_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                     call Broken_Hills_NCR_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                         call Redding_Band_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                             call Redding_Red_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                 call Broken_Hills_VPat_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                     call Redding_NRNR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                         call Redding_DNRV_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                             call Redding_DVMV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                 call Broken_Hills_VNNB_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                     call Broken_Hills_RDRC_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                         call Redding_DMRV_Encounter();
                                                                     end
                                                                 end
@@ -1582,59 +1582,59 @@ begin
                     wm_area_set_pos(44, 1325 + random(-25, 25), 475 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(8 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -1654,64 +1654,64 @@ begin
             end
         end
         else begin
-            if (global_var(283) == 3) then begin
+            if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 3) then begin
                 if (LVar0 == 0) then begin
                     wm_area_set_pos(44, 1250 + random(-25, 25), 800 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(2 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -1733,59 +1733,59 @@ begin
                         wm_area_set_pos(44, 1300 + random(-25, 25), 600 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(4 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -1807,59 +1807,59 @@ begin
                             wm_area_set_pos(44, 1350 + random(-25, 25), 350 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(5 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -1880,64 +1880,64 @@ begin
                 end
             end
             else begin
-                if (global_var(283) == 4) then begin
+                if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 4) then begin
                     if (LVar0 == 0) then begin
                         wm_area_set_pos(44, 1275 + random(-25, 25), 800 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(2 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -1959,59 +1959,59 @@ begin
                             wm_area_set_pos(44, 1250 + random(-25, 25), 700 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(3 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -2033,59 +2033,59 @@ begin
                                 wm_area_set_pos(44, 1300 + random(-25, 25), 500 + random(-25, 25));
                                 set_exit_grids(0, -2, 0, 20100, 0);
                                 game_time_advance(4 * (24 * (60 * (60 * 10))));
-                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                     call Redding_EPA_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                         call Redding_Reno_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                             call Redding_SRNRRN_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                 call Broken_Hills_Brok_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                     call Broken_Hills_NCR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                         call Redding_Band_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                             call Redding_Red_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                 call Broken_Hills_VPat_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                     call Redding_NRNR_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                         call Redding_DNRV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                             call Redding_DVMV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                 call Broken_Hills_VNNB_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                     call Broken_Hills_RDRC_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                         call Redding_DMRV_Encounter();
                                                                                     end
                                                                                 end
@@ -2107,59 +2107,59 @@ begin
                                     wm_area_set_pos(44, 1275 + random(-25, 25), 300 + random(-25, 25));
                                     set_exit_grids(0, -2, 0, 20100, 0);
                                     game_time_advance(3 * (24 * (60 * (60 * 10))));
-                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                         call Redding_EPA_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                             call Redding_Reno_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                                 call Redding_SRNRRN_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                     call Broken_Hills_Brok_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                         call Broken_Hills_NCR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                             call Redding_Band_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                                 call Redding_Red_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                     call Broken_Hills_VPat_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                         call Redding_NRNR_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                             call Redding_DNRV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                                 call Redding_DVMV_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                     call Broken_Hills_VNNB_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                         call Broken_Hills_RDRC_Encounter();
                                                                                     end
                                                                                     else begin
-                                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                             call Redding_DMRV_Encounter();
                                                                                         end
                                                                                     end
@@ -2190,64 +2190,64 @@ end
 procedure Broken_NCR_Encounters
 begin
     variable LVar0 := 0;
-    LVar0 := global_var(283) - global_var(275);
-    if (global_var(283) == 1) then begin
+    LVar0 := global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) - global_var(GVAR_CARAVAN_ENCOUNTERS);
+    if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 1) then begin
         wm_area_set_pos(44, 1125 + random(-25, 25), 1200 + random(-25, 25));
         set_exit_grids(0, -2, 0, 20100, 0);
         game_time_advance(7 * (24 * (60 * (60 * 10))));
-        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
             call Redding_EPA_Encounter();
         end
         else begin
-            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                 call Redding_Reno_Encounter();
             end
             else begin
-                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                     call Redding_SRNRRN_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                         call Broken_Hills_Brok_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                             call Broken_Hills_NCR_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                 call Redding_Band_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                     call Redding_Red_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                         call Broken_Hills_VPat_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                             call Redding_NRNR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                 call Redding_DNRV_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                     call Redding_DVMV_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                         call Broken_Hills_VNNB_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                             call Broken_Hills_RDRC_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                 call Redding_DMRV_Encounter();
                                                             end
                                                         end
@@ -2265,64 +2265,64 @@ begin
         end
     end
     else begin
-        if (global_var(283) == 2) then begin
+        if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 2) then begin
             if (LVar0 == 0) then begin
                 wm_area_set_pos(44, 1125 + random(-25, 25), 1075 + random(-25, 25));
                 set_exit_grids(0, -2, 0, 20100, 0);
                 game_time_advance(4 * (24 * (60 * (60 * 10))));
-                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                     call Redding_EPA_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                         call Redding_Reno_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                             call Redding_SRNRRN_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                 call Broken_Hills_Brok_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                     call Broken_Hills_NCR_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                         call Redding_Band_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                             call Redding_Red_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                 call Broken_Hills_VPat_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                     call Redding_NRNR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                         call Redding_DNRV_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                             call Redding_DVMV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                 call Broken_Hills_VNNB_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                     call Broken_Hills_RDRC_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                         call Redding_DMRV_Encounter();
                                                                     end
                                                                 end
@@ -2344,59 +2344,59 @@ begin
                     wm_area_set_pos(44, 1125 + random(-25, 25), 1275 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(4 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -2416,64 +2416,64 @@ begin
             end
         end
         else begin
-            if (global_var(283) == 3) then begin
+            if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 3) then begin
                 if (LVar0 == 0) then begin
                     wm_area_set_pos(44, 1150 + random(-25, 25), 975 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(2 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -2495,59 +2495,59 @@ begin
                         wm_area_set_pos(44, 1125 + random(-25, 25), 1100 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(3 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -2569,59 +2569,59 @@ begin
                             wm_area_set_pos(44, 1125 + random(-25, 25), 1250 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(3 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -2642,64 +2642,64 @@ begin
                 end
             end
             else begin
-                if (global_var(283) == 4) then begin
+                if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 4) then begin
                     if (LVar0 == 0) then begin
                         wm_area_set_pos(44, 1175 + random(-25, 25), 950 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(3 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -2721,59 +2721,59 @@ begin
                             wm_area_set_pos(44, 1150 + random(-25, 25), 1100 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(2 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -2795,59 +2795,59 @@ begin
                                 wm_area_set_pos(44, 1125 + random(-25, 25), 1225 + random(-25, 25));
                                 set_exit_grids(0, -2, 0, 20100, 0);
                                 game_time_advance(3 * (24 * (60 * (60 * 10))));
-                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                     call Redding_EPA_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                         call Redding_Reno_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                             call Redding_SRNRRN_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                 call Broken_Hills_Brok_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                     call Broken_Hills_NCR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                         call Redding_Band_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                             call Redding_Red_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                 call Broken_Hills_VPat_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                     call Redding_NRNR_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                         call Redding_DNRV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                             call Redding_DVMV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                 call Broken_Hills_VNNB_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                     call Broken_Hills_RDRC_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                         call Redding_DMRV_Encounter();
                                                                                     end
                                                                                 end
@@ -2869,59 +2869,59 @@ begin
                                     wm_area_set_pos(44, 1125 + random(-25, 25), 1375 + random(-25, 25));
                                     set_exit_grids(0, -2, 0, 20100, 0);
                                     game_time_advance(2 * (24 * (60 * (60 * 10))));
-                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                         call Redding_EPA_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                             call Redding_Reno_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                                 call Redding_SRNRRN_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                     call Broken_Hills_Brok_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                         call Broken_Hills_NCR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                             call Redding_Band_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                                 call Redding_Red_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                     call Broken_Hills_VPat_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                         call Redding_NRNR_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                             call Redding_DNRV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                                 call Redding_DVMV_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                     call Broken_Hills_VNNB_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                         call Broken_Hills_RDRC_Encounter();
                                                                                     end
                                                                                     else begin
-                                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                             call Redding_DMRV_Encounter();
                                                                                         end
                                                                                     end
@@ -2955,42 +2955,42 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 10) then begin
         debug_msg("Brok_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 100));
+        display_mstr(100);
         Encounter_Counter := random(7, 10);
-        Encounter_Rotation := has_trait(1, dude_obj, 10);
+        Encounter_Rotation := obj_get_rot(dude_obj);
         call Brok_Rogues();
         Encounter_Counter := random(3, 5);
-        Encounter_Rotation := (has_trait(1, dude_obj, 10) + 3) % 6;
+        Encounter_Rotation := (obj_get_rot(dude_obj) + 3) % 6;
         call Red_Wolves();
     end
     else begin
         if (LVar0 < 30) then begin
             debug_msg("Brok_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 101));
+            display_mstr(101);
             Encounter_Counter := random(8, 12);
-            Encounter_Rotation := (has_trait(1, dude_obj, 10) + random(0, 3)) % 6;
+            Encounter_Rotation := (obj_get_rot(dude_obj) + random(0, 3)) % 6;
             call Brok_Rogues();
         end
         else begin
             if (LVar0 < 40) then begin
                 debug_msg("Brok_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 102));
+                display_mstr(102);
                 Encounter_Counter := random(6, 10);
-                Encounter_Rotation := (has_trait(1, dude_obj, 10) + 2) % 6;
+                Encounter_Rotation := (obj_get_rot(dude_obj) + 2) % 6;
                 call Red_Wolves();
             end
             else begin
                 if (LVar0 < 50) then begin
                     debug_msg("Brok_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 103));
+                    display_mstr(103);
                     Encounter_Counter := random(6, 12);
-                    Encounter_Rotation := has_trait(1, dude_obj, 10);
+                    Encounter_Rotation := obj_get_rot(dude_obj);
                     call DMRV_Scorpions();
                 end
                 else begin
                     if (LVar0 < 60) then begin
                         debug_msg("Brok_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 104));
+                        display_mstr(104);
                         Encounter_Counter := random(8, 14);
                         Encounter_Rotation := random(0, 5);
                         call ARRO_Spore_Plants();
@@ -2998,7 +2998,7 @@ begin
                     else begin
                         if (LVar0 < 70) then begin
                             debug_msg("Brok_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 105));
+                            display_mstr(105);
                             Encounter_Counter := random(6, 10);
                             Encounter_Rotation := random(3, 5);
                             call Brok_Unity_Patrol();
@@ -3011,7 +3011,7 @@ begin
                         else begin
                             if (LVar0 < 80) then begin
                                 debug_msg("Brok_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 106));
+                                display_mstr(106);
                                 Encounter_Counter := random(6, 10);
                                 Encounter_Rotation := random(0, 2);
                                 call Brok_Unity_Patrol();
@@ -3024,7 +3024,7 @@ begin
                             else begin
                                 if (LVar0 < 100) then begin
                                     debug_msg("Brok_Encounter Table, Encounter 07");
-                                    display_msg(message_str(680, 107));
+                                    display_mstr(107);
                                     Encounter_Counter := random(8, 14);
                                     Encounter_Rotation := random(0, 5);
                                     call Brok_Unity_Patrol();
@@ -3046,7 +3046,7 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 10) then begin
         debug_msg("VPat_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 150));
+        display_mstr(150);
         Encounter_Counter := random(4, 7);
         Encounter_Rotation := random(0, 5);
         call VPat_Strong_Slavers();
@@ -3057,15 +3057,15 @@ begin
     else begin
         if (LVar0 < 20) then begin
             debug_msg("VPat_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 151));
+            display_mstr(151);
             Encounter_Counter := random(6, 12);
-            Encounter_Rotation := has_trait(1, dude_obj, 10);
+            Encounter_Rotation := obj_get_rot(dude_obj);
             call VPat_Strong_Slavers();
         end
         else begin
             if (LVar0 < 30) then begin
                 debug_msg("VPat_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 152));
+                display_mstr(152);
                 Encounter_Counter := random(6, 12);
                 Encounter_Rotation := random(3, 5);
                 call DMRV_Golden_Geckos();
@@ -3073,7 +3073,7 @@ begin
             else begin
                 if (LVar0 < 40) then begin
                     debug_msg("VPat_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 153));
+                    display_mstr(153);
                     Encounter_Counter := random(8, 14);
                     Encounter_Rotation := random(0, 5);
                     call DVMV_Wild_Dogs();
@@ -3081,7 +3081,7 @@ begin
                 else begin
                     if (LVar0 < 50) then begin
                         debug_msg("VPat_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 154));
+                        display_mstr(154);
                         Encounter_Counter := random(3, 6);
                         Encounter_Rotation := random(0, 2);
                         call VPat_Patrol();
@@ -3097,33 +3097,33 @@ begin
                     else begin
                         if (LVar0 < 60) then begin
                             debug_msg("VPat_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 155));
+                            display_mstr(155);
                             Encounter_Counter := random(4, 7);
-                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                            Encounter_Rotation := obj_get_rot(dude_obj);
                             call VPat_Strong_Slavers();
                             Combat1 := Critter;
                             Encounter_Counter := random(6, 12);
-                            Encounter_Rotation := (has_trait(1, dude_obj, 10) + 1) % 6;
+                            Encounter_Rotation := (obj_get_rot(dude_obj) + 1) % 6;
                             call DMRV_Golden_Geckos();
                             Combat2 := Critter;
                         end
                         else begin
                             if (LVar0 < 70) then begin
                                 debug_msg("VPat_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 156));
+                                display_mstr(156);
                                 Encounter_Counter := random(5, 8);
-                                Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                Encounter_Rotation := obj_get_rot(dude_obj);
                                 call VPat_Patrol();
                                 Combat1 := Critter;
                                 Encounter_Counter := random(6, 10);
-                                Encounter_Rotation := (has_trait(1, dude_obj, 10) + 3) % 6;
+                                Encounter_Rotation := (obj_get_rot(dude_obj) + 3) % 6;
                                 call VPat_Strong_Slavers();
                                 Combat2 := Critter;
                             end
                             else begin
                                 if (LVar0 < 80) then begin
                                     debug_msg("VPat_Encounter Table, Encounter 07");
-                                    display_msg(message_str(680, 157));
+                                    display_mstr(157);
                                     Encounter_Counter := random(3, 5);
                                     Encounter_Rotation := 2;
                                     call VPat_Patrol();
@@ -3136,7 +3136,7 @@ begin
                                 else begin
                                     if (LVar0 < 90) then begin
                                         debug_msg("VPat_Encounter Table, Encounter 08");
-                                        display_msg(message_str(680, 158));
+                                        display_mstr(158);
                                         Encounter_Counter := random(3, 5);
                                         Encounter_Rotation := random(2, 5);
                                         call VPat_Patrol();
@@ -3149,7 +3149,7 @@ begin
                                     else begin
                                         if (LVar0 < 100) then begin
                                             debug_msg("VPat_Encounter Table, Encounter 09");
-                                            display_msg(message_str(680, 159));
+                                            display_mstr(159);
                                             Encounter_Counter := random(6, 12);
                                             Encounter_Rotation := 3;
                                             call VPat_Patrol();
@@ -3173,15 +3173,15 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 25) then begin
         debug_msg("RDRC_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 200));
+        display_mstr(200);
         Encounter_Counter := random(7, 12);
-        Encounter_Rotation := has_trait(1, dude_obj, 10);
+        Encounter_Rotation := obj_get_rot(dude_obj);
         call RDRC_Raiders();
     end
     else begin
         if (LVar0 < 40) then begin
             debug_msg("RDRC_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 201));
+            display_mstr(201);
             Encounter_Counter := random(8, 14);
             Encounter_Rotation := random(0, 5);
             call Red_Wolves();
@@ -3189,7 +3189,7 @@ begin
         else begin
             if (LVar0 < 49) then begin
                 debug_msg("RDRC_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 202));
+                display_mstr(202);
                 Encounter_Counter := random(6, 10);
                 Encounter_Rotation := 2;
                 call DNRV_Vault_Caravan();
@@ -3202,7 +3202,7 @@ begin
             else begin
                 if (LVar0 < 58) then begin
                     debug_msg("RDRC_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 203));
+                    display_mstr(203);
                     Encounter_Counter := random(4, 6);
                     Encounter_Rotation := 3;
                     call DNRV_Reno_Caravan();
@@ -3215,7 +3215,7 @@ begin
                 else begin
                     if (LVar0 < 67) then begin
                         debug_msg("RDRC_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 204));
+                        display_mstr(204);
                         Encounter_Counter := random(6, 8);
                         Encounter_Rotation := 4;
                         call RDRC_Broken_Hills_Caravan();
@@ -3228,7 +3228,7 @@ begin
                     else begin
                         if (LVar0 < 76) then begin
                             debug_msg("RDRC_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 205));
+                            display_mstr(205);
                             Encounter_Counter := random(6, 10);
                             Encounter_Rotation := 5;
                             call RDRC_Gecko_Caravan();
@@ -3241,7 +3241,7 @@ begin
                         else begin
                             if (LVar0 < 82) then begin
                                 debug_msg("RDRC_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 206));
+                                display_mstr(206);
                                 Encounter_Counter := random(6, 10);
                                 Encounter_Rotation := 2;
                                 call DNRV_Vault_Caravan();
@@ -3249,7 +3249,7 @@ begin
                             else begin
                                 if (LVar0 < 88) then begin
                                     debug_msg("RDRC_Encounter Table, Encounter 07");
-                                    display_msg(message_str(680, 207));
+                                    display_mstr(207);
                                     Encounter_Counter := random(4, 6);
                                     Encounter_Rotation := 3;
                                     call DNRV_Reno_Caravan();
@@ -3257,7 +3257,7 @@ begin
                                 else begin
                                     if (LVar0 < 94) then begin
                                         debug_msg("RDRC_Encounter Table, Encounter 08");
-                                        display_msg(message_str(680, 208));
+                                        display_mstr(208);
                                         Encounter_Counter := random(6, 8);
                                         Encounter_Rotation := 4;
                                         call RDRC_Broken_Hills_Caravan();
@@ -3265,7 +3265,7 @@ begin
                                     else begin
                                         if (LVar0 < 100) then begin
                                             debug_msg("RDRC_Encounter Table, Encounter 09");
-                                            display_msg(message_str(680, 209));
+                                            display_mstr(209);
                                             Encounter_Counter := random(6, 10);
                                             Encounter_Rotation := 5;
                                             call RDRC_Gecko_Caravan();
@@ -3289,15 +3289,15 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 20) then begin
         debug_msg("VNNB_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 250));
+        display_mstr(250);
         Encounter_Counter := random(8, 14);
-        Encounter_Rotation := has_trait(1, dude_obj, 10);
+        Encounter_Rotation := obj_get_rot(dude_obj);
         call NCR_Marauders();
     end
     else begin
         if (LVar0 < 30) then begin
             debug_msg("VNNB_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 251));
+            display_mstr(251);
             Encounter_Counter := random(8, 15);
             Encounter_Rotation := random(0, 5);
             call Red_Wolves();
@@ -3305,7 +3305,7 @@ begin
         else begin
             if (LVar0 < 40) then begin
                 debug_msg("VNNB_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 252));
+                display_mstr(252);
                 Encounter_Counter := random(7, 12);
                 Encounter_Rotation := random(0, 5);
                 call DMRV_Scorpions();
@@ -3313,7 +3313,7 @@ begin
             else begin
                 if (LVar0 < 48) then begin
                     debug_msg("VNNB_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 253));
+                    display_mstr(253);
                     Encounter_Counter := random(5, 9);
                     Encounter_Counter := random(2, 4);
                     call RDRC_Broken_Hills_Caravan();
@@ -3326,7 +3326,7 @@ begin
                 else begin
                     if (LVar0 < 56) then begin
                         debug_msg("VNNB_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 254));
+                        display_mstr(254);
                         Encounter_Counter := random(6, 9);
                         Encounter_Rotation := random(1, 3);
                         call DNRV_Reno_Caravan();
@@ -3339,7 +3339,7 @@ begin
                     else begin
                         if (LVar0 < 64) then begin
                             debug_msg("VNNB_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 255));
+                            display_mstr(255);
                             Encounter_Counter := random(5, 10);
                             Encounter_Rotation := 2;
                             call NCR_Caravan();
@@ -3352,7 +3352,7 @@ begin
                         else begin
                             if (LVar0 < 72) then begin
                                 debug_msg("VNNB_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 256));
+                                display_mstr(256);
                                 Encounter_Counter := random(4, 8);
                                 Encounter_Rotation := 3;
                                 call V15_Caravan();
@@ -3365,7 +3365,7 @@ begin
                             else begin
                                 if (LVar0 < 77) then begin
                                     debug_msg("VNNB_Encounter Table, Encounter 07");
-                                    display_msg(message_str(680, 257));
+                                    display_mstr(257);
                                     Encounter_Counter := random(5, 9);
                                     Encounter_Counter := random(2, 4);
                                     call RDRC_Broken_Hills_Caravan();
@@ -3373,7 +3373,7 @@ begin
                                 else begin
                                     if (LVar0 < 82) then begin
                                         debug_msg("VNNB_Encounter Table, Encounter 08");
-                                        display_msg(message_str(680, 258));
+                                        display_mstr(258);
                                         Encounter_Counter := random(6, 9);
                                         Encounter_Rotation := random(1, 3);
                                         call DNRV_Reno_Caravan();
@@ -3381,7 +3381,7 @@ begin
                                     else begin
                                         if (LVar0 < 87) then begin
                                             debug_msg("VNNB_Encounter Table, Encounter 09");
-                                            display_msg(message_str(680, 259));
+                                            display_mstr(259);
                                             Encounter_Counter := random(5, 10);
                                             Encounter_Rotation := 2;
                                             call NCR_Caravan();
@@ -3389,7 +3389,7 @@ begin
                                         else begin
                                             if (LVar0 < 92) then begin
                                                 debug_msg("VNNB_Encounter Table, Encounter 10");
-                                                display_msg(message_str(680, 260));
+                                                display_mstr(260);
                                                 Encounter_Counter := random(4, 8);
                                                 Encounter_Rotation := 3;
                                                 call V15_Caravan();
@@ -3397,7 +3397,7 @@ begin
                                             else begin
                                                 if (LVar0 < 100) then begin
                                                     debug_msg("VNNB_Encounter Table, Encounter 11");
-                                                    display_msg(message_str(680, 610));
+                                                    display_mstr(610);
                                                     Encounter_Counter := random(1, 2);
                                                     Encounter_Rotation := random(0, 5);
                                                     call New_Traveler();
@@ -3423,7 +3423,7 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 15) then begin
         debug_msg("NCR_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 300));
+        display_mstr(300);
         Encounter_Counter := random(6, 9);
         Encounter_Rotation := random(0, 5);
         call NCR_Masters_Army();
@@ -3431,7 +3431,7 @@ begin
     else begin
         if (LVar0 < 30) then begin
             debug_msg("NCR_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 301));
+            display_mstr(301);
             Encounter_Counter := random(8, 14);
             Encounter_Rotation := random(2, 5);
             call NCR_Marauders();
@@ -3439,7 +3439,7 @@ begin
         else begin
             if (LVar0 < 40) then begin
                 debug_msg("NCR_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 302));
+                display_mstr(302);
                 Encounter_Counter := random(5, 9);
                 Encounter_Rotation := 2;
                 call NCR_Rangers();
@@ -3452,7 +3452,7 @@ begin
             else begin
                 if (LVar0 < 50) then begin
                     debug_msg("NCR_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 303));
+                    display_mstr(303);
                     Encounter_Counter := random(5, 10);
                     Encounter_Rotation := 4;
                     call NCR_Rangers();
@@ -3465,7 +3465,7 @@ begin
                 else begin
                     if (LVar0 < 60) then begin
                         debug_msg("NCR_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 304));
+                        display_mstr(304);
                         Encounter_Counter := random(2, 6);
                         Encounter_Rotation := random(2, 4);
                         call KLA_Farmers();
@@ -3478,7 +3478,7 @@ begin
                     else begin
                         if (LVar0 < 70) then begin
                             debug_msg("NCR_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 305));
+                            display_mstr(305);
                             Encounter_Counter := random(3, 6);
                             Encounter_Rotation := random(2, 5);
                             call KLA_Farmers();
@@ -3491,7 +3491,7 @@ begin
                         else begin
                             if (LVar0 < 90) then begin
                                 debug_msg("NCR_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 306));
+                                display_mstr(306);
                                 Encounter_Counter := random(6, 10);
                                 Encounter_Rotation := random(0, 5);
                                 call NCR_Rangers();
@@ -3499,7 +3499,7 @@ begin
                             else begin
                                 if (LVar0 < 100) then begin
                                     debug_msg("NCR_Encounter Table, Encounter 07");
-                                    display_msg(message_str(680, 307));
+                                    display_mstr(307);
                                     Encounter_Counter := random(3, 5);
                                     Encounter_Rotation := random(0, 5);
                                     call KLA_Farmers();
@@ -3519,42 +3519,42 @@ procedure Redding_Caravan
 begin
     variable LVar0 := 0;
     call Build_Caravan_Team();
-    if (global_var(339) == 4) then begin
+    if (global_var(GVAR_MEDICINE_CARAVAN) == 4) then begin
         debug_msg("In Medicine Caravan Encounter Setup.");
-        if (global_var(270) == 1) then begin
+        if (global_var(GVAR_CARAVAN_START) == 1) then begin
             call Red_VC_Encounters();
         end
         else begin
             call VC_Red_Encounters();
         end
         if (map_var(1) > 0) then begin
-            set_global_var(339, 3);
+            set_global_var(GVAR_MEDICINE_CARAVAN, 3);
         end
     end
     else begin
-        if (global_var(338) == 4) then begin
+        if (global_var(GVAR_CATTLE_DRIVE_CARAVAN) == 4) then begin
             debug_msg("In Cattle Drive Encounter Setup.");
-            if (global_var(270) == 1) then begin
+            if (global_var(GVAR_CARAVAN_START) == 1) then begin
                 call Red_NCR_Encounters();
             end
             else begin
                 call NCR_Red_Encounters();
             end
             if (map_var(1) > 0) then begin
-                set_global_var(338, 3);
+                set_global_var(GVAR_CATTLE_DRIVE_CARAVAN, 3);
             end
         end
         else begin
-            if (global_var(340) == 4) then begin
+            if (global_var(GVAR_JET_CARAVAN) == 4) then begin
                 debug_msg("In Jet Caravan Encounter Setup.");
-                if (global_var(270) == 1) then begin
+                if (global_var(GVAR_CARAVAN_START) == 1) then begin
                     call Red_Reno_Encounters();
                 end
                 else begin
                     call Reno_Red_Encounters();
                 end
                 if (map_var(1) > 0) then begin
-                    set_global_var(340, 3);
+                    set_global_var(GVAR_JET_CARAVAN, 3);
                 end
             end
         end
@@ -3566,64 +3566,64 @@ end
 procedure Red_VC_Encounters
 begin
     variable LVar0 := 0;
-    LVar0 := global_var(283) - global_var(275);
-    if (global_var(283) == 1) then begin
+    LVar0 := global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) - global_var(GVAR_CARAVAN_ENCOUNTERS);
+    if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 1) then begin
         wm_area_set_pos(44, 700 + random(-25, 25), 125 + random(-25, 25));
         set_exit_grids(0, -2, 0, 20100, 0);
         game_time_advance(16 * (24 * (60 * (60 * 10))));
-        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
             call Redding_EPA_Encounter();
         end
         else begin
-            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                 call Redding_Reno_Encounter();
             end
             else begin
-                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                     call Redding_SRNRRN_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                         call Broken_Hills_Brok_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                             call Broken_Hills_NCR_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                 call Redding_Band_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                     call Redding_Red_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                         call Broken_Hills_VPat_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                             call Redding_NRNR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                 call Redding_DNRV_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                     call Redding_DVMV_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                         call Broken_Hills_VNNB_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                             call Broken_Hills_RDRC_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                 call Redding_DMRV_Encounter();
                                                             end
                                                         end
@@ -3641,64 +3641,64 @@ begin
         end
     end
     else begin
-        if (global_var(283) == 2) then begin
+        if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 2) then begin
             if (LVar0 == 0) then begin
                 wm_area_set_pos(44, 475 + random(-25, 25), 300 + random(-25, 25));
                 set_exit_grids(0, -2, 0, 20100, 0);
                 game_time_advance(8 * (24 * (60 * (60 * 10))));
-                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                     call Redding_EPA_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                         call Redding_Reno_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                             call Redding_SRNRRN_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                 call Broken_Hills_Brok_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                     call Broken_Hills_NCR_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                         call Redding_Band_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                             call Redding_Red_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                 call Broken_Hills_VPat_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                     call Redding_NRNR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                         call Redding_DNRV_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                             call Redding_DVMV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                 call Broken_Hills_VNNB_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                     call Broken_Hills_RDRC_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                         call Redding_DMRV_Encounter();
                                                                     end
                                                                 end
@@ -3720,59 +3720,59 @@ begin
                     wm_area_set_pos(44, 975 + random(-25, 25), 175 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(11 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -3792,64 +3792,64 @@ begin
             end
         end
         else begin
-            if (global_var(283) == 3) then begin
+            if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 3) then begin
                 if (LVar0 == 0) then begin
                     wm_area_set_pos(44, 475 + random(-25, 25), 525 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(6 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -3871,59 +3871,59 @@ begin
                         wm_area_set_pos(44, 675 + random(-25, 25), 125 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(7 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -3945,59 +3945,59 @@ begin
                             wm_area_set_pos(44, 1025 + random(-25, 25), 225 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(9 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -4018,64 +4018,64 @@ begin
                 end
             end
             else begin
-                if (global_var(283) == 4) then begin
+                if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 4) then begin
                     if (LVar0 == 0) then begin
                         wm_area_set_pos(44, 475 + random(-25, 25), 575 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(5 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -4097,59 +4097,59 @@ begin
                             wm_area_set_pos(44, 575 + random(-25, 25), 175 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(6 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -4171,59 +4171,59 @@ begin
                                 wm_area_set_pos(44, 775 + random(-25, 25), 125 + random(-25, 25));
                                 set_exit_grids(0, -2, 0, 20100, 0);
                                 game_time_advance(4 * (24 * (60 * (60 * 10))));
-                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                     call Redding_EPA_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                         call Redding_Reno_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                             call Redding_SRNRRN_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                 call Broken_Hills_Brok_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                     call Broken_Hills_NCR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                         call Redding_Band_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                             call Redding_Red_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                 call Broken_Hills_VPat_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                     call Redding_NRNR_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                         call Redding_DNRV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                             call Redding_DVMV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                 call Broken_Hills_VNNB_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                     call Broken_Hills_RDRC_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                         call Redding_DMRV_Encounter();
                                                                                     end
                                                                                 end
@@ -4245,59 +4245,59 @@ begin
                                     wm_area_set_pos(44, 1075 + random(-25, 25), 225 + random(-25, 25));
                                     set_exit_grids(0, -2, 0, 20100, 0);
                                     game_time_advance(6 * (24 * (60 * (60 * 10))));
-                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                         call Redding_EPA_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                             call Redding_Reno_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                                 call Redding_SRNRRN_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                     call Broken_Hills_Brok_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                         call Broken_Hills_NCR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                             call Redding_Band_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                                 call Redding_Red_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                     call Broken_Hills_VPat_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                         call Redding_NRNR_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                             call Redding_DNRV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                                 call Redding_DVMV_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                     call Broken_Hills_VNNB_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                         call Broken_Hills_RDRC_Encounter();
                                                                                     end
                                                                                     else begin
-                                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                             call Redding_DMRV_Encounter();
                                                                                         end
                                                                                     end
@@ -4328,64 +4328,64 @@ end
 procedure Red_Reno_Encounters
 begin
     variable LVar0 := 0;
-    LVar0 := global_var(283) - global_var(275);
-    if (global_var(283) == 1) then begin
+    LVar0 := global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) - global_var(GVAR_CARAVAN_ENCOUNTERS);
+    if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 1) then begin
         wm_area_set_pos(44, 775 + random(-25, 25), 775 + random(-25, 25));
         set_exit_grids(0, -2, 0, 20100, 0);
         game_time_advance(6 * (24 * (60 * (60 * 10))));
-        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
             call Redding_EPA_Encounter();
         end
         else begin
-            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                 call Redding_Reno_Encounter();
             end
             else begin
-                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                     call Redding_SRNRRN_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                         call Broken_Hills_Brok_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                             call Broken_Hills_NCR_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                 call Redding_Band_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                     call Redding_Red_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                         call Broken_Hills_VPat_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                             call Redding_NRNR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                 call Redding_DNRV_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                     call Redding_DVMV_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                         call Broken_Hills_VNNB_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                             call Broken_Hills_RDRC_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                 call Redding_DMRV_Encounter();
                                                             end
                                                         end
@@ -4403,64 +4403,64 @@ begin
         end
     end
     else begin
-        if (global_var(283) == 2) then begin
+        if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 2) then begin
             if (LVar0 == 0) then begin
                 wm_area_set_pos(44, 700 + random(-25, 25), 700 + random(-25, 25));
                 set_exit_grids(0, -2, 0, 20100, 0);
                 game_time_advance(4 * (24 * (60 * (60 * 10))));
-                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                     call Redding_EPA_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                         call Redding_Reno_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                             call Redding_SRNRRN_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                 call Broken_Hills_Brok_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                     call Broken_Hills_NCR_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                         call Redding_Band_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                             call Redding_Red_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                 call Broken_Hills_VPat_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                     call Redding_NRNR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                         call Redding_DNRV_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                             call Redding_DVMV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                 call Broken_Hills_VNNB_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                     call Broken_Hills_RDRC_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                         call Redding_DMRV_Encounter();
                                                                     end
                                                                 end
@@ -4482,59 +4482,59 @@ begin
                     wm_area_set_pos(44, 750 + random(-25, 25), 925 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(4 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -4554,64 +4554,64 @@ begin
             end
         end
         else begin
-            if (global_var(283) == 3) then begin
+            if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 3) then begin
                 if (LVar0 == 0) then begin
                     wm_area_set_pos(44, 675 + random(-25, 25), 675 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(3 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -4633,59 +4633,59 @@ begin
                         wm_area_set_pos(44, 725 + random(-25, 25), 875 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(3 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -4707,59 +4707,59 @@ begin
                             wm_area_set_pos(44, 925 + random(-25, 25), 925 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(3 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -4780,64 +4780,64 @@ begin
                 end
             end
             else begin
-                if (global_var(283) == 4) then begin
+                if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 4) then begin
                     if (LVar0 == 0) then begin
                         wm_area_set_pos(44, 650 + random(-25, 25), 600 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(2 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -4859,59 +4859,59 @@ begin
                             wm_area_set_pos(44, 725 + random(-25, 25), 800 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(3 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -4933,59 +4933,59 @@ begin
                                 wm_area_set_pos(44, 750 + random(-25, 25), 925 + random(-25, 25));
                                 set_exit_grids(0, -2, 0, 20100, 0);
                                 game_time_advance(2 * (24 * (60 * (60 * 10))));
-                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                     call Redding_EPA_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                         call Redding_Reno_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                             call Redding_SRNRRN_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                 call Broken_Hills_Brok_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                     call Broken_Hills_NCR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                         call Redding_Band_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                             call Redding_Red_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                 call Broken_Hills_VPat_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                     call Redding_NRNR_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                         call Redding_DNRV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                             call Redding_DVMV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                 call Broken_Hills_VNNB_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                     call Broken_Hills_RDRC_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                         call Redding_DMRV_Encounter();
                                                                                     end
                                                                                 end
@@ -5007,59 +5007,59 @@ begin
                                     wm_area_set_pos(44, 975 + random(-25, 25), 925 + random(-25, 25));
                                     set_exit_grids(0, -2, 0, 20100, 0);
                                     game_time_advance(3 * (24 * (60 * (60 * 10))));
-                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                         call Redding_EPA_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                             call Redding_Reno_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                                 call Redding_SRNRRN_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                     call Broken_Hills_Brok_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                         call Broken_Hills_NCR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                             call Redding_Band_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                                 call Redding_Red_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                     call Broken_Hills_VPat_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                         call Redding_NRNR_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                             call Redding_DNRV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                                 call Redding_DVMV_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                     call Broken_Hills_VNNB_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                         call Broken_Hills_RDRC_Encounter();
                                                                                     end
                                                                                     else begin
-                                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                             call Redding_DMRV_Encounter();
                                                                                         end
                                                                                     end
@@ -5090,64 +5090,64 @@ end
 procedure Red_NCR_Encounters
 begin
     variable LVar0 := 0;
-    LVar0 := global_var(283) - global_var(275);
-    if (global_var(283) == 1) then begin
+    LVar0 := global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) - global_var(GVAR_CARAVAN_ENCOUNTERS);
+    if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 1) then begin
         wm_area_set_pos(44, 700 + random(-25, 25), 1000 + random(-25, 25));
         set_exit_grids(0, -2, 0, 20100, 0);
         game_time_advance(16 * (24 * (60 * (60 * 10))));
-        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
             call Redding_EPA_Encounter();
         end
         else begin
-            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                 call Redding_Reno_Encounter();
             end
             else begin
-                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                     call Redding_SRNRRN_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                         call Broken_Hills_Brok_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                             call Broken_Hills_NCR_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                 call Redding_Band_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                     call Redding_Red_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                         call Broken_Hills_VPat_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                             call Redding_NRNR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                 call Redding_DNRV_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                     call Redding_DVMV_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                         call Broken_Hills_VNNB_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                             call Broken_Hills_RDRC_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                 call Redding_DMRV_Encounter();
                                                             end
                                                         end
@@ -5165,64 +5165,64 @@ begin
         end
     end
     else begin
-        if (global_var(283) == 2) then begin
+        if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 2) then begin
             if (LVar0 == 0) then begin
                 wm_area_set_pos(44, 675 + random(-25, 25), 925 + random(-25, 25));
                 set_exit_grids(0, -2, 0, 20100, 0);
                 game_time_advance(10 * (24 * (60 * (60 * 10))));
-                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                     call Redding_EPA_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                         call Redding_Reno_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                             call Redding_SRNRRN_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                 call Broken_Hills_Brok_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                     call Broken_Hills_NCR_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                         call Redding_Band_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                             call Redding_Red_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                 call Broken_Hills_VPat_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                     call Redding_NRNR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                         call Redding_DNRV_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                             call Redding_DVMV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                 call Broken_Hills_VNNB_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                     call Broken_Hills_RDRC_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                         call Redding_DMRV_Encounter();
                                                                     end
                                                                 end
@@ -5244,59 +5244,59 @@ begin
                     wm_area_set_pos(44, 800 + random(-25, 25), 1200 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(10 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -5316,64 +5316,64 @@ begin
             end
         end
         else begin
-            if (global_var(283) == 3) then begin
+            if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 3) then begin
                 if (LVar0 == 0) then begin
                     wm_area_set_pos(44, 675 + random(-25, 25), 825 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(8 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -5395,59 +5395,59 @@ begin
                         wm_area_set_pos(44, 725 + random(-25, 25), 1100 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(8 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -5469,59 +5469,59 @@ begin
                             wm_area_set_pos(44, 900 + random(-25, 25), 1350 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(8 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -5542,64 +5542,64 @@ begin
                 end
             end
             else begin
-                if (global_var(283) == 4) then begin
+                if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 4) then begin
                     if (LVar0 == 0) then begin
                         wm_area_set_pos(44, 675 + random(-25, 25), 675 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(5 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -5621,59 +5621,59 @@ begin
                             wm_area_set_pos(44, 675 + random(-25, 25), 825 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(6 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -5695,59 +5695,59 @@ begin
                                 wm_area_set_pos(44, 725 + random(-25, 25), 1175 + random(-25, 25));
                                 set_exit_grids(0, -2, 0, 20100, 0);
                                 game_time_advance(6 * (24 * (60 * (60 * 10))));
-                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                     call Redding_EPA_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                         call Redding_Reno_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                             call Redding_SRNRRN_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                 call Broken_Hills_Brok_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                     call Broken_Hills_NCR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                         call Redding_Band_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                             call Redding_Red_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                 call Broken_Hills_VPat_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                     call Redding_NRNR_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                         call Redding_DNRV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                             call Redding_DVMV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                 call Broken_Hills_VNNB_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                     call Broken_Hills_RDRC_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                         call Redding_DMRV_Encounter();
                                                                                     end
                                                                                 end
@@ -5769,59 +5769,59 @@ begin
                                     wm_area_set_pos(44, 1050 + random(-25, 25), 1400 + random(-25, 25));
                                     set_exit_grids(0, -2, 0, 20100, 0);
                                     game_time_advance(5 * (24 * (60 * (60 * 10))));
-                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                         call Redding_EPA_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                             call Redding_Reno_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                                 call Redding_SRNRRN_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                     call Broken_Hills_Brok_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                         call Broken_Hills_NCR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                             call Redding_Band_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                                 call Redding_Red_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                     call Broken_Hills_VPat_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                         call Redding_NRNR_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                             call Redding_DNRV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                                 call Redding_DVMV_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                     call Broken_Hills_VNNB_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                         call Broken_Hills_RDRC_Encounter();
                                                                                     end
                                                                                     else begin
-                                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                             call Redding_DMRV_Encounter();
                                                                                         end
                                                                                     end
@@ -5852,64 +5852,64 @@ end
 procedure VC_Red_Encounters
 begin
     variable LVar0 := 0;
-    LVar0 := global_var(283) - global_var(275);
-    if (global_var(283) == 1) then begin
+    LVar0 := global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) - global_var(GVAR_CARAVAN_ENCOUNTERS);
+    if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 1) then begin
         wm_area_set_pos(44, 700 + random(-25, 25), 125 + random(-25, 25));
         set_exit_grids(0, -2, 0, 20100, 0);
         game_time_advance(14 * (24 * (60 * (60 * 10))));
-        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
             call Redding_EPA_Encounter();
         end
         else begin
-            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                 call Redding_Reno_Encounter();
             end
             else begin
-                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                     call Redding_SRNRRN_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                         call Broken_Hills_Brok_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                             call Broken_Hills_NCR_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                 call Redding_Band_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                     call Redding_Red_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                         call Broken_Hills_VPat_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                             call Redding_NRNR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                 call Redding_DNRV_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                     call Redding_DVMV_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                         call Broken_Hills_VNNB_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                             call Broken_Hills_RDRC_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                 call Redding_DMRV_Encounter();
                                                             end
                                                         end
@@ -5927,64 +5927,64 @@ begin
         end
     end
     else begin
-        if (global_var(283) == 2) then begin
+        if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 2) then begin
             if (LVar0 == 0) then begin
                 wm_area_set_pos(44, 975 + random(-25, 25), 175 + random(-25, 25));
                 set_exit_grids(0, -2, 0, 20100, 0);
                 game_time_advance(11 * (24 * (60 * (60 * 10))));
-                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                     call Redding_EPA_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                         call Redding_Reno_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                             call Redding_SRNRRN_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                 call Broken_Hills_Brok_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                     call Broken_Hills_NCR_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                         call Redding_Band_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                             call Redding_Red_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                 call Broken_Hills_VPat_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                     call Redding_NRNR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                         call Redding_DNRV_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                             call Redding_DVMV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                 call Broken_Hills_VNNB_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                     call Broken_Hills_RDRC_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                         call Redding_DMRV_Encounter();
                                                                     end
                                                                 end
@@ -6006,59 +6006,59 @@ begin
                     wm_area_set_pos(44, 475 + random(-25, 25), 300 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(8 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -6078,64 +6078,64 @@ begin
             end
         end
         else begin
-            if (global_var(283) == 3) then begin
+            if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 3) then begin
                 if (LVar0 == 0) then begin
                     wm_area_set_pos(44, 1025 + random(-25, 25), 225 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(9 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -6157,59 +6157,59 @@ begin
                         wm_area_set_pos(44, 675 + random(-25, 25), 125 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(7 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -6231,59 +6231,59 @@ begin
                             wm_area_set_pos(44, 475 + random(-25, 25), 525 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(6 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -6304,64 +6304,64 @@ begin
                 end
             end
             else begin
-                if (global_var(283) == 4) then begin
+                if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 4) then begin
                     if (LVar0 == 0) then begin
                         wm_area_set_pos(44, 1075 + random(-25, 25), 225 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(6 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -6383,59 +6383,59 @@ begin
                             wm_area_set_pos(44, 775 + random(-25, 25), 125 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(4 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -6457,59 +6457,59 @@ begin
                                 wm_area_set_pos(44, 575 + random(-25, 25), 175 + random(-25, 25));
                                 set_exit_grids(0, -2, 0, 20100, 0);
                                 game_time_advance(6 * (24 * (60 * (60 * 10))));
-                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                     call Redding_EPA_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                         call Redding_Reno_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                             call Redding_SRNRRN_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                 call Broken_Hills_Brok_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                     call Broken_Hills_NCR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                         call Redding_Band_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                             call Redding_Red_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                 call Broken_Hills_VPat_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                     call Redding_NRNR_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                         call Redding_DNRV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                             call Redding_DVMV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                 call Broken_Hills_VNNB_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                     call Broken_Hills_RDRC_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                         call Redding_DMRV_Encounter();
                                                                                     end
                                                                                 end
@@ -6531,59 +6531,59 @@ begin
                                     wm_area_set_pos(44, 475 + random(-25, 25), 575 + random(-25, 25));
                                     set_exit_grids(0, -2, 0, 20100, 0);
                                     game_time_advance(5 * (24 * (60 * (60 * 10))));
-                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                         call Redding_EPA_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                             call Redding_Reno_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                                 call Redding_SRNRRN_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                     call Broken_Hills_Brok_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                         call Broken_Hills_NCR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                             call Redding_Band_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                                 call Redding_Red_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                     call Broken_Hills_VPat_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                         call Redding_NRNR_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                             call Redding_DNRV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                                 call Redding_DVMV_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                     call Broken_Hills_VNNB_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                         call Broken_Hills_RDRC_Encounter();
                                                                                     end
                                                                                     else begin
-                                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                             call Redding_DMRV_Encounter();
                                                                                         end
                                                                                     end
@@ -6614,63 +6614,63 @@ end
 procedure Reno_Red_Encounters
 begin
     variable LVar0 := 0;
-    LVar0 := global_var(283) - global_var(275);
-    if (global_var(283) == 1) then begin
+    LVar0 := global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) - global_var(GVAR_CARAVAN_ENCOUNTERS);
+    if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 1) then begin
         wm_area_set_pos(44, 775 + random(-25, 25), 775 + random(-25, 25));
         set_exit_grids(0, -2, 0, 20100, 0);
-        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
             call Redding_EPA_Encounter();
         end
         else begin
-            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                 call Redding_Reno_Encounter();
             end
             else begin
-                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                     call Redding_SRNRRN_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                         call Broken_Hills_Brok_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                             call Broken_Hills_NCR_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                 call Redding_Band_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                     call Redding_Red_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                         call Broken_Hills_VPat_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                             call Redding_NRNR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                 call Redding_DNRV_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                     call Redding_DVMV_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                         call Broken_Hills_VNNB_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                             call Broken_Hills_RDRC_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                 call Redding_DMRV_Encounter();
                                                             end
                                                         end
@@ -6689,64 +6689,64 @@ begin
         game_time_advance(6 * (24 * (60 * (60 * 10))));
     end
     else begin
-        if (global_var(283) == 2) then begin
+        if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 2) then begin
             if (LVar0 == 0) then begin
                 wm_area_set_pos(44, 750 + random(-25, 25), 925 + random(-25, 25));
                 set_exit_grids(0, -2, 0, 20100, 0);
                 game_time_advance(4 * (24 * (60 * (60 * 10))));
-                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                     call Redding_EPA_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                         call Redding_Reno_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                             call Redding_SRNRRN_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                 call Broken_Hills_Brok_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                     call Broken_Hills_NCR_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                         call Redding_Band_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                             call Redding_Red_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                 call Broken_Hills_VPat_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                     call Redding_NRNR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                         call Redding_DNRV_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                             call Redding_DVMV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                 call Broken_Hills_VNNB_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                     call Broken_Hills_RDRC_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                         call Redding_DMRV_Encounter();
                                                                     end
                                                                 end
@@ -6768,59 +6768,59 @@ begin
                     wm_area_set_pos(44, 475 + random(-25, 25), 700 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(4 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -6840,64 +6840,64 @@ begin
             end
         end
         else begin
-            if (global_var(283) == 3) then begin
+            if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 3) then begin
                 if (LVar0 == 0) then begin
                     wm_area_set_pos(44, 925 + random(-25, 25), 925 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(3 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -6919,59 +6919,59 @@ begin
                         wm_area_set_pos(44, 725 + random(-25, 25), 875 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(3 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -6993,59 +6993,59 @@ begin
                             wm_area_set_pos(44, 675 + random(-25, 25), 675 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(3 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -7066,64 +7066,64 @@ begin
                 end
             end
             else begin
-                if (global_var(283) == 4) then begin
+                if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 4) then begin
                     if (LVar0 == 0) then begin
                         wm_area_set_pos(44, 975 + random(-25, 25), 925 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(5 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -7145,59 +7145,59 @@ begin
                             wm_area_set_pos(44, 750 + random(-25, 25), 925 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(5 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -7219,59 +7219,59 @@ begin
                                 wm_area_set_pos(44, 725 + random(-25, 25), 800 + random(-25, 25));
                                 set_exit_grids(0, -2, 0, 20100, 0);
                                 game_time_advance(5 * (24 * (60 * (60 * 10))));
-                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                     call Redding_EPA_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                         call Redding_Reno_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                             call Redding_SRNRRN_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                 call Broken_Hills_Brok_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                     call Broken_Hills_NCR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                         call Redding_Band_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                             call Redding_Red_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                 call Broken_Hills_VPat_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                     call Redding_NRNR_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                         call Redding_DNRV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                             call Redding_DVMV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                 call Broken_Hills_VNNB_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                     call Broken_Hills_RDRC_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                         call Redding_DMRV_Encounter();
                                                                                     end
                                                                                 end
@@ -7293,59 +7293,59 @@ begin
                                     wm_area_set_pos(44, 650 + random(-25, 25), 600 + random(-25, 25));
                                     set_exit_grids(0, -2, 0, 20100, 0);
                                     game_time_advance(5 * (24 * (60 * (60 * 10))));
-                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                         call Redding_EPA_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                             call Redding_Reno_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                                 call Redding_SRNRRN_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                     call Broken_Hills_Brok_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                         call Broken_Hills_NCR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                             call Redding_Band_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                                 call Redding_Red_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                     call Broken_Hills_VPat_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                         call Redding_NRNR_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                             call Redding_DNRV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                                 call Redding_DVMV_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                     call Broken_Hills_VNNB_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                         call Broken_Hills_RDRC_Encounter();
                                                                                     end
                                                                                     else begin
-                                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                             call Redding_DMRV_Encounter();
                                                                                         end
                                                                                     end
@@ -7376,64 +7376,64 @@ end
 procedure NCR_Red_Encounters
 begin
     variable LVar0 := 0;
-    LVar0 := global_var(283) - global_var(275);
-    if (global_var(283) == 1) then begin
+    LVar0 := global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) - global_var(GVAR_CARAVAN_ENCOUNTERS);
+    if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 1) then begin
         wm_area_set_pos(44, 700 + random(-25, 25), 1000 + random(-25, 25));
         set_exit_grids(0, -2, 0, 20100, 0);
         game_time_advance(16 * (24 * (60 * (60 * 10))));
-        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
             call Redding_EPA_Encounter();
         end
         else begin
-            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                 call Redding_Reno_Encounter();
             end
             else begin
-                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                     call Redding_SRNRRN_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                         call Broken_Hills_Brok_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                             call Broken_Hills_NCR_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                 call Redding_Band_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                     call Redding_Red_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                         call Broken_Hills_VPat_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                             call Redding_NRNR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                 call Redding_DNRV_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                     call Redding_DVMV_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                         call Broken_Hills_VNNB_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                             call Broken_Hills_RDRC_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                 call Redding_DMRV_Encounter();
                                                             end
                                                         end
@@ -7451,64 +7451,64 @@ begin
         end
     end
     else begin
-        if (global_var(283) == 2) then begin
+        if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 2) then begin
             if (LVar0 == 0) then begin
                 wm_area_set_pos(44, 800 + random(-25, 25), 1200 + random(-25, 25));
                 set_exit_grids(0, -2, 0, 20100, 0);
                 game_time_advance(10 * (24 * (60 * (60 * 10))));
-                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                     call Redding_EPA_Encounter();
                 end
                 else begin
-                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                         call Redding_Reno_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                             call Redding_SRNRRN_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                 call Broken_Hills_Brok_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                     call Broken_Hills_NCR_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                         call Redding_Band_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                             call Redding_Red_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                 call Broken_Hills_VPat_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                     call Redding_NRNR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                         call Redding_DNRV_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                             call Redding_DVMV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                 call Broken_Hills_VNNB_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                     call Broken_Hills_RDRC_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                         call Redding_DMRV_Encounter();
                                                                     end
                                                                 end
@@ -7530,59 +7530,59 @@ begin
                     wm_area_set_pos(44, 675 + random(-25, 25), 925 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(10 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -7602,64 +7602,64 @@ begin
             end
         end
         else begin
-            if (global_var(283) == 3) then begin
+            if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 3) then begin
                 if (LVar0 == 0) then begin
                     wm_area_set_pos(44, 900 + random(-25, 25), 1350 + random(-25, 25));
                     set_exit_grids(0, -2, 0, 20100, 0);
                     game_time_advance(8 * (24 * (60 * (60 * 10))));
-                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                         call Redding_EPA_Encounter();
                     end
                     else begin
-                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                             call Redding_Reno_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                 call Redding_SRNRRN_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                     call Broken_Hills_Brok_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                         call Broken_Hills_NCR_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                             call Redding_Band_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                 call Redding_Red_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                     call Broken_Hills_VPat_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                         call Redding_NRNR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                             call Redding_DNRV_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                 call Redding_DVMV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                     call Broken_Hills_VNNB_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                         call Broken_Hills_RDRC_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                             call Redding_DMRV_Encounter();
                                                                         end
                                                                     end
@@ -7681,59 +7681,59 @@ begin
                         wm_area_set_pos(44, 725 + random(-25, 25), 1100 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(8 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -7755,59 +7755,59 @@ begin
                             wm_area_set_pos(44, 675 + random(-25, 25), 825 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(8 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -7828,64 +7828,64 @@ begin
                 end
             end
             else begin
-                if (global_var(283) == 4) then begin
+                if (global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) == 4) then begin
                     if (LVar0 == 0) then begin
                         wm_area_set_pos(44, 1050 + random(-25, 25), 1400 + random(-25, 25));
                         set_exit_grids(0, -2, 0, 20100, 0);
                         game_time_advance(5 * (24 * (60 * (60 * 10))));
-                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                             call Redding_EPA_Encounter();
                         end
                         else begin
-                            if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                            if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                 call Redding_Reno_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                     call Redding_SRNRRN_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                         call Broken_Hills_Brok_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                        if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                             call Broken_Hills_NCR_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                            if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                 call Redding_Band_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                     call Redding_Red_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                    if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                         call Broken_Hills_VPat_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                        if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                             call Redding_NRNR_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                 call Redding_DNRV_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                     call Redding_DVMV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                    if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                         call Broken_Hills_VNNB_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                        if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                             call Broken_Hills_RDRC_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                 call Redding_DMRV_Encounter();
                                                                             end
                                                                         end
@@ -7907,59 +7907,59 @@ begin
                             wm_area_set_pos(44, 725 + random(-25, 25), 1175 + random(-25, 25));
                             set_exit_grids(0, -2, 0, 20100, 0);
                             game_time_advance(6 * (24 * (60 * (60 * 10))));
-                            if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                            if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                 call Redding_EPA_Encounter();
                             end
                             else begin
-                                if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                     call Redding_Reno_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                    if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                         call Redding_SRNRRN_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                             call Broken_Hills_Brok_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                            if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                 call Broken_Hills_NCR_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                     call Redding_Band_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                         call Redding_Red_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                        if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                             call Broken_Hills_VPat_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                            if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                 call Redding_NRNR_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                     call Redding_DNRV_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                    if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                         call Redding_DVMV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                        if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                             call Broken_Hills_VNNB_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                            if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                 call Broken_Hills_RDRC_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                     call Redding_DMRV_Encounter();
                                                                                 end
                                                                             end
@@ -7981,59 +7981,59 @@ begin
                                 wm_area_set_pos(44, 675 + random(-25, 25), 825 + random(-25, 25));
                                 set_exit_grids(0, -2, 0, 20100, 0);
                                 game_time_advance(6 * (24 * (60 * (60 * 10))));
-                                if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                     call Redding_EPA_Encounter();
                                 end
                                 else begin
-                                    if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                    if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                         call Redding_Reno_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                        if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                             call Redding_SRNRRN_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                 call Broken_Hills_Brok_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                     call Broken_Hills_NCR_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                    if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                         call Redding_Band_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                             call Redding_Red_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                            if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                 call Broken_Hills_VPat_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                     call Redding_NRNR_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                         call Redding_DNRV_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                        if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                             call Redding_DVMV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                            if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                 call Broken_Hills_VNNB_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                     call Broken_Hills_RDRC_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                    if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                         call Redding_DMRV_Encounter();
                                                                                     end
                                                                                 end
@@ -8055,59 +8055,59 @@ begin
                                     wm_area_set_pos(44, 675 + random(-25, 25), 675 + random(-25, 25));
                                     set_exit_grids(0, -2, 0, 20100, 0);
                                     game_time_advance(5 * (24 * (60 * (60 * 10))));
-                                    if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 750) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1150)) then begin
+                                    if ((worldmap_xpos >= 400) and (worldmap_xpos <= 750) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1150)) then begin
                                         call Redding_EPA_Encounter();
                                     end
                                     else begin
-                                        if ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 800) and (metarule(45, 0) <= 1100) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800))) then begin
+                                        if ((worldmap_xpos >= 750) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 800) and (worldmap_ypos <= 1100) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800))) then begin
                                             call Redding_Reno_Encounter();
                                         end
                                         else begin
-                                            if ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 700) and (metarule(45, 0) <= 800)) then begin
+                                            if ((worldmap_xpos >= 550) and (worldmap_xpos <= 800) and (worldmap_ypos >= 700) and (worldmap_ypos <= 800)) then begin
                                                 call Redding_SRNRRN_Encounter();
                                             end
                                             else begin
-                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 800) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 750) and (metarule(45, 0) <= 1050))) then begin
+                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 750) and (worldmap_ypos <= 800) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 750) and (worldmap_ypos <= 1050))) then begin
                                                     call Broken_Hills_Brok_Encounter();
                                                 end
                                                 else begin
-                                                    if ((metarule(44, 0) >= 1000) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1500)) then begin
+                                                    if ((worldmap_xpos >= 1000) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1500)) then begin
                                                         call Broken_Hills_NCR_Encounter();
                                                     end
                                                     else begin
-                                                        if ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 0) and (metarule(45, 0) <= 100) or ((metarule(44, 0) >= 650) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 400))) then begin
+                                                        if ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 0) and (worldmap_ypos <= 100) or ((worldmap_xpos >= 650) and (worldmap_xpos <= 800) and (worldmap_ypos >= 150) and (worldmap_ypos <= 400))) then begin
                                                             call Redding_Band_Encounter();
                                                         end
                                                         else begin
-                                                            if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 700) and not((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600)) and not((metarule(44, 0) >= 800) and (metarule(44, 0) <= 850) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 700))) then begin
+                                                            if ((worldmap_xpos >= 500) and (worldmap_xpos <= 850) and (worldmap_ypos >= 400) and (worldmap_ypos <= 700) and not((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600)) and not((worldmap_xpos >= 800) and (worldmap_xpos <= 850) and (worldmap_ypos >= 650) and (worldmap_ypos <= 700))) then begin
                                                                 call Redding_Red_Encounter();
                                                             end
                                                             else begin
-                                                                if ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 450) and not((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1400) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300)) and not((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 450))) then begin
+                                                                if ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 450) and not((worldmap_xpos >= 1150) and (worldmap_xpos <= 1400) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300)) and not((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 400) and (worldmap_ypos <= 450))) then begin
                                                                     call Broken_Hills_VPat_Encounter();
                                                                 end
                                                                 else begin
-                                                                    if ((metarule(44, 0) >= 700) and (metarule(44, 0) <= 800) and (metarule(45, 0) >= 1150) and (metarule(45, 0) <= 1300) or ((metarule(44, 0) >= 750) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 1300) and (metarule(45, 0) <= 1350)) or ((metarule(44, 0) >= 850) and (metarule(44, 0) <= 1000) and (metarule(45, 0) >= 1350) and (metarule(45, 0) <= 1400))) then begin
+                                                                    if ((worldmap_xpos >= 700) and (worldmap_xpos <= 800) and (worldmap_ypos >= 1150) and (worldmap_ypos <= 1300) or ((worldmap_xpos >= 750) and (worldmap_xpos <= 950) and (worldmap_ypos >= 1300) and (worldmap_ypos <= 1350)) or ((worldmap_xpos >= 850) and (worldmap_xpos <= 1000) and (worldmap_ypos >= 1350) and (worldmap_ypos <= 1400))) then begin
                                                                         call Redding_NRNR_Encounter();
                                                                     end
                                                                     else begin
-                                                                        if ((metarule(44, 0) >= 400) and (metarule(44, 0) <= 450) and (metarule(45, 0) >= 400) and (metarule(45, 0) <= 500) or ((metarule(44, 0) >= 450) and (metarule(44, 0) <= 500) and (metarule(45, 0) >= 300) and (metarule(45, 0) <= 550)) or ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 550) and (metarule(45, 0) >= 500) and (metarule(45, 0) <= 600))) then begin
+                                                                        if ((worldmap_xpos >= 400) and (worldmap_xpos <= 450) and (worldmap_ypos >= 400) and (worldmap_ypos <= 500) or ((worldmap_xpos >= 450) and (worldmap_xpos <= 500) and (worldmap_ypos >= 300) and (worldmap_ypos <= 550)) or ((worldmap_xpos >= 500) and (worldmap_xpos <= 550) and (worldmap_ypos >= 500) and (worldmap_ypos <= 600))) then begin
                                                                             call Redding_DNRV_Encounter();
                                                                         end
                                                                         else begin
-                                                                            if ((metarule(44, 0) >= 950) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 250) and (metarule(45, 0) <= 300))) then begin
+                                                                            if ((worldmap_xpos >= 950) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 250) and (worldmap_ypos <= 300))) then begin
                                                                                 call Redding_DVMV_Encounter();
                                                                             end
                                                                             else begin
-                                                                                if ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1200) and (metarule(45, 0) >= 1000) and (metarule(45, 0) <= 1400) or ((metarule(44, 0) >= 1050) and (metarule(44, 0) <= 1100) and (metarule(45, 0) >= 1200) and (metarule(45, 0) <= 1250)) or ((metarule(44, 0) >= 1100) and (metarule(44, 0) <= 1150) and (metarule(45, 0) >= 1400) and (metarule(45, 0) <= 1450))) then begin
+                                                                                if ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1200) and (worldmap_ypos >= 1000) and (worldmap_ypos <= 1400) or ((worldmap_xpos >= 1050) and (worldmap_xpos <= 1100) and (worldmap_ypos >= 1200) and (worldmap_ypos <= 1250)) or ((worldmap_xpos >= 1100) and (worldmap_xpos <= 1150) and (worldmap_ypos >= 1400) and (worldmap_ypos <= 1450))) then begin
                                                                                     call Broken_Hills_VNNB_Encounter();
                                                                                 end
                                                                                 else begin
-                                                                                    if ((metarule(44, 0) >= 1200) and (metarule(44, 0) <= 1450) and (metarule(45, 0) >= 450) and (metarule(45, 0) <= 650) or ((metarule(44, 0) >= 1150) and (metarule(44, 0) <= 1300) and (metarule(45, 0) >= 650) and (metarule(45, 0) <= 750))) then begin
+                                                                                    if ((worldmap_xpos >= 1200) and (worldmap_xpos <= 1450) and (worldmap_ypos >= 450) and (worldmap_ypos <= 650) or ((worldmap_xpos >= 1150) and (worldmap_xpos <= 1300) and (worldmap_ypos >= 650) and (worldmap_ypos <= 750))) then begin
                                                                                         call Broken_Hills_RDRC_Encounter();
                                                                                     end
                                                                                     else begin
-                                                                                        if ((metarule(44, 0) >= 500) and (metarule(44, 0) <= 600) and (metarule(45, 0) >= 150) and (metarule(45, 0) <= 250) or ((metarule(44, 0) >= 550) and (metarule(44, 0) <= 950) and (metarule(45, 0) >= 100) and (metarule(45, 0) <= 150)) or ((metarule(44, 0) >= 900) and (metarule(44, 0) <= 1050) and (metarule(45, 0) >= 200) and (metarule(45, 0) <= 250))) then begin
+                                                                                        if ((worldmap_xpos >= 500) and (worldmap_xpos <= 600) and (worldmap_ypos >= 150) and (worldmap_ypos <= 250) or ((worldmap_xpos >= 550) and (worldmap_xpos <= 950) and (worldmap_ypos >= 100) and (worldmap_ypos <= 150)) or ((worldmap_xpos >= 900) and (worldmap_xpos <= 1050) and (worldmap_ypos >= 200) and (worldmap_ypos <= 250))) then begin
                                                                                             call Redding_DMRV_Encounter();
                                                                                         end
                                                                                     end
@@ -8141,7 +8141,7 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 10) then begin
         debug_msg("DNRV_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 350));
+        display_mstr(350);
         Encounter_Counter := random(7, 12);
         Encounter_Rotation := random(0, 4);
         call DNRV_Den_Caravan();
@@ -8149,7 +8149,7 @@ begin
     else begin
         if (LVar0 < 20) then begin
             debug_msg("DNRV_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 351));
+            display_mstr(351);
             Encounter_Counter := random(6, 8);
             Encounter_Rotation := random(0, 3);
             call DVMV_Highwaymen();
@@ -8160,7 +8160,7 @@ begin
         else begin
             if (LVar0 < 30) then begin
                 debug_msg("DNRV_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 352));
+                display_mstr(352);
                 Encounter_Counter := random(8, 12);
                 Encounter_Rotation := random(0, 5);
                 call DVMV_Highwaymen();
@@ -8168,7 +8168,7 @@ begin
             else begin
                 if (LVar0 < 40) then begin
                     debug_msg("DNRV_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 353));
+                    display_mstr(353);
                     Encounter_Counter := random(6, 12);
                     Encounter_Rotation := random(0, 5);
                     call DVMV_Robbers();
@@ -8176,7 +8176,7 @@ begin
                 else begin
                     if (LVar0 < 43) then begin
                         debug_msg("DNRV_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 354));
+                        display_mstr(354);
                         Encounter_Counter := random(6, 10);
                         Encounter_Rotation := 3;
                         call DNRV_Redding_Caravan();
@@ -8189,7 +8189,7 @@ begin
                     else begin
                         if (LVar0 < 48) then begin
                             debug_msg("DNRV_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 355));
+                            display_mstr(355);
                             Encounter_Counter := random(4, 8);
                             Encounter_Rotation := random(0, 4);
                             call DNRV_Reno_Caravan();
@@ -8202,7 +8202,7 @@ begin
                         else begin
                             if (LVar0 < 58) then begin
                                 debug_msg("DNRV_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 356));
+                                display_mstr(356);
                                 Encounter_Counter := random(4, 8);
                                 Encounter_Rotation := random(3, 5);
                                 call DNRV_Den_Caravan();
@@ -8215,7 +8215,7 @@ begin
                             else begin
                                 if (LVar0 < 68) then begin
                                     debug_msg("DNRV_Encounter Table, Encounter 07");
-                                    display_msg(message_str(680, 357));
+                                    display_mstr(357);
                                     Encounter_Counter := random(8, 12);
                                     Encounter_Rotation := random(0, 5);
                                     call DVMV_Robbers();
@@ -8228,7 +8228,7 @@ begin
                                 else begin
                                     if (LVar0 < 78) then begin
                                         debug_msg("DNRV_Encounter Table, Encounter 08");
-                                        display_msg(message_str(680, 358));
+                                        display_mstr(358);
                                         Encounter_Counter := random(4, 8);
                                         Encounter_Rotation := 3;
                                         call DNRV_Den_Caravan();
@@ -8241,7 +8241,7 @@ begin
                                     else begin
                                         if (LVar0 < 88) then begin
                                             debug_msg("DNRV_Encounter Table, Encounter 09");
-                                            display_msg(message_str(680, 359));
+                                            display_mstr(359);
                                             Encounter_Counter := random(6, 8);
                                             Encounter_Rotation := random(3, 5);
                                             call DVMV_Highwaymen();
@@ -8254,7 +8254,7 @@ begin
                                         else begin
                                             if (LVar0 < 93) then begin
                                                 debug_msg("DNRV_Encounter Table, Encounter 10");
-                                                display_msg(message_str(680, 360));
+                                                display_mstr(360);
                                                 Encounter_Counter := random(6, 8);
                                                 Encounter_Rotation := 4;
                                                 call DNRV_Vault_Caravan();
@@ -8262,7 +8262,7 @@ begin
                                             else begin
                                                 if (LVar0 < 100) then begin
                                                     debug_msg("DNRV_Encounter Table, Encounter 11");
-                                                    display_msg(message_str(680, 361));
+                                                    display_mstr(361);
                                                     Encounter_Counter := random(4, 8);
                                                     Encounter_Rotation := 3;
                                                     call DNRV_Den_Caravan();
@@ -8288,7 +8288,7 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 7) then begin
         debug_msg("DMRV_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 400));
+        display_mstr(400);
         Encounter_Counter := random(6, 9);
         Encounter_Rotation := random(0, 5);
         call DMRV_Highwaymen();
@@ -8296,7 +8296,7 @@ begin
     else begin
         if (LVar0 < 14) then begin
             debug_msg("DMRV_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 401));
+            display_mstr(401);
             Encounter_Counter := random(6, 9);
             Encounter_Rotation := random(0, 5);
             call DMRV_Robbers();
@@ -8304,7 +8304,7 @@ begin
         else begin
             if (LVar0 < 21) then begin
                 debug_msg("DMRV_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 402));
+                display_mstr(402);
                 Encounter_Counter := random(3, 6);
                 Encounter_Rotation := random(0, 2);
                 call DMRV_Robbers();
@@ -8315,7 +8315,7 @@ begin
             else begin
                 if (LVar0 < 28) then begin
                     debug_msg("DMRV_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 403));
+                    display_mstr(403);
                     Encounter_Counter := random(3, 6);
                     Encounter_Rotation := random(2, 5);
                     call DMRV_Golden_Geckos();
@@ -8326,15 +8326,15 @@ begin
                 else begin
                     if (LVar0 < 35) then begin
                         debug_msg("DMRV_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 404));
+                        display_mstr(404);
                         Encounter_Counter := random(5, 8);
-                        Encounter_Rotation := has_trait(1, dude_obj, 10);
+                        Encounter_Rotation := obj_get_rot(dude_obj);
                         call DMRV_Golden_Geckos();
                     end
                     else begin
                         if (LVar0 < 42) then begin
                             debug_msg("DMRV_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 405));
+                            display_mstr(405);
                             Encounter_Counter := random(6, 9);
                             Encounter_Rotation := random(0, 4);
                             call Klad_Mole_Pig_Rat();
@@ -8342,7 +8342,7 @@ begin
                         else begin
                             if (LVar0 < 49) then begin
                                 debug_msg("DMRV_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 406));
+                                display_mstr(406);
                                 Encounter_Counter := random(5, 10);
                                 Encounter_Rotation := random(2, 4);
                                 call DMRV_Scorpions();
@@ -8350,7 +8350,7 @@ begin
                             else begin
                                 if (LVar0 < 56) then begin
                                     debug_msg("DMRV_Encounter Table, Encounter 07");
-                                    display_msg(message_str(680, 407));
+                                    display_mstr(407);
                                     Encounter_Counter := random(10, 15);
                                     Encounter_Rotation := random(0, 5);
                                     call ARRO_Spore_Plants();
@@ -8358,7 +8358,7 @@ begin
                                 else begin
                                     if (LVar0 < 63) then begin
                                         debug_msg("DMRV_Encounter Table, Encounter 08");
-                                        display_msg(message_str(680, 408));
+                                        display_mstr(408);
                                         Encounter_Counter := random(5, 8);
                                         Encounter_Rotation := random(2, 5);
                                         call DMRV_Robbers();
@@ -8371,35 +8371,35 @@ begin
                                     else begin
                                         if (LVar0 < 68) then begin
                                             debug_msg("DMRV_Encounter Table, Encounter 09");
-                                            display_msg(message_str(680, 409));
+                                            display_mstr(409);
                                             Encounter_Counter := random(6, 8);
-                                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                            Encounter_Rotation := obj_get_rot(dude_obj);
                                             call DMRV_Caravan();
                                             Combat1 := Critter;
                                             Encounter_Counter := random(6, 10);
-                                            Encounter_Rotation := (has_trait(1, dude_obj, 10) + 1) % 6;
+                                            Encounter_Rotation := (obj_get_rot(dude_obj) + 1) % 6;
                                             call DMRV_Highwaymen();
                                             Combat2 := Critter;
                                         end
                                         else begin
                                             if (LVar0 < 73) then begin
                                                 debug_msg("DMRV_Encounter Table, Encounter 10");
-                                                display_msg(message_str(680, 410));
+                                                display_mstr(410);
                                                 Encounter_Counter := random(6, 8);
-                                                Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                                Encounter_Rotation := obj_get_rot(dude_obj);
                                                 call DMRV_Caravan();
                                                 Combat1 := Critter;
                                                 Encounter_Counter := random(6, 10);
-                                                Encounter_Counter := (has_trait(1, dude_obj, 10) + 1) % 6;
+                                                Encounter_Counter := (obj_get_rot(dude_obj) + 1) % 6;
                                                 call DMRV_Robbers();
                                                 Combat2 := Critter;
                                             end
                                             else begin
                                                 if (LVar0 < 78) then begin
                                                     debug_msg("DMRV_Encounter Table, Encounter 11");
-                                                    display_msg(message_str(680, 411));
+                                                    display_mstr(411);
                                                     Encounter_Counter := random(6, 8);
-                                                    Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                                    Encounter_Rotation := obj_get_rot(dude_obj);
                                                     call DMRV_Caravan();
                                                     Combat1 := Critter;
                                                     Encounter_Counter := random(6, 10);
@@ -8410,7 +8410,7 @@ begin
                                                 else begin
                                                     if (LVar0 < 85) then begin
                                                         debug_msg("DMRV_Encounter Table, Encounter 12");
-                                                        display_msg(message_str(680, 412));
+                                                        display_mstr(412);
                                                         Encounter_Counter := random(5, 8);
                                                         Encounter_Rotation := random(0, 4);
                                                         call DMRV_Golden_Geckos();
@@ -8423,9 +8423,9 @@ begin
                                                     else begin
                                                         if (LVar0 < 100) then begin
                                                             debug_msg("DMRV_Encounter Table, Encounter 13");
-                                                            display_msg(message_str(680, 413));
+                                                            display_mstr(413);
                                                             Encounter_Counter := random(6, 8);
-                                                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                                            Encounter_Rotation := obj_get_rot(dude_obj);
                                                             call DMRV_Caravan();
                                                         end
                                                     end
@@ -8451,7 +8451,7 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 10) then begin
         debug_msg("Band_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 450));
+        display_mstr(450);
         Encounter_Counter := random(3, 6);
         Encounter_Rotation := random(2, 5);
         call DMRV_Highwaymen();
@@ -8462,7 +8462,7 @@ begin
     else begin
         if (LVar0 < 20) then begin
             debug_msg("Band_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 451));
+            display_mstr(451);
             Encounter_Counter := random(3, 6);
             Encounter_Rotation := random(3, 5);
             call DMRV_Highwaymen();
@@ -8473,15 +8473,15 @@ begin
         else begin
             if (LVar0 < 30) then begin
                 debug_msg("Band_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 452));
+                display_mstr(452);
                 Encounter_Counter := random(6, 10);
-                Encounter_Rotation := has_trait(1, dude_obj, 10);
+                Encounter_Rotation := obj_get_rot(dude_obj);
                 call DMRV_Golden_Geckos();
             end
             else begin
                 if (LVar0 < 40) then begin
                     debug_msg("Band_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 453));
+                    display_mstr(453);
                     Encounter_Counter := random(6, 8);
                     Encounter_Rotation := random(2, 4);
                     call DMRV_Scorpions();
@@ -8492,7 +8492,7 @@ begin
                 else begin
                     if (LVar0 < 50) then begin
                         debug_msg("Band_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 454));
+                        display_mstr(454);
                         Encounter_Counter := random(4, 6);
                         Encounter_Rotation := random(3, 5);
                         call DMRV_Robbers();
@@ -8505,22 +8505,22 @@ begin
                     else begin
                         if (LVar0 < 60) then begin
                             debug_msg("Band_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 455));
+                            display_mstr(455);
                             Encounter_Counter := random(6, 8);
-                            Encounter_Rotation := (has_trait(1, dude_obj, 10) + 3) % 6;
+                            Encounter_Rotation := (obj_get_rot(dude_obj) + 3) % 6;
                             call DMRV_Scorpions();
                             Combat1 := Critter;
                             Encounter_Counter := random(4, 6);
-                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                            Encounter_Rotation := obj_get_rot(dude_obj);
                             call DMRV_Robbers();
                             Combat2 := Critter;
                         end
                         else begin
                             if (LVar0 < 70) then begin
                                 debug_msg("Band_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 456));
+                                display_mstr(456);
                                 Encounter_Counter := random(4, 5);
-                                Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                Encounter_Rotation := obj_get_rot(dude_obj);
                                 call DMRV_Caravan();
                                 Combat1 := Critter;
                                 Encounter_Counter := random(6, 8);
@@ -8531,9 +8531,9 @@ begin
                             else begin
                                 if (LVar0 < 80) then begin
                                     debug_msg("Band_Encounter Table, Encounter 07");
-                                    display_msg(message_str(680, 457));
+                                    display_mstr(457);
                                     Encounter_Counter := random(4, 5);
-                                    Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                    Encounter_Rotation := obj_get_rot(dude_obj);
                                     call DMRV_Caravan();
                                     Combat1 := Critter;
                                     Encounter_Counter := random(5, 9);
@@ -8544,7 +8544,7 @@ begin
                                 else begin
                                     if (LVar0 < 90) then begin
                                         debug_msg("Band_Encounter Table, Encounter 08");
-                                        display_msg(message_str(680, 458));
+                                        display_mstr(458);
                                         Encounter_Counter := random(3, 6);
                                         Encounter_Rotation := random(0, 4);
                                         call DMRV_Highwaymen();
@@ -8557,9 +8557,9 @@ begin
                                     else begin
                                         if (LVar0 < 100) then begin
                                             debug_msg("Band_Encounter Table, Encounter 09");
-                                            display_msg(message_str(680, 459));
+                                            display_mstr(459);
                                             Encounter_Counter := random(4, 5);
-                                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                            Encounter_Rotation := obj_get_rot(dude_obj);
                                             call DMRV_Caravan();
                                         end
                                     end
@@ -8581,7 +8581,7 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 8) then begin
         debug_msg("DVMV_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 500));
+        display_mstr(500);
         Encounter_Counter := random(6, 9);
         Encounter_Rotation := random(0, 3);
         call DVMV_Highwaymen();
@@ -8592,7 +8592,7 @@ begin
     else begin
         if (LVar0 < 16) then begin
             debug_msg("DVMV_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 501));
+            display_mstr(501);
             Encounter_Counter := random(5, 10);
             Encounter_Rotation := random(2, 4);
             call DVMV_Robbers();
@@ -8603,7 +8603,7 @@ begin
         else begin
             if (LVar0 < 24) then begin
                 debug_msg("DVMV_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 502));
+                display_mstr(502);
                 Encounter_Counter := random(7, 11);
                 Encounter_Rotation := random(0, 5);
                 call DVMV_Robbers();
@@ -8611,7 +8611,7 @@ begin
             else begin
                 if (LVar0 < 32) then begin
                     debug_msg("DVMV_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 503));
+                    display_mstr(503);
                     Encounter_Counter := random(7, 11);
                     Encounter_Rotation := random(2, 5);
                     call DVMV_Highwaymen();
@@ -8619,7 +8619,7 @@ begin
                 else begin
                     if (LVar0 < 40) then begin
                         debug_msg("DVMV_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 504));
+                        display_mstr(504);
                         Encounter_Counter := random(8, 13);
                         Encounter_Rotation := random(0, 5);
                         call DVMV_Mantis_Swarm();
@@ -8630,18 +8630,18 @@ begin
                     else begin
                         if (LVar0 < 48) then begin
                             debug_msg("DVMV_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 505));
+                            display_mstr(505);
                             Encounter_Counter := random(6, 8);
                             Encounter_Rotation := random(1, 4);
                             call DVMV_Wild_Dogs();
                             Encounter_Counter := random(6, 8);
-                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                            Encounter_Rotation := obj_get_rot(dude_obj);
                             call ARRO_Spore_Plants();
                         end
                         else begin
                             if (LVar0 < 56) then begin
                                 debug_msg("DVMV_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 506));
+                                display_mstr(506);
                                 Encounter_Counter := random(10, 15);
                                 Encounter_Rotation := random(0, 5);
                                 call DVMV_Mantis_Swarm();
@@ -8649,7 +8649,7 @@ begin
                             else begin
                                 if (LVar0 < 64) then begin
                                     debug_msg("DVMV_Encounter Table, Encounter 07");
-                                    display_msg(message_str(680, 507));
+                                    display_mstr(507);
                                     Encounter_Counter := random(6, 12);
                                     Encounter_Rotation := random(0, 5);
                                     call DVMV_Wild_Dogs();
@@ -8657,7 +8657,7 @@ begin
                                 else begin
                                     if (LVar0 < 72) then begin
                                         debug_msg("DVMV_Encounter Table, Encounter 08");
-                                        display_msg(message_str(680, 508));
+                                        display_mstr(508);
                                         Encounter_Counter := random(6, 9);
                                         Encounter_Rotation := random(3, 5);
                                         call DVMV_Robbers();
@@ -8670,9 +8670,9 @@ begin
                                     else begin
                                         if (LVar0 < 79) then begin
                                             debug_msg("DVMV_Encounter Table, Encounter 09");
-                                            display_msg(message_str(680, 508));
+                                            display_mstr(508);
                                             Encounter_Counter := random(6, 8);
-                                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                            Encounter_Rotation := obj_get_rot(dude_obj);
                                             call DVMV_Caravan();
                                             Combat1 := Critter;
                                             Encounter_Counter := random(10, 14);
@@ -8683,9 +8683,9 @@ begin
                                         else begin
                                             if (LVar0 < 86) then begin
                                                 debug_msg("DVMV_Encounter Table, Encounter 10");
-                                                display_msg(message_str(680, 510));
+                                                display_mstr(510);
                                                 Encounter_Counter := random(6, 8);
-                                                Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                                Encounter_Rotation := obj_get_rot(dude_obj);
                                                 call DVMV_Caravan();
                                                 Combat1 := Critter;
                                                 Encounter_Counter := random(6, 10);
@@ -8696,9 +8696,9 @@ begin
                                             else begin
                                                 if (LVar0 < 93) then begin
                                                     debug_msg("DVMV_Encounter Table, Encounter 11");
-                                                    display_msg(message_str(680, 511));
+                                                    display_mstr(511);
                                                     Encounter_Counter := random(6, 8);
-                                                    Encounter_Rotation := (has_trait(1, dude_obj, 10) + 1) % 6;
+                                                    Encounter_Rotation := (obj_get_rot(dude_obj) + 1) % 6;
                                                     call DVMV_Caravan();
                                                     Combat1 := Critter;
                                                     Encounter_Counter := random(6, 8);
@@ -8709,9 +8709,9 @@ begin
                                                 else begin
                                                     if (LVar0 < 100) then begin
                                                         debug_msg("DVMV_Encounter Table, Encounter 12");
-                                                        display_msg(message_str(680, 512));
+                                                        display_mstr(512);
                                                         Encounter_Counter := random(6, 8);
-                                                        Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                                        Encounter_Rotation := obj_get_rot(dude_obj);
                                                         call DVMV_Caravan();
                                                     end
                                                 end
@@ -8736,7 +8736,7 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 10) then begin
         debug_msg("Red_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 550));
+        display_mstr(550);
         Encounter_Counter := random(7, 12);
         Encounter_Rotation := random(0, 5);
         call DMRV_Golden_Geckos();
@@ -8747,7 +8747,7 @@ begin
     else begin
         if (LVar0 < 20) then begin
             debug_msg("Red_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 551));
+            display_mstr(551);
             Encounter_Counter := random(7, 10);
             Encounter_Rotation := random(1, 3);
             call Red_Claim_Jumper();
@@ -8755,7 +8755,7 @@ begin
         else begin
             if (LVar0 < 30) then begin
                 debug_msg("Red_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 552));
+                display_mstr(552);
                 Encounter_Counter := random(7, 12);
                 Encounter_Rotation := random(0, 5);
                 call Red_Wolves();
@@ -8763,7 +8763,7 @@ begin
             else begin
                 if (LVar0 < 35) then begin
                     debug_msg("Red_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 553));
+                    display_mstr(553);
                     Encounter_Counter := random(7, 12);
                     Encounter_Rotation := random(0, 4);
                     call DMRV_Golden_Geckos();
@@ -8771,7 +8771,7 @@ begin
                 else begin
                     if (LVar0 < 45) then begin
                         debug_msg("Red_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 554));
+                        display_mstr(554);
                         Encounter_Counter := random(3, 5);
                         Encounter_Rotation := random(1, 3);
                         call Red_Prospector();
@@ -8784,20 +8784,20 @@ begin
                     else begin
                         if (LVar0 < 55) then begin
                             debug_msg("Red_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 555));
+                            display_mstr(555);
                             Encounter_Counter := random(3, 5);
-                            Encounter_Rotation := (has_trait(1, dude_obj, 10) + 3) % 6;
+                            Encounter_Rotation := (obj_get_rot(dude_obj) + 3) % 6;
                             call Red_Trappers();
                             Combat1 := Critter;
                             Encounter_Counter := random(6, 12);
-                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                            Encounter_Rotation := obj_get_rot(dude_obj);
                             call DMRV_Golden_Geckos();
                             Combat2 := Critter;
                         end
                         else begin
                             if (LVar0 < 65) then begin
                                 debug_msg("Red_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 556));
+                                display_mstr(556);
                                 Encounter_Counter := random(2, 4);
                                 Encounter_Rotation := random(0, 3);
                                 call Red_Bootlegger();
@@ -8810,7 +8810,7 @@ begin
                             else begin
                                 if (LVar0 < 70) then begin
                                     debug_msg("Red_Encounter Table, Encounter 07");
-                                    display_msg(message_str(680, 557));
+                                    display_mstr(557);
                                     Encounter_Counter := random(2, 4);
                                     Encounter_Rotation := random(2, 4);
                                     call Red_Homesteaders();
@@ -8823,7 +8823,7 @@ begin
                                 else begin
                                     if (LVar0 < 75) then begin
                                         debug_msg("Red_Encounter Table, Encounter 08");
-                                        display_msg(message_str(680, 558));
+                                        display_mstr(558);
                                         Encounter_Counter := random(4, 6);
                                         Encounter_Rotation := random(1, 3);
                                         call Red_Homesteaders();
@@ -8836,15 +8836,15 @@ begin
                                     else begin
                                         if (LVar0 < 83) then begin
                                             debug_msg("Red_Encounter Table, Encounter 09");
-                                            display_msg(message_str(680, 559));
+                                            display_mstr(559);
                                             Encounter_Counter := random(4, 8);
-                                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                            Encounter_Rotation := obj_get_rot(dude_obj);
                                             call Red_Bootlegger();
                                         end
                                         else begin
                                             if (LVar0 < 91) then begin
                                                 debug_msg("Red_Encounter Table, Encounter 10");
-                                                display_msg(message_str(680, 560));
+                                                display_mstr(560);
                                                 Encounter_Counter := random(6, 8);
                                                 Encounter_Rotation := random(0, 4);
                                                 call Red_Trappers();
@@ -8852,7 +8852,7 @@ begin
                                             else begin
                                                 if (LVar0 < 100) then begin
                                                     debug_msg("Red_Encounter Table, Encounter 11");
-                                                    display_msg(message_str(680, 561));
+                                                    display_mstr(561);
                                                     Encounter_Counter := random(3, 6);
                                                     Encounter_Rotation := random(0, 5);
                                                     call Red_Prospector();
@@ -8878,7 +8878,7 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 18) then begin
         debug_msg("SRNRRN_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 600));
+        display_mstr(600);
         Encounter_Counter := random(3, 6);
         Encounter_Rotation := random(0, 5);
         call EPA_Deathclaws();
@@ -8886,7 +8886,7 @@ begin
     else begin
         if (LVar0 < 36) then begin
             debug_msg("SRNRRN_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 601));
+            display_mstr(601);
             Encounter_Counter := random(5, 10);
             Encounter_Rotation := random(0, 4);
             call EPA_Fire_Geckos();
@@ -8894,9 +8894,9 @@ begin
         else begin
             if (LVar0 < 44) then begin
                 debug_msg("SRNRRN_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 602));
+                display_mstr(602);
                 Encounter_Counter := random(6, 9);
-                Encounter_Rotation := has_trait(1, dude_obj, 10);
+                Encounter_Rotation := obj_get_rot(dude_obj);
                 call DNRV_Reno_Caravan();
                 Combat1 := Critter;
                 Encounter_Counter := random(3, 5);
@@ -8907,9 +8907,9 @@ begin
             else begin
                 if (LVar0 < 52) then begin
                     debug_msg("SRNRRN_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 603));
+                    display_mstr(603);
                     Encounter_Counter := random(6, 10);
-                    Encounter_Rotation := has_trait(1, dude_obj, 10);
+                    Encounter_Rotation := obj_get_rot(dude_obj);
                     call Fran2_San_Fran_Caravan();
                     Combat1 := Critter;
                     Encounter_Counter := random(4, 7);
@@ -8920,9 +8920,9 @@ begin
                 else begin
                     if (LVar0 < 60) then begin
                         debug_msg("SRNRRN_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 604));
+                        display_mstr(604);
                         Encounter_Counter := random(5, 8);
-                        Encounter_Rotation := has_trait(1, dude_obj, 10);
+                        Encounter_Rotation := obj_get_rot(dude_obj);
                         call DNRV_Redding_Caravan();
                         Combat1 := Critter;
                         Encounter_Counter := random(4, 6);
@@ -8933,9 +8933,9 @@ begin
                     else begin
                         if (LVar0 < 68) then begin
                             debug_msg("SRNRRN_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 605));
+                            display_mstr(605);
                             Encounter_Counter := random(7, 11);
-                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                            Encounter_Rotation := obj_get_rot(dude_obj);
                             call NCR_Caravan();
                             Combat1 := Critter;
                             Encounter_Counter := random(3, 7);
@@ -8946,33 +8946,33 @@ begin
                         else begin
                             if (LVar0 < 76) then begin
                                 debug_msg("SRNRRN_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 606));
+                                display_mstr(606);
                                 Encounter_Counter := random(6, 10);
-                                Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                Encounter_Rotation := obj_get_rot(dude_obj);
                                 call Fran2_San_Fran_Caravan();
                             end
                             else begin
                                 if (LVar0 < 84) then begin
                                     debug_msg("SRNRRN_Encounter Table, Encounter 07");
-                                    display_msg(message_str(680, 607));
+                                    display_mstr(607);
                                     Encounter_Counter := random(5, 8);
-                                    Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                    Encounter_Rotation := obj_get_rot(dude_obj);
                                     call DNRV_Redding_Caravan();
                                 end
                                 else begin
                                     if (LVar0 < 92) then begin
                                         debug_msg("SRNRRN_Encounter Table, Encounter 08");
-                                        display_msg(message_str(680, 608));
+                                        display_mstr(608);
                                         Encounter_Counter := random(6, 9);
-                                        Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                        Encounter_Rotation := obj_get_rot(dude_obj);
                                         call DNRV_Reno_Caravan();
                                     end
                                     else begin
                                         if (LVar0 < 100) then begin
                                             debug_msg("SRNRRN_Encounter Table, Encounter 09");
-                                            display_msg(message_str(680, 609));
+                                            display_mstr(609);
                                             Encounter_Counter := random(7, 11);
-                                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                                            Encounter_Rotation := obj_get_rot(dude_obj);
                                             call NCR_Caravan();
                                         end
                                     end
@@ -8994,7 +8994,7 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 4) then begin
         debug_msg("EPA_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 650));
+        display_mstr(650);
         Encounter_Counter := random(5, 8);
         Encounter_Rotation := random(0, 3);
         call EPA_Special_Alien();
@@ -9005,7 +9005,7 @@ begin
     else begin
         if (LVar0 < 16) then begin
             debug_msg("EPA_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 651));
+            display_mstr(651);
             Encounter_Counter := random(6, 10);
             Encounter_Rotation := random(0, 5);
             call EPA_Floater_Centaurs();
@@ -9013,7 +9013,7 @@ begin
         else begin
             if (LVar0 < 28) then begin
                 debug_msg("EPA_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 652));
+                display_mstr(652);
                 Encounter_Counter := random(8, 10);
                 Encounter_Rotation := random(0, 3);
                 call EPA_Special_Fire_Geckos();
@@ -9021,7 +9021,7 @@ begin
             else begin
                 if (LVar0 < 40) then begin
                     debug_msg("EPA_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 653));
+                    display_mstr(653);
                     Encounter_Counter := random(6, 10);
                     Encounter_Rotation := random(0, 5);
                     call EPA_Special_Alien();
@@ -9029,7 +9029,7 @@ begin
                 else begin
                     if (LVar0 < 52) then begin
                         debug_msg("EPA_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 654));
+                        display_mstr(654);
                         Encounter_Counter := random(3, 6);
                         Encounter_Rotation := random(0, 5);
                         call EPA_Deathclaws();
@@ -9037,7 +9037,7 @@ begin
                     else begin
                         if (LVar0 < 64) then begin
                             debug_msg("EPA_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 655));
+                            display_mstr(655);
                             Encounter_Counter := random(6, 10);
                             Encounter_Rotation := random(0, 5);
                             call EPA_Fire_Geckos();
@@ -9045,7 +9045,7 @@ begin
                         else begin
                             if (LVar0 < 76) then begin
                                 debug_msg("EPA_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 656));
+                                display_mstr(656);
                                 Encounter_Counter := random(6, 10);
                                 Encounter_Rotation := random(0, 5);
                                 call EPA_Alien();
@@ -9053,7 +9053,7 @@ begin
                             else begin
                                 if (LVar0 < 88) then begin
                                     debug_msg("EPA_Encounter Table, Encounter 07");
-                                    display_msg(message_str(680, 657));
+                                    display_mstr(657);
                                     Encounter_Counter := random(4, 8);
                                     Encounter_Rotation := random(0, 5);
                                     call EPA_Centaurs();
@@ -9061,7 +9061,7 @@ begin
                                 else begin
                                     if (LVar0 < 100) then begin
                                         debug_msg("EPA_Encounter Table, Encounter 08");
-                                        display_msg(message_str(680, 658));
+                                        display_mstr(658);
                                         Encounter_Counter := random(6, 10);
                                         Encounter_Rotation := random(0, 5);
                                         call EPA_Floaters();
@@ -9084,7 +9084,7 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 15) then begin
         debug_msg("Reno_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 700));
+        display_mstr(700);
         Encounter_Counter := random(6, 10);
         Encounter_Rotation := random(0, 5);
         call New_Yakuza();
@@ -9092,7 +9092,7 @@ begin
     else begin
         if (LVar0 < 30) then begin
             debug_msg("Reno_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 701));
+            display_mstr(701);
             Encounter_Counter := random(7, 12);
             Encounter_Rotation := random(0, 3);
             call New_Gang();
@@ -9100,15 +9100,15 @@ begin
         else begin
             if (LVar0 < 40) then begin
                 debug_msg("Reno_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 702));
+                display_mstr(702);
                 Encounter_Counter := random(7, 10);
-                Encounter_Rotation := has_trait(1, dude_obj, 10);
+                Encounter_Rotation := obj_get_rot(dude_obj);
                 call Red_Wolves();
             end
             else begin
                 if (LVar0 < 55) then begin
                     debug_msg("Reno_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 703));
+                    display_mstr(703);
                     Encounter_Counter := random(4, 8);
                     Encounter_Rotation := random(0, 3);
                     call New_Mobsters();
@@ -9121,7 +9121,7 @@ begin
                 else begin
                     if (LVar0 < 70) then begin
                         debug_msg("Reno_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 704));
+                        display_mstr(704);
                         Encounter_Counter := random(4, 8);
                         Encounter_Rotation := random(3, 5);
                         call New_Mobsters();
@@ -9134,17 +9134,17 @@ begin
                     else begin
                         if (LVar0 < 90) then begin
                             debug_msg("Reno_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 705));
+                            display_mstr(705);
                             Encounter_Counter := random(4, 8);
-                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                            Encounter_Rotation := obj_get_rot(dude_obj);
                             call New_Mobsters();
                         end
                         else begin
                             if (LVar0 < 100) then begin
                                 debug_msg("Reno_Encounter Table, Encounter 06");
-                                display_msg(message_str(680, 706));
+                                display_mstr(706);
                                 Encounter_Counter := random(1, 2);
-                                Encounter_Rotation := (has_trait(1, dude_obj, 10) + 3) % 6;
+                                Encounter_Rotation := (obj_get_rot(dude_obj) + 3) % 6;
                                 call New_Traveler();
                             end
                         end
@@ -9163,9 +9163,9 @@ begin
     LVar0 := random(0, 99);
     if (LVar0 < 21) then begin
         debug_msg("NRNR_Encounter Table, Encounter 00");
-        display_msg(message_str(680, 750));
+        display_mstr(750);
         Encounter_Counter := random(6, 10);
-        Encounter_Rotation := has_trait(1, dude_obj, 10);
+        Encounter_Rotation := obj_get_rot(dude_obj);
         call NCR_Caravan();
         Combat1 := Critter;
         Encounter_Counter := random(7, 12);
@@ -9176,9 +9176,9 @@ begin
     else begin
         if (LVar0 < 41) then begin
             debug_msg("NRNR_Encounter Table, Encounter 01");
-            display_msg(message_str(680, 751));
+            display_mstr(751);
             Encounter_Counter := random(6, 10);
-            Encounter_Counter := has_trait(1, dude_obj, 10);
+            Encounter_Counter := obj_get_rot(dude_obj);
             call DNRV_Reno_Caravan();
             Combat1 := Critter;
             Encounter_Counter := random(7, 11);
@@ -9189,9 +9189,9 @@ begin
         else begin
             if (LVar0 < 61) then begin
                 debug_msg("NRNR_Encounter Table, Encounter 02");
-                display_msg(message_str(680, 752));
+                display_mstr(752);
                 Encounter_Counter := random(6, 10);
-                Encounter_Rotation := has_trait(1, dude_obj, 10);
+                Encounter_Rotation := obj_get_rot(dude_obj);
                 call DNRV_Redding_Caravan();
                 Combat1 := Critter;
                 Encounter_Counter := random(5, 9);
@@ -9202,25 +9202,25 @@ begin
             else begin
                 if (LVar0 < 74) then begin
                     debug_msg("NRNR_Encounter Table, Encounter 03");
-                    display_msg(message_str(680, 753));
+                    display_mstr(753);
                     Encounter_Counter := random(6, 10);
-                    Encounter_Rotation := has_trait(1, dude_obj, 10);
+                    Encounter_Rotation := obj_get_rot(dude_obj);
                     call DNRV_Redding_Caravan();
                 end
                 else begin
                     if (LVar0 < 87) then begin
                         debug_msg("NRNR_Encounter Table, Encounter 04");
-                        display_msg(message_str(680, 754));
+                        display_mstr(754);
                         Encounter_Counter := random(6, 10);
-                        Encounter_Counter := has_trait(1, dude_obj, 10);
+                        Encounter_Counter := obj_get_rot(dude_obj);
                         call DNRV_Reno_Caravan();
                     end
                     else begin
                         if (LVar0 < 100) then begin
                             debug_msg("NRNR_Encounter Table, Encounter 05");
-                            display_msg(message_str(680, 755));
+                            display_mstr(755);
                             Encounter_Counter := random(6, 10);
-                            Encounter_Rotation := has_trait(1, dude_obj, 10);
+                            Encounter_Rotation := obj_get_rot(dude_obj);
                             call NCR_Caravan();
                         end
                     end
@@ -9241,11 +9241,11 @@ procedure NCR_Cattle_Drive
 begin
     variable LVar0 := 0;
     call Build_Caravan_Team();
-    LVar0 := global_var(283) - global_var(275);
-    if ((global_var(266) bwand 16) != 0) then begin
+    LVar0 := global_var(GVAR_CARAVAN_ENCOUNTERS_TOTAL) - global_var(GVAR_CARAVAN_ENCOUNTERS);
+    if ((global_var(GVAR_NCR_CATTLE_DRIVE) bwand 16) != 0) then begin
         call NCR_Red_Encounters();
         if (map_var(1) > 0) then begin
-            set_global_var(266, global_var(266) bwor 64);
+            set_global_var(GVAR_NCR_CATTLE_DRIVE, global_var(GVAR_NCR_CATTLE_DRIVE) bwor 64);
         end
     end
     return 0;
@@ -9283,226 +9283,226 @@ begin
     LVar0 := tile_num_in_direction(22097, LVar1, random(3, 8));
     override_map_start(LVar0 % 200, LVar0 / 200, 0, random(0, 5));
     anim(dude_obj, 1000, LVar1);
-    for (call Add_Mysterious_Stranger(); LVar2 < global_var(277); anim(LVar7, 1000, rotation_to_tile(tile_num(LVar7), tile_num(dude_obj)))) begin
+    for (call Add_Mysterious_Stranger(); LVar2 < global_var(GVAR_CARAVAN_MASTERS); anim(LVar7, 1000, rotation_to_tile(tile_num(LVar7), dude_tile))) begin
         LVar2 := LVar2 + 1;
-        if (global_var(339) == 4) then begin
-            LVar7 := create_object_sid(16777308, 0, 0, 688);
-            add_obj_to_inven(LVar7, create_object_sid(388, 0, 0, -1));
+        if (global_var(GVAR_MEDICINE_CARAVAN) == 4) then begin
+            LVar7 := create_object_sid(16777308, 0, 0, SCRIPT_RCWADE);
+            add_obj_to_inven(LVar7, create_object(388, 0, 0));
         end
         else begin
-            if (global_var(338) == 4) then begin
-                LVar7 := create_object_sid(16777260, 0, 0, 692);
-                add_obj_to_inven(LVar7, create_object_sid(388, 0, 0, -1));
+            if (global_var(GVAR_CATTLE_DRIVE_CARAVAN) == 4) then begin
+                LVar7 := create_object_sid(16777260, 0, 0, SCRIPT_RCSTANWL);
+                add_obj_to_inven(LVar7, create_object(388, 0, 0));
             end
             else begin
-                if (global_var(340) == 4) then begin
-                    LVar7 := create_object_sid(16777252, 0, 0, 693);
-                    add_obj_to_inven(LVar7, create_object_sid(242, 0, 0, -1));
+                if (global_var(GVAR_JET_CARAVAN) == 4) then begin
+                    LVar7 := create_object_sid(16777252, 0, 0, SCRIPT_RCSAVINE);
+                    add_obj_to_inven(LVar7, create_object(242, 0, 0));
                 end
                 else begin
-                    if (global_var(330) == 2) then begin
-                        LVar7 := create_object_sid(16777248, 0, 0, 613);
+                    if (global_var(GVAR_BH_CARAVAN) == 2) then begin
+                        LVar7 := create_object_sid(16777248, 0, 0, SCRIPT_HCCHAD);
                     end
                     else begin
-                        if ((global_var(266) bwand 16) != 0) then begin
-                            LVar7 := create_object_sid(16777477, 0, 0, 475);
-                            add_obj_to_inven(LVar7, create_object_sid(354, 0, 0, -1));
-                            add_obj_to_inven(LVar7, create_object_sid(95, 0, 0, -1));
+                        if ((global_var(GVAR_NCR_CATTLE_DRIVE) bwand 16) != 0) then begin
+                            LVar7 := create_object_sid(16777477, 0, 0, SCRIPT_SCHAL);
+                            add_obj_to_inven(LVar7, create_object(354, 0, 0));
+                            add_obj_to_inven(LVar7, create_object(95, 0, 0));
                         end
                         else begin
-                            LVar7 := create_object_sid(16777359, 0, 0, -1);
+                            LVar7 := create_object(16777359, 0, 0);
                         end
                     end
                 end
             end
         end
-        LVar16 := critter_add_trait(LVar7, 1, 6, 0);
+        LVar16 := critter_add_trait(LVar7, TRAIT_OBJECT, OBJECT_TEAM_NUM, 0);
         LVar11 := (LVar1 + 3) % 6;
         LVar8 := tile_num_in_direction(LVar0, LVar11, random(5, 7));
         critter_attempt_placement(LVar7, LVar8, 0);
-        if (has_trait(0, dude_obj, 20)) then begin
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(LVar7, 2 * random(10, 30));
             continue;
         end
         item_caps_adjust(LVar7, random(10, 30));
     end
-    while ((global_var(274) > ((global_var(276) / 2) + (global_var(276) % 2))) and (global_var(276) != 0)) do begin
-        set_global_var(274, global_var(274) - 1);
-        for (/* O_NOOP */; LVar3 < global_var(274); anim(LVar7, 1000, 1)) begin
+    while ((global_var(GVAR_CARAVAN_CARTS) > ((global_var(GVAR_CARAVAN_BRAHMIN) / 2) + (global_var(GVAR_CARAVAN_BRAHMIN) % 2))) and (global_var(GVAR_CARAVAN_BRAHMIN) != 0)) do begin
+        set_global_var(GVAR_CARAVAN_CARTS, global_var(GVAR_CARAVAN_CARTS) - 1);
+        for (/* O_NOOP */; LVar3 < global_var(GVAR_CARAVAN_CARTS); anim(LVar7, 1000, 1)) begin
             LVar3 := LVar3 + 1;
             LVar8 := tile_num_in_direction(LVar8, LVar11, 8);
             if (random(0, 99) < 50) then begin
-                Scenery_Creation := create_object_sid(33554959, LVar8, 0, -1);
+                Scenery_Creation := create_object(33554959, LVar8, 0);
                 Scenery_Creation_Hex := LVar8;
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 1) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 2) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 3, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 2) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 1) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 1) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 0, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 1) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 2) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
             end
             else begin
-                Scenery_Creation := create_object_sid(33554960, LVar8, 0, -1);
+                Scenery_Creation := create_object(33554960, LVar8, 0);
                 Scenery_Creation_Hex := LVar8;
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 1) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 2) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 3, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 2) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 1) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 1) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 0, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 1) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
                 Scenery_Creation_Count := 0;
                 while (Scenery_Creation_Count < 2) do begin
                     Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);
-                    Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, 0, -1);
+                    Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, 0);
                     Scenery_Creation_Count := Scenery_Creation_Count + 1;
                 end
             end
             LVar9 := tile_num_in_direction(LVar8, 0, 1);
-            LVar7 := create_object_sid(16777226, 0, 0, 477);
+            LVar7 := create_object_sid(16777226, 0, 0, SCRIPT_ECCRTBRA);
             critter_attempt_placement(LVar7, LVar9, 0);
-            LVar16 := critter_add_trait(LVar7, 1, 6, 0);
+            LVar16 := critter_add_trait(LVar7, TRAIT_OBJECT, OBJECT_TEAM_NUM, 0);
             anim(LVar7, 1000, 1);
             LVar4 := LVar4 + 1;
-            if (LVar4 < global_var(276)) then begin
+            if (LVar4 < global_var(GVAR_CARAVAN_BRAHMIN)) then begin
                 LVar9 := tile_num_in_direction(LVar8, 2, 2);
-                LVar7 := create_object_sid(16777226, 0, 0, 477);
+                LVar7 := create_object_sid(16777226, 0, 0, SCRIPT_ECCRTBRA);
                 critter_attempt_placement(LVar7, LVar9, 0);
-                LVar16 := critter_add_trait(LVar7, 1, 6, 0);
+                LVar16 := critter_add_trait(LVar7, TRAIT_OBJECT, OBJECT_TEAM_NUM, 0);
                 anim(LVar7, 1000, 1);
                 LVar4 := LVar4 + 1;
             end
-            if (LVar5 < global_var(272)) then begin
+            if (LVar5 < global_var(GVAR_CARAVAN_DRIVERS)) then begin
                 LVar5 := LVar5 + 1;
-                if (global_var(339) == 4) then begin
+                if (global_var(GVAR_MEDICINE_CARAVAN) == 4) then begin
                     if (random(0, 99) < 50) then begin
-                        LVar7 := create_object_sid(16777308, 0, 0, 1085);
+                        LVar7 := create_object_sid(16777308, 0, 0, SCRIPT_RCCVNDRV);
                     end
                     else begin
-                        LVar7 := create_object_sid(16777307, 0, 0, 1085);
+                        LVar7 := create_object_sid(16777307, 0, 0, SCRIPT_RCCVNDRV);
                     end
                 end
                 else begin
-                    if (global_var(338) == 4) then begin
+                    if (global_var(GVAR_CATTLE_DRIVE_CARAVAN) == 4) then begin
                         if (random(0, 99) < 50) then begin
-                            LVar7 := create_object_sid(16777353, 0, 0, 1085);
+                            LVar7 := create_object_sid(16777353, 0, 0, SCRIPT_RCCVNDRV);
                         end
                         else begin
-                            LVar7 := create_object_sid(16777354, 0, 0, 1085);
+                            LVar7 := create_object_sid(16777354, 0, 0, SCRIPT_RCCVNDRV);
                         end
                     end
                     else begin
-                        if (global_var(340) == 4) then begin
+                        if (global_var(GVAR_JET_CARAVAN) == 4) then begin
                             if (random(0, 99) < 50) then begin
-                                LVar7 := create_object_sid(16777400, 0, 0, 1085);
+                                LVar7 := create_object_sid(16777400, 0, 0, SCRIPT_RCCVNDRV);
                             end
                             else begin
-                                LVar7 := create_object_sid(16777401, 0, 0, 1085);
+                                LVar7 := create_object_sid(16777401, 0, 0, SCRIPT_RCCVNDRV);
                             end
                         end
                         else begin
-                            if (global_var(330) == 2) then begin
+                            if (global_var(GVAR_BH_CARAVAN) == 2) then begin
                                 if (random(0, 99) < 50) then begin
-                                    LVar7 := create_object_sid(16777400, 0, 0, 1085);
+                                    LVar7 := create_object_sid(16777400, 0, 0, SCRIPT_RCCVNDRV);
                                 end
                                 else begin
-                                    LVar7 := create_object_sid(16777401, 0, 0, 1085);
+                                    LVar7 := create_object_sid(16777401, 0, 0, SCRIPT_RCCVNDRV);
                                 end
                             end
                             else begin
-                                if ((global_var(266) bwand 16) != 0) then begin
+                                if ((global_var(GVAR_NCR_CATTLE_DRIVE) bwand 16) != 0) then begin
                                     if (random(0, 99) < 50) then begin
-                                        LVar7 := create_object_sid(16777477, 0, 0, 1085);
+                                        LVar7 := create_object_sid(16777477, 0, 0, SCRIPT_RCCVNDRV);
                                     end
                                     else begin
-                                        LVar7 := create_object_sid(16777478, 0, 0, 1085);
+                                        LVar7 := create_object_sid(16777478, 0, 0, SCRIPT_RCCVNDRV);
                                     end
                                     LVar15 := random(0, 99);
                                     if (LVar15 < 33) then begin
-                                        LVar14 := create_object_sid(332, 0, 0, -1);
+                                        LVar14 := create_object(332, 0, 0);
                                     end
                                     else begin
                                         if (LVar15 < 66) then begin
-                                            LVar14 := create_object_sid(268, 0, 0, -1);
+                                            LVar14 := create_object(268, 0, 0);
                                         end
                                         else begin
                                             if (LVar15 < 99) then begin
-                                                LVar14 := create_object_sid(118, 0, 0, -1);
+                                                LVar14 := create_object(118, 0, 0);
                                             end
                                         end
                                     end
                                 end
                                 else begin
                                     if (random(0, 99) < 50) then begin
-                                        LVar7 := create_object_sid(16777400, 0, 0, 1085);
+                                        LVar7 := create_object_sid(16777400, 0, 0, SCRIPT_RCCVNDRV);
                                     end
                                     else begin
-                                        LVar7 := create_object_sid(16777401, 0, 0, 1085);
+                                        LVar7 := create_object_sid(16777401, 0, 0, SCRIPT_RCCVNDRV);
                                     end
                                 end
                             end
@@ -9511,8 +9511,8 @@ begin
                 end
                 LVar10 := tile_num_in_direction(LVar8, 1, 3);
                 critter_attempt_placement(LVar7, LVar10, 0);
-                LVar16 := critter_add_trait(LVar7, 1, 6, 0);
-                if (has_trait(0, dude_obj, 20)) then begin
+                LVar16 := critter_add_trait(LVar7, TRAIT_OBJECT, OBJECT_TEAM_NUM, 0);
+                if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                     item_caps_adjust(LVar7, 2 * random(5, 20));
                     continue;
                 end
@@ -9521,81 +9521,81 @@ begin
         end
         LVar12 := (LVar11 + 1) % 6;
         LVar9 := tile_num_in_direction(LVar0, LVar12, random(7, 10));
-        while (LVar4 < global_var(276)) do begin
+        while (LVar4 < global_var(GVAR_CARAVAN_BRAHMIN)) do begin
             LVar4 := LVar4 + 1;
             LVar9 := tile_num_in_direction(LVar9, random(0, 5), random(2, 5));
-            LVar7 := create_object_sid(16777226, 0, 0, 477);
+            LVar7 := create_object_sid(16777226, 0, 0, SCRIPT_ECCRTBRA);
             critter_attempt_placement(LVar7, LVar9, 0);
-            LVar16 := critter_add_trait(LVar7, 1, 6, 0);
+            LVar16 := critter_add_trait(LVar7, TRAIT_OBJECT, OBJECT_TEAM_NUM, 0);
             anim(LVar7, 1000, random(0, 5));
         end
         LVar13 := (LVar11 + 1) % 6;
-        for (LVar10 := tile_num_in_direction(LVar0, LVar13, random(7, 10)); LVar5 < global_var(272); anim(LVar7, 1000, random(0, 5))) begin
+        for (LVar10 := tile_num_in_direction(LVar0, LVar13, random(7, 10)); LVar5 < global_var(GVAR_CARAVAN_DRIVERS); anim(LVar7, 1000, random(0, 5))) begin
             LVar5 := LVar5 + 1;
-            if (global_var(339) == 4) then begin
+            if (global_var(GVAR_MEDICINE_CARAVAN) == 4) then begin
                 if (random(0, 99) < 50) then begin
-                    LVar7 := create_object_sid(16777308, 0, 0, 1085);
+                    LVar7 := create_object_sid(16777308, 0, 0, SCRIPT_RCCVNDRV);
                 end
                 else begin
-                    LVar7 := create_object_sid(16777307, 0, 0, 1085);
+                    LVar7 := create_object_sid(16777307, 0, 0, SCRIPT_RCCVNDRV);
                 end
             end
             else begin
-                if (global_var(338) == 4) then begin
+                if (global_var(GVAR_CATTLE_DRIVE_CARAVAN) == 4) then begin
                     if (random(0, 99) < 50) then begin
-                        LVar7 := create_object_sid(16777353, 0, 0, 1085);
+                        LVar7 := create_object_sid(16777353, 0, 0, SCRIPT_RCCVNDRV);
                     end
                     else begin
-                        LVar7 := create_object_sid(16777354, 0, 0, 1085);
+                        LVar7 := create_object_sid(16777354, 0, 0, SCRIPT_RCCVNDRV);
                     end
                 end
                 else begin
-                    if (global_var(340) == 4) then begin
+                    if (global_var(GVAR_JET_CARAVAN) == 4) then begin
                         if (random(0, 99) < 50) then begin
-                            LVar7 := create_object_sid(16777400, 0, 0, 1085);
+                            LVar7 := create_object_sid(16777400, 0, 0, SCRIPT_RCCVNDRV);
                         end
                         else begin
-                            LVar7 := create_object_sid(16777401, 0, 0, 1085);
+                            LVar7 := create_object_sid(16777401, 0, 0, SCRIPT_RCCVNDRV);
                         end
                     end
                     else begin
-                        if (global_var(330) == 2) then begin
+                        if (global_var(GVAR_BH_CARAVAN) == 2) then begin
                             if (random(0, 99) < 50) then begin
-                                LVar7 := create_object_sid(16777400, 0, 0, 1085);
+                                LVar7 := create_object_sid(16777400, 0, 0, SCRIPT_RCCVNDRV);
                             end
                             else begin
-                                LVar7 := create_object_sid(16777401, 0, 0, 1085);
+                                LVar7 := create_object_sid(16777401, 0, 0, SCRIPT_RCCVNDRV);
                             end
                         end
                         else begin
-                            if ((global_var(266) bwand 16) != 0) then begin
+                            if ((global_var(GVAR_NCR_CATTLE_DRIVE) bwand 16) != 0) then begin
                                 if (random(0, 99) < 50) then begin
-                                    LVar7 := create_object_sid(16777477, 0, 0, 1085);
+                                    LVar7 := create_object_sid(16777477, 0, 0, SCRIPT_RCCVNDRV);
                                 end
                                 else begin
-                                    LVar7 := create_object_sid(16777478, 0, 0, 1085);
+                                    LVar7 := create_object_sid(16777478, 0, 0, SCRIPT_RCCVNDRV);
                                 end
                                 LVar15 := random(0, 99);
                                 if (LVar15 < 33) then begin
-                                    LVar14 := create_object_sid(332, 0, 0, -1);
+                                    LVar14 := create_object(332, 0, 0);
                                 end
                                 else begin
                                     if (LVar15 < 66) then begin
-                                        LVar14 := create_object_sid(268, 0, 0, -1);
+                                        LVar14 := create_object(268, 0, 0);
                                     end
                                     else begin
                                         if (LVar15 < 99) then begin
-                                            LVar14 := create_object_sid(118, 0, 0, -1);
+                                            LVar14 := create_object(118, 0, 0);
                                         end
                                     end
                                 end
                             end
                             else begin
                                 if (random(0, 99) < 50) then begin
-                                    LVar7 := create_object_sid(16777400, 0, 0, 1085);
+                                    LVar7 := create_object_sid(16777400, 0, 0, SCRIPT_RCCVNDRV);
                                 end
                                 else begin
-                                    LVar7 := create_object_sid(16777401, 0, 0, 1085);
+                                    LVar7 := create_object_sid(16777401, 0, 0, SCRIPT_RCCVNDRV);
                                 end
                             end
                         end
@@ -9604,8 +9604,8 @@ begin
             end
             LVar10 := tile_num_in_direction(LVar10, 1, 3);
             critter_attempt_placement(LVar7, LVar10, 0);
-            LVar16 := critter_add_trait(LVar7, 1, 6, 0);
-            if (has_trait(0, dude_obj, 20)) then begin
+            LVar16 := critter_add_trait(LVar7, TRAIT_OBJECT, OBJECT_TEAM_NUM, 0);
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                 item_caps_adjust(LVar7, 2 * random(5, 20));
                 continue;
             end
@@ -9619,116 +9619,116 @@ begin
             LVar11 := LVar11 % 6;
         end
         LVar8 := tile_num_in_direction(LVar0, LVar11, random(7, 10));
-        while (LVar6 < global_var(273)) do begin
+        while (LVar6 < global_var(GVAR_CARAVAN_GUARDS)) do begin
             LVar6 := LVar6 + 1;
-            if (global_var(339) == 4) then begin
+            if (global_var(GVAR_MEDICINE_CARAVAN) == 4) then begin
                 if (random(0, 99) < 50) then begin
-                    LVar7 := create_object_sid(16777262, 0, 0, 1084);
+                    LVar7 := create_object_sid(16777262, 0, 0, SCRIPT_RCCVNGRD);
                 end
                 else begin
-                    LVar7 := create_object_sid(16777263, 0, 0, 1084);
+                    LVar7 := create_object_sid(16777263, 0, 0, SCRIPT_RCCVNGRD);
                 end
                 LVar15 := random(0, 99);
                 if (LVar15 < 50) then begin
-                    LVar14 := create_object_sid(242, 0, 0, -1);
+                    LVar14 := create_object(242, 0, 0);
                 end
                 else begin
                     if (LVar15 < 99) then begin
-                        LVar14 := create_object_sid(23, 0, 0, -1);
+                        LVar14 := create_object(23, 0, 0);
                     end
                 end
             end
             else begin
-                if (global_var(338) == 4) then begin
+                if (global_var(GVAR_CATTLE_DRIVE_CARAVAN) == 4) then begin
                     if (random(0, 99) < 50) then begin
-                        LVar7 := create_object_sid(16777353, 0, 0, 1084);
+                        LVar7 := create_object_sid(16777353, 0, 0, SCRIPT_RCCVNGRD);
                     end
                     else begin
-                        LVar7 := create_object_sid(16777354, 0, 0, 1084);
+                        LVar7 := create_object_sid(16777354, 0, 0, SCRIPT_RCCVNGRD);
                     end
                     LVar15 := random(0, 99);
                     if (LVar15 < 50) then begin
-                        LVar14 := create_object_sid(352, 0, 0, -1);
+                        LVar14 := create_object(352, 0, 0);
                     end
                     else begin
                         if (LVar15 < 99) then begin
-                            LVar14 := create_object_sid(351, 0, 0, -1);
+                            LVar14 := create_object(351, 0, 0);
                         end
                     end
                 end
                 else begin
-                    if (global_var(340) == 4) then begin
+                    if (global_var(GVAR_JET_CARAVAN) == 4) then begin
                         if (random(0, 99) < 50) then begin
-                            LVar7 := create_object_sid(16777400, 0, 0, 1084);
+                            LVar7 := create_object_sid(16777400, 0, 0, SCRIPT_RCCVNGRD);
                         end
                         else begin
-                            LVar7 := create_object_sid(16777401, 0, 0, 1084);
+                            LVar7 := create_object_sid(16777401, 0, 0, SCRIPT_RCCVNGRD);
                         end
                         LVar15 := random(0, 99);
                         if (LVar15 < 50) then begin
-                            LVar14 := create_object_sid(268, 0, 0, -1);
+                            LVar14 := create_object(268, 0, 0);
                         end
                         else begin
                             if (LVar15 < 99) then begin
-                                LVar14 := create_object_sid(283, 0, 0, -1);
+                                LVar14 := create_object(283, 0, 0);
                             end
                         end
                     end
                     else begin
-                        if (global_var(330) == 2) then begin
+                        if (global_var(GVAR_BH_CARAVAN) == 2) then begin
                             if (random(0, 99) < 50) then begin
-                                LVar7 := create_object_sid(16777400, 0, 0, 1084);
+                                LVar7 := create_object_sid(16777400, 0, 0, SCRIPT_RCCVNGRD);
                             end
                             else begin
-                                LVar7 := create_object_sid(16777401, 0, 0, 1084);
+                                LVar7 := create_object_sid(16777401, 0, 0, SCRIPT_RCCVNGRD);
                             end
                             LVar15 := random(0, 99);
                             if (LVar15 < 50) then begin
-                                LVar14 := create_object_sid(332, 0, 0, -1);
+                                LVar14 := create_object(332, 0, 0);
                             end
                             else begin
                                 if (LVar15 < 99) then begin
-                                    LVar14 := create_object_sid(268, 0, 0, -1);
+                                    LVar14 := create_object(268, 0, 0);
                                 end
                             end
                         end
                         else begin
-                            if ((global_var(266) bwand 16) != 0) then begin
+                            if ((global_var(GVAR_NCR_CATTLE_DRIVE) bwand 16) != 0) then begin
                                 if (random(0, 99) < 50) then begin
-                                    LVar7 := create_object_sid(16777477, 0, 0, 1084);
+                                    LVar7 := create_object_sid(16777477, 0, 0, SCRIPT_RCCVNGRD);
                                 end
                                 else begin
-                                    LVar7 := create_object_sid(16777478, 0, 0, 1084);
+                                    LVar7 := create_object_sid(16777478, 0, 0, SCRIPT_RCCVNGRD);
                                 end
                                 LVar15 := random(0, 99);
                                 if (LVar15 < 33) then begin
-                                    LVar14 := create_object_sid(332, 0, 0, -1);
+                                    LVar14 := create_object(332, 0, 0);
                                 end
                                 else begin
                                     if (LVar15 < 66) then begin
-                                        LVar14 := create_object_sid(268, 0, 0, -1);
+                                        LVar14 := create_object(268, 0, 0);
                                     end
                                     else begin
                                         if (LVar15 < 99) then begin
-                                            LVar14 := create_object_sid(118, 0, 0, -1);
+                                            LVar14 := create_object(118, 0, 0);
                                         end
                                     end
                                 end
                             end
                             else begin
                                 if (random(0, 99) < 50) then begin
-                                    LVar7 := create_object_sid(16777400, 0, 0, 1084);
+                                    LVar7 := create_object_sid(16777400, 0, 0, SCRIPT_RCCVNGRD);
                                 end
                                 else begin
-                                    LVar7 := create_object_sid(16777401, 0, 0, 1084);
+                                    LVar7 := create_object_sid(16777401, 0, 0, SCRIPT_RCCVNGRD);
                                 end
                                 LVar15 := random(0, 99);
                                 if (LVar15 < 50) then begin
-                                    LVar14 := create_object_sid(388, 0, 0, -1);
+                                    LVar14 := create_object(388, 0, 0);
                                 end
                                 else begin
                                     if (LVar15 < 99) then begin
-                                        LVar14 := create_object_sid(354, 0, 0, -1);
+                                        LVar14 := create_object(354, 0, 0);
                                     end
                                 end
                             end
@@ -9738,18 +9738,18 @@ begin
             end
             LVar8 := tile_num_in_direction(LVar8, random(0, 5), random(2, 4));
             critter_attempt_placement(LVar7, LVar8, 0);
-            if (has_trait(0, dude_obj, 20)) then begin
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                 item_caps_adjust(LVar7, 2 * random(10, 20));
             end
             else begin
                 item_caps_adjust(LVar7, random(10, 20));
             end
-            LVar16 := critter_add_trait(LVar7, 1, 6, 0);
-            anim(LVar7, 1000, has_trait(1, dude_obj, 10));
+            LVar16 := critter_add_trait(LVar7, TRAIT_OBJECT, OBJECT_TEAM_NUM, 0);
+            anim(LVar7, 1000, obj_get_rot(dude_obj));
             add_obj_to_inven(LVar7, LVar14);
             wield_obj_critter(LVar7, LVar14);
             if (random(0, 99) < 50) then begin
-                LVar14 := create_object_sid(40, 0, 0, -1);
+                LVar14 := create_object(40, 0, 0);
                 add_obj_to_inven(LVar7, LVar14);
             end
         end
@@ -9777,57 +9777,57 @@ procedure Build_Grey_Caravan
 begin
     variable LVar0 := 0;
     variable LVar1 := 0;
-    LVar1 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, 20);
-    Scenery_Creation := create_object_sid(33554960, LVar1, elevation(dude_obj), -1);
+    LVar1 := tile_num_in_direction(dude_tile, Encounter_Rotation, 20);
+    Scenery_Creation := create_object(33554960, LVar1, elevation(dude_obj));
     Scenery_Creation_Hex := LVar1;
     Scenery_Creation_Count := 0;
     while (Scenery_Creation_Count < 1) do begin
         Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);
-        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, elevation(dude_obj), -1);
+        Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, elevation(dude_obj));
         Scenery_Creation_Count := Scenery_Creation_Count + 1;
     end
     Scenery_Creation_Count := 0;
     while (Scenery_Creation_Count < 2) do begin
         Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 3, 1);
-        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, elevation(dude_obj), -1);
+        Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, elevation(dude_obj));
         Scenery_Creation_Count := Scenery_Creation_Count + 1;
     end
     Scenery_Creation_Count := 0;
     while (Scenery_Creation_Count < 2) do begin
         Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 4, 1);
-        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, elevation(dude_obj), -1);
+        Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, elevation(dude_obj));
         Scenery_Creation_Count := Scenery_Creation_Count + 1;
     end
     Scenery_Creation_Count := 0;
     while (Scenery_Creation_Count < 1) do begin
         Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);
-        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, elevation(dude_obj), -1);
+        Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, elevation(dude_obj));
         Scenery_Creation_Count := Scenery_Creation_Count + 1;
     end
     Scenery_Creation_Count := 0;
     while (Scenery_Creation_Count < 1) do begin
         Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 0, 1);
-        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, elevation(dude_obj), -1);
+        Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, elevation(dude_obj));
         Scenery_Creation_Count := Scenery_Creation_Count + 1;
     end
     Scenery_Creation_Count := 0;
     while (Scenery_Creation_Count < 1) do begin
         Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 5, 1);
-        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, elevation(dude_obj), -1);
+        Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, elevation(dude_obj));
         Scenery_Creation_Count := Scenery_Creation_Count + 1;
     end
     Scenery_Creation_Count := 0;
     while (Scenery_Creation_Count < 2) do begin
         Scenery_Creation_Hex := tile_num_in_direction(Scenery_Creation_Hex, 1, 1);
-        Scenery_Creation := create_object_sid(33554499, Scenery_Creation_Hex, elevation(dude_obj), -1);
+        Scenery_Creation := create_object(33554499, Scenery_Creation_Hex, elevation(dude_obj));
         Scenery_Creation_Count := Scenery_Creation_Count + 1;
     end
     LVar0 := tile_num_in_direction(LVar1, 0, 1);
-    Critter := create_object_sid(16777226, 0, 0, 477);
+    Critter := create_object_sid(16777226, 0, 0, SCRIPT_ECCRTBRA);
     critter_attempt_placement(Critter, LVar0, 0);
     anim(Critter, 1000, 1);
     LVar0 := tile_num_in_direction(LVar1, 2, 2);
-    Critter := create_object_sid(16777226, 0, 0, 477);
+    Critter := create_object_sid(16777226, 0, 0, SCRIPT_ECCRTBRA);
     critter_attempt_placement(Critter, LVar0, 0);
     anim(Critter, 1000, 1);
     return 0;
@@ -9843,30 +9843,30 @@ begin
     variable LVar3 := 0;
     variable LVar4 := 0;
     LVar2 := random(0, 99);
-    LVar3 := 30 + (2 * get_critter_stat(dude_obj, 6));
-    if (metarule(14, 0) and not(global_var(352) bwand 1) and (LVar2 < LVar3) and has_trait(0, dude_obj, 46)) then begin
-        if (not(global_var(352) bwand 2)) then begin
-            set_global_var(352, global_var(352) bwor 2);
+    LVar3 := 30 + (2 * dude_luck);
+    if (map_first_run and not(global_var(GVAR_MYSTERIOUS_STRANGER) bwand 1) and (LVar2 < LVar3) and has_trait(TRAIT_PERK, dude_obj, PERK_mysterious_stranger)) then begin
+        if (not(global_var(GVAR_MYSTERIOUS_STRANGER) bwand 2)) then begin
+            set_global_var(GVAR_MYSTERIOUS_STRANGER, global_var(GVAR_MYSTERIOUS_STRANGER) bwor 2);
             if (random(0, 99) < 50) then begin
-                set_global_var(352, global_var(352) bwor 4);
+                set_global_var(GVAR_MYSTERIOUS_STRANGER, global_var(GVAR_MYSTERIOUS_STRANGER) bwor 4);
             end
         end
-        if (global_var(352) bwand 4) then begin
-            LVar0 := create_object_sid(16777487, 0, 0, 732);
+        if (global_var(GVAR_MYSTERIOUS_STRANGER) bwand 4) then begin
+            LVar0 := create_object_sid(16777487, 0, 0, SCRIPT_ECMSTSTR);
         end
         else begin
-            LVar0 := create_object_sid(16777486, 0, 0, 732);
+            LVar0 := create_object_sid(16777486, 0, 0, SCRIPT_ECMSTSTR);
         end
-        LVar1 := tile_num_in_direction(tile_num(dude_obj), random(0, 5), random(5, 10));
+        LVar1 := tile_num_in_direction(dude_tile, random(0, 5), random(5, 10));
         critter_attempt_placement(LVar0, LVar1, elevation(dude_obj));
-        LVar4 := critter_add_trait(LVar0, 1, 6, 0);
-        if (has_trait(0, dude_obj, 20)) then begin
+        LVar4 := critter_add_trait(LVar0, TRAIT_OBJECT, OBJECT_TEAM_NUM, 0);
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(LVar0, 2 * random(30, 60));
         end
         else begin
             item_caps_adjust(LVar0, random(30, 60));
         end
-        anim(LVar0, 1000, has_trait(1, dude_obj, 10));
+        anim(LVar0, 1000, obj_get_rot(dude_obj));
     end
     return 0;
     LVar0 := 0;
@@ -9882,29 +9882,29 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     if (LVar1 < 1) then begin
         LVar1 := 1;
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777252, 0, 0, 772);
+        Critter := create_object_sid(16777252, 0, 0, SCRIPT_ECROGUE);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (388 > 0) then begin
-            LVar3 := create_object_sid(388, 0, 0, -1);
+            LVar3 := create_object(388, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
-        if (has_trait(0, dude_obj, 20)) then begin
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(5, 20));
         end
         else begin
@@ -9918,22 +9918,22 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777253, 0, 0, 772);
+        Critter := create_object_sid(16777253, 0, 0, SCRIPT_ECROGUE);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (354 > 0) then begin
-            LVar3 := create_object_sid(354, 0, 0, -1);
+            LVar3 := create_object(354, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
-        if (has_trait(0, dude_obj, 20)) then begin
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(5, 20));
         end
         else begin
@@ -9947,22 +9947,22 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777255, 0, 0, 772);
+        Critter := create_object_sid(16777255, 0, 0, SCRIPT_ECROGUE);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (11 > 0) then begin
-            LVar3 := create_object_sid(11, 0, 0, -1);
+            LVar3 := create_object(11, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
-        if (has_trait(0, dude_obj, 20)) then begin
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(5, 20));
         end
         else begin
@@ -9976,22 +9976,22 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777254, 0, 0, 772);
+        Critter := create_object_sid(16777254, 0, 0, SCRIPT_ECROGUE);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (268 > 0) then begin
-            LVar3 := create_object_sid(268, 0, 0, -1);
+            LVar3 := create_object(268, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
-        if (has_trait(0, dude_obj, 20)) then begin
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(5, 20));
         end
         else begin
@@ -10011,7 +10011,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 1;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -10019,20 +10019,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777298, 0, 0, 632);
+        Critter := create_object_sid(16777298, 0, 0, SCRIPT_ECWLDDOG);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     return 0;
@@ -10048,7 +10048,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 1;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -10056,20 +10056,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777222, 0, 0, 616);
+        Critter := create_object_sid(16777222, 0, 0, SCRIPT_ECSCORP);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     return 0;
@@ -10085,7 +10085,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 1;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -10093,20 +10093,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777232, 0, 0, 614);
+        Critter := create_object_sid(16777232, 0, 0, SCRIPT_ECPLANT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     return 0;
@@ -10123,7 +10123,7 @@ begin
     variable LVar2 := 0;
     variable LVar3 := 0;
     variable LVar4 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -10131,21 +10131,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777472, 0, 0, 738);
+        Critter := create_object_sid(16777472, 0, 0, SCRIPT_ECUNIPAT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (12 > 0) then begin
-            LVar3 := create_object_sid(12, 0, 0, -1);
+            LVar3 := create_object(12, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(4, 14));
         end
         else begin
@@ -10159,21 +10159,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777474, 0, 0, 738);
+        Critter := create_object_sid(16777474, 0, 0, SCRIPT_ECUNIPAT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (242 > 0) then begin
-            LVar3 := create_object_sid(242, 0, 0, -1);
+            LVar3 := create_object(242, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(3, 10));
         end
         else begin
@@ -10187,21 +10187,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777474, 0, 0, 738);
+        Critter := create_object_sid(16777474, 0, 0, SCRIPT_ECUNIPAT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (23 > 0) then begin
-            LVar3 := create_object_sid(23, 0, 0, -1);
+            LVar3 := create_object(23, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(4, 10));
         end
         else begin
@@ -10215,21 +10215,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777264, 0, 0, 738);
+        Critter := create_object_sid(16777264, 0, 0, SCRIPT_ECUNIPAT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (23 > 0) then begin
-            LVar3 := create_object_sid(23, 0, 0, -1);
+            LVar3 := create_object(23, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 25));
         end
         else begin
@@ -10243,27 +10243,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777265, 0, 0, 738);
+        Critter := create_object_sid(16777265, 0, 0, SCRIPT_ECUNIPAT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (23 > 0) then begin
-            LVar3 := create_object_sid(23, 0, 0, -1);
+            LVar3 := create_object(23, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 25));
         end
         else begin
             item_caps_adjust(Critter, random(10, 25));
         end
-        LVar4 := create_object_sid(14, 0, 0, -1);
+        LVar4 := create_object(14, 0, 0);
         add_mult_objs_to_inven(Critter, LVar4, random(2, 5));
     end
     return 0;
@@ -10280,7 +10280,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -10288,28 +10288,28 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777440, 0, 0, 508);
+        Critter := create_object_sid(16777440, 0, 0, SCRIPT_ECSLAVER);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (9 > 0) then begin
-            LVar3 := create_object_sid(9, 0, 0, -1);
+            LVar3 := create_object(9, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 30));
         end
         else begin
             item_caps_adjust(Critter, random(10, 30));
         end
         set_map_var(1, map_var(1) + 1);
-        LVar3 := create_object_sid(159, 0, 0, -1);
+        LVar3 := create_object(159, 0, 0);
         add_mult_objs_to_inven(Critter, LVar3, 2);
     end
     LVar1 := Encounter_Counter / 4;
@@ -10318,21 +10318,21 @@ begin
         LVar1 := 1;
         for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
             LVar0 := LVar0 + 1;
-            Critter := create_object_sid(16777441, 0, 0, 508);
+            Critter := create_object_sid(16777441, 0, 0, SCRIPT_ECSLAVER);
             LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
             Finding_New_Tile := 0;
             while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                 Finding_New_Tile := Finding_New_Tile + 1;
-                LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
             end
             critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
             if (280 > 0) then begin
-                LVar3 := create_object_sid(280, 0, 0, -1);
+                LVar3 := create_object(280, 0, 0);
                 add_obj_to_inven(Critter, LVar3);
                 wield_obj_critter(Critter, LVar3);
             end
-            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-            if (has_trait(0, dude_obj, 20)) then begin
+            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                 item_caps_adjust(Critter, 2 * random(20, 30));
                 continue;
             end
@@ -10345,27 +10345,27 @@ begin
         end
         while (LVar0 < LVar1) do begin
             LVar0 := LVar0 + 1;
-            Critter := create_object_sid(16777254, 0, 0, 508);
+            Critter := create_object_sid(16777254, 0, 0, SCRIPT_ECSLAVER);
             LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
             Finding_New_Tile := 0;
             while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                 Finding_New_Tile := Finding_New_Tile + 1;
-                LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
             end
             critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
             if (268 > 0) then begin
-                LVar3 := create_object_sid(268, 0, 0, -1);
+                LVar3 := create_object(268, 0, 0);
                 add_obj_to_inven(Critter, LVar3);
                 wield_obj_critter(Critter, LVar3);
             end
-            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-            if (has_trait(0, dude_obj, 20)) then begin
+            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                 item_caps_adjust(Critter, 2 * random(10, 20));
             end
             else begin
                 item_caps_adjust(Critter, random(10, 20));
             end
-            LVar3 := create_object_sid(259, 0, 0, -1);
+            LVar3 := create_object(259, 0, 0);
             add_mult_objs_to_inven(Critter, LVar3, 1);
             set_map_var(1, map_var(1) + 1);
         end
@@ -10376,27 +10376,27 @@ begin
         end
         while (LVar0 < LVar1) do begin
             LVar0 := LVar0 + 1;
-            Critter := create_object_sid(16777441, 0, 0, 508);
+            Critter := create_object_sid(16777441, 0, 0, SCRIPT_ECSLAVER);
             LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
             Finding_New_Tile := 0;
             while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                 Finding_New_Tile := Finding_New_Tile + 1;
-                LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
             end
             critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
             if (236 > 0) then begin
-                LVar3 := create_object_sid(236, 0, 0, -1);
+                LVar3 := create_object(236, 0, 0);
                 add_obj_to_inven(Critter, LVar3);
                 wield_obj_critter(Critter, LVar3);
             end
-            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-            if (has_trait(0, dude_obj, 20)) then begin
+            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                 item_caps_adjust(Critter, 2 * random(15, 30));
             end
             else begin
                 item_caps_adjust(Critter, random(15, 30));
             end
-            LVar3 := create_object_sid(259, 0, 0, -1);
+            LVar3 := create_object(259, 0, 0);
             add_mult_objs_to_inven(Critter, LVar3, 1);
             set_map_var(1, map_var(1) + 1);
         end
@@ -10413,7 +10413,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 1;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -10421,20 +10421,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777298, 0, 0, 632);
+        Critter := create_object_sid(16777298, 0, 0, SCRIPT_ECWLDDOG);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     return 0;
@@ -10450,7 +10450,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter * 7 / 10;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -10458,20 +10458,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777302, 0, 0, 615);
+        Critter := create_object_sid(16777302, 0, 0, SCRIPT_ECGECKO);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter * 3 / 10;
@@ -10481,20 +10481,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777299, 0, 0, 615);
+        Critter := create_object_sid(16777299, 0, 0, SCRIPT_ECGECKO);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     return 0;
@@ -10510,7 +10510,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -10518,27 +10518,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777438, 0, 0, 491);
+        Critter := create_object_sid(16777438, 0, 0, SCRIPT_ECVLTPAT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (23 > 0) then begin
-            LVar3 := create_object_sid(23, 0, 0, -1);
+            LVar3 := create_object(23, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(30, 40));
         end
         else begin
             item_caps_adjust(Critter, random(30, 40));
         end
-        LVar3 := create_object_sid(40, 0, 0, -1);
+        LVar3 := create_object(40, 0, 0);
         add_mult_objs_to_inven(Critter, LVar3, 1);
     end
     LVar1 := Encounter_Counter / 4;
@@ -10548,27 +10548,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777439, 0, 0, 491);
+        Critter := create_object_sid(16777439, 0, 0, SCRIPT_ECVLTPAT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (23 > 0) then begin
-            LVar3 := create_object_sid(23, 0, 0, -1);
+            LVar3 := create_object(23, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 40));
         end
         else begin
             item_caps_adjust(Critter, random(20, 40));
         end
-        LVar3 := create_object_sid(40, 0, 0, -1);
+        LVar3 := create_object(40, 0, 0);
         add_mult_objs_to_inven(Critter, LVar3, 1);
     end
     LVar1 := Encounter_Counter / 4;
@@ -10578,27 +10578,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777438, 0, 0, 491);
+        Critter := create_object_sid(16777438, 0, 0, SCRIPT_ECVLTPAT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (18 > 0) then begin
-            LVar3 := create_object_sid(18, 0, 0, -1);
+            LVar3 := create_object(18, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 40));
         end
         else begin
             item_caps_adjust(Critter, random(20, 40));
         end
-        LVar3 := create_object_sid(40, 0, 0, -1);
+        LVar3 := create_object(40, 0, 0);
         add_mult_objs_to_inven(Critter, LVar3, 1);
     end
     LVar1 := Encounter_Counter / 4;
@@ -10608,27 +10608,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777439, 0, 0, 491);
+        Critter := create_object_sid(16777439, 0, 0, SCRIPT_ECVLTPAT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (18 > 0) then begin
-            LVar3 := create_object_sid(18, 0, 0, -1);
+            LVar3 := create_object(18, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(15, 30));
         end
         else begin
             item_caps_adjust(Critter, random(15, 30));
         end
-        LVar3 := create_object_sid(40, 0, 0, -1);
+        LVar3 := create_object(40, 0, 0);
         add_mult_objs_to_inven(Critter, LVar3, 1);
     end
     return 0;
@@ -10644,28 +10644,28 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
         LVar1 := 1;
         for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
             LVar0 := LVar0 + 1;
-            Critter := create_object_sid(16777454, 0, 0, 256);
+            Critter := create_object_sid(16777454, 0, 0, SCRIPT_ECRAIDER);
             LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
             Finding_New_Tile := 0;
             while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                 Finding_New_Tile := Finding_New_Tile + 1;
-                LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
             end
             critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
             if (23 > 0) then begin
-                LVar3 := create_object_sid(23, 0, 0, -1);
+                LVar3 := create_object(23, 0, 0);
                 add_obj_to_inven(Critter, LVar3);
                 wield_obj_critter(Critter, LVar3);
             end
-            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-            if (has_trait(0, dude_obj, 20)) then begin
+            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                 item_caps_adjust(Critter, 2 * random(14, 23));
                 continue;
             end
@@ -10677,21 +10677,21 @@ begin
             LVar1 := 1;
             for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                 LVar0 := LVar0 + 1;
-                Critter := create_object_sid(16777454, 0, 0, 256);
+                Critter := create_object_sid(16777454, 0, 0, SCRIPT_ECRAIDER);
                 LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                 Finding_New_Tile := 0;
                 while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                     Finding_New_Tile := Finding_New_Tile + 1;
-                    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                 end
                 critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
                 if (242 > 0) then begin
-                    LVar3 := create_object_sid(242, 0, 0, -1);
+                    LVar3 := create_object(242, 0, 0);
                     add_obj_to_inven(Critter, LVar3);
                     wield_obj_critter(Critter, LVar3);
                 end
-                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                if (has_trait(0, dude_obj, 20)) then begin
+                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                     item_caps_adjust(Critter, 2 * random(20, 26));
                     continue;
                 end
@@ -10703,21 +10703,21 @@ begin
                 LVar1 := 1;
                 for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                     LVar0 := LVar0 + 1;
-                    Critter := create_object_sid(16777455, 0, 0, 256);
+                    Critter := create_object_sid(16777455, 0, 0, SCRIPT_ECRAIDER);
                     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                     Finding_New_Tile := 0;
                     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                         Finding_New_Tile := Finding_New_Tile + 1;
-                        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                     end
                     critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
                     if (268 > 0) then begin
-                        LVar3 := create_object_sid(268, 0, 0, -1);
+                        LVar3 := create_object(268, 0, 0);
                         add_obj_to_inven(Critter, LVar3);
                         wield_obj_critter(Critter, LVar3);
                     end
-                    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                    if (has_trait(0, dude_obj, 20)) then begin
+                    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                         item_caps_adjust(Critter, 2 * random(13, 21));
                         continue;
                     end
@@ -10729,21 +10729,21 @@ begin
                     LVar1 := 1;
                     for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                         LVar0 := LVar0 + 1;
-                        Critter := create_object_sid(16777455, 0, 0, 256);
+                        Critter := create_object_sid(16777455, 0, 0, SCRIPT_ECRAIDER);
                         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                         Finding_New_Tile := 0;
                         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                             Finding_New_Tile := Finding_New_Tile + 1;
-                            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                         end
                         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
                         if (332 > 0) then begin
-                            LVar3 := create_object_sid(332, 0, 0, -1);
+                            LVar3 := create_object(332, 0, 0);
                             add_obj_to_inven(Critter, LVar3);
                             wield_obj_critter(Critter, LVar3);
                         end
-                        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                        if (has_trait(0, dude_obj, 20)) then begin
+                        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                             item_caps_adjust(Critter, 2 * random(15, 28));
                             continue;
                         end
@@ -10762,24 +10762,24 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, 18);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, 18);
     call Build_Grey_Caravan();
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777274, 0, 0, 789);
+    Critter := create_object_sid(16777274, 0, 0, SCRIPT_ECMSTVC);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
     critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
     if (-1 > 0) then begin
-        LVar3 := create_object_sid(-1, 0, 0, -1);
+        LVar3 := create_object(-1, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(50, 90));
     end
     else begin
@@ -10792,21 +10792,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777256, 0, 0, 259);
+        Critter := create_object_sid(16777256, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (10 > 0) then begin
-            LVar3 := create_object_sid(10, 0, 0, -1);
+            LVar3 := create_object(10, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 30));
         end
         else begin
@@ -10820,21 +10820,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777257, 0, 0, 259);
+        Critter := create_object_sid(16777257, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (8 > 0) then begin
-            LVar3 := create_object_sid(8, 0, 0, -1);
+            LVar3 := create_object(8, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(15, 30));
         end
         else begin
@@ -10848,21 +10848,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777256, 0, 0, 259);
+        Critter := create_object_sid(16777256, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (9 > 0) then begin
-            LVar3 := create_object_sid(9, 0, 0, -1);
+            LVar3 := create_object(9, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 20));
         end
         else begin
@@ -10876,21 +10876,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777257, 0, 0, 259);
+        Critter := create_object_sid(16777257, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (18 > 0) then begin
-            LVar3 := create_object_sid(18, 0, 0, -1);
+            LVar3 := create_object(18, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(12, 22));
         end
         else begin
@@ -10910,24 +10910,24 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, 14);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, 14);
     call Build_Grey_Caravan();
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777277, 0, 0, 779);
+    Critter := create_object_sid(16777277, 0, 0, SCRIPT_ECMSTBRO);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
     critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
     if (268 > 0) then begin
-        LVar3 := create_object_sid(268, 0, 0, -1);
+        LVar3 := create_object(268, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(100, 130));
     end
     else begin
@@ -10940,21 +10940,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777264, 0, 0, 259);
+        Critter := create_object_sid(16777264, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (12 > 0) then begin
-            LVar3 := create_object_sid(12, 0, 0, -1);
+            LVar3 := create_object(12, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(30, 50));
         end
         else begin
@@ -10968,21 +10968,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777265, 0, 0, 259);
+        Critter := create_object_sid(16777265, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (12 > 0) then begin
-            LVar3 := create_object_sid(12, 0, 0, -1);
+            LVar3 := create_object(12, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(25, 45));
         end
         else begin
@@ -11002,24 +11002,24 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, 13);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, 13);
     call Build_Grey_Caravan();
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777395, 0, 0, 780);
+    Critter := create_object_sid(16777395, 0, 0, SCRIPT_ECMSTGEC);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
     critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
     if (94 > 0) then begin
-        LVar3 := create_object_sid(94, 0, 0, -1);
+        LVar3 := create_object(94, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(30, 50));
     end
     else begin
@@ -11032,21 +11032,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777318, 0, 0, 259);
+        Critter := create_object_sid(16777318, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (10 > 0) then begin
-            LVar3 := create_object_sid(10, 0, 0, -1);
+            LVar3 := create_object(10, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 20));
         end
         else begin
@@ -11060,21 +11060,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777318, 0, 0, 259);
+        Critter := create_object_sid(16777318, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (23 > 0) then begin
-            LVar3 := create_object_sid(23, 0, 0, -1);
+            LVar3 := create_object(23, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(15, 25));
         end
         else begin
@@ -11094,28 +11094,28 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
         LVar1 := 1;
         for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
             LVar0 := LVar0 + 1;
-            Critter := create_object_sid(16777254, 0, 0, 771);
+            Critter := create_object_sid(16777254, 0, 0, SCRIPT_ECMARADR);
             LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
             Finding_New_Tile := 0;
             while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                 Finding_New_Tile := Finding_New_Tile + 1;
-                LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
             end
             critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
             if (268 > 0) then begin
-                LVar3 := create_object_sid(268, 0, 0, -1);
+                LVar3 := create_object(268, 0, 0);
                 add_obj_to_inven(Critter, LVar3);
                 wield_obj_critter(Critter, LVar3);
             end
-            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-            if (has_trait(0, dude_obj, 20)) then begin
+            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                 item_caps_adjust(Critter, 2 * random(10, 40));
                 continue;
             end
@@ -11127,21 +11127,21 @@ begin
             LVar1 := 1;
             for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                 LVar0 := LVar0 + 1;
-                Critter := create_object_sid(16777479, 0, 0, 771);
+                Critter := create_object_sid(16777479, 0, 0, SCRIPT_ECMARADR);
                 LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                 Finding_New_Tile := 0;
                 while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                     Finding_New_Tile := Finding_New_Tile + 1;
-                    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                 end
                 critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
                 if (296 > 0) then begin
-                    LVar3 := create_object_sid(296, 0, 0, -1);
+                    LVar3 := create_object(296, 0, 0);
                     add_obj_to_inven(Critter, LVar3);
                     wield_obj_critter(Critter, LVar3);
                 end
-                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                if (has_trait(0, dude_obj, 20)) then begin
+                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                     item_caps_adjust(Critter, 2 * random(10, 30));
                     continue;
                 end
@@ -11153,21 +11153,21 @@ begin
                 LVar1 := 1;
                 for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                     LVar0 := LVar0 + 1;
-                    Critter := create_object_sid(16777480, 0, 0, 771);
+                    Critter := create_object_sid(16777480, 0, 0, SCRIPT_ECMARADR);
                     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                     Finding_New_Tile := 0;
                     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                         Finding_New_Tile := Finding_New_Tile + 1;
-                        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                     end
                     critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
                     if (280 > 0) then begin
-                        LVar3 := create_object_sid(280, 0, 0, -1);
+                        LVar3 := create_object(280, 0, 0);
                         add_obj_to_inven(Critter, LVar3);
                         wield_obj_critter(Critter, LVar3);
                     end
-                    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                    if (has_trait(0, dude_obj, 20)) then begin
+                    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                         item_caps_adjust(Critter, 2 * random(10, 40));
                         continue;
                     end
@@ -11179,21 +11179,21 @@ begin
                     LVar1 := 1;
                     for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                         LVar0 := LVar0 + 1;
-                        Critter := create_object_sid(16777480, 0, 0, 771);
+                        Critter := create_object_sid(16777480, 0, 0, SCRIPT_ECMARADR);
                         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                         Finding_New_Tile := 0;
                         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                             Finding_New_Tile := Finding_New_Tile + 1;
-                            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                         end
                         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
                         if (236 > 0) then begin
-                            LVar3 := create_object_sid(236, 0, 0, -1);
+                            LVar3 := create_object(236, 0, 0);
                             add_obj_to_inven(Critter, LVar3);
                             wield_obj_critter(Critter, LVar3);
                         end
-                        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                        if (has_trait(0, dude_obj, 20)) then begin
+                        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                             item_caps_adjust(Critter, 2 * random(10, 30));
                             continue;
                         end
@@ -11212,24 +11212,24 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, random(13, 16));
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, random(13, 16));
     call Build_Grey_Caravan();
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777275, 0, 0, 777);
+    Critter := create_object_sid(16777275, 0, 0, SCRIPT_ECMSTNEW);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
     critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
     if (-1 > 0) then begin
-        LVar3 := create_object_sid(-1, 0, 0, -1);
+        LVar3 := create_object(-1, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(20, 40));
     end
     else begin
@@ -11242,21 +11242,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777262, 0, 0, 259);
+        Critter := create_object_sid(16777262, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (22 > 0) then begin
-            LVar3 := create_object_sid(22, 0, 0, -1);
+            LVar3 := create_object(22, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 20));
         end
         else begin
@@ -11270,21 +11270,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777263, 0, 0, 259);
+        Critter := create_object_sid(16777263, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (23 > 0) then begin
-            LVar3 := create_object_sid(23, 0, 0, -1);
+            LVar3 := create_object(23, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(8, 18));
         end
         else begin
@@ -11298,21 +11298,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777258, 0, 0, 259);
+        Critter := create_object_sid(16777258, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (115 > 0) then begin
-            LVar3 := create_object_sid(115, 0, 0, -1);
+            LVar3 := create_object(115, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(5, 15));
         end
         else begin
@@ -11326,27 +11326,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777261, 0, 0, 259);
+        Critter := create_object_sid(16777261, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (385 > 0) then begin
-            LVar3 := create_object_sid(385, 0, 0, -1);
+            LVar3 := create_object(385, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(13, 23));
         end
         else begin
             item_caps_adjust(Critter, random(13, 23));
         end
-        LVar3 := create_object_sid(95, 0, 0, -1);
+        LVar3 := create_object(95, 0, 0);
         add_mult_objs_to_inven(Critter, LVar3, 2);
     end
     return 0;
@@ -11362,24 +11362,24 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, 13);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, 13);
     call Build_Grey_Caravan();
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777277, 0, 0, 778);
+    Critter := create_object_sid(16777277, 0, 0, SCRIPT_ECMSTRED);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
     critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
     if (-1 > 0) then begin
-        LVar3 := create_object_sid(-1, 0, 0, -1);
+        LVar3 := create_object(-1, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(40, 100));
     end
     else begin
@@ -11392,21 +11392,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777262, 0, 0, 259);
+        Critter := create_object_sid(16777262, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (23 > 0) then begin
-            LVar3 := create_object_sid(23, 0, 0, -1);
+            LVar3 := create_object(23, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 30));
         end
         else begin
@@ -11420,21 +11420,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777264, 0, 0, 259);
+        Critter := create_object_sid(16777264, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (12 > 0) then begin
-            LVar3 := create_object_sid(12, 0, 0, -1);
+            LVar3 := create_object(12, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 40));
         end
         else begin
@@ -11448,21 +11448,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777263, 0, 0, 259);
+        Critter := create_object_sid(16777263, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (22 > 0) then begin
-            LVar3 := create_object_sid(22, 0, 0, -1);
+            LVar3 := create_object(22, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 30));
         end
         else begin
@@ -11476,21 +11476,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777263, 0, 0, 259);
+        Critter := create_object_sid(16777263, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (332 > 0) then begin
-            LVar3 := create_object_sid(332, 0, 0, -1);
+            LVar3 := create_object(332, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 30));
         end
         else begin
@@ -11510,24 +11510,24 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     call Build_Grey_Caravan();
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777277, 0, 0, 782);
+    Critter := create_object_sid(16777277, 0, 0, SCRIPT_ECMSTNCR);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
     critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
     if (268 > 0) then begin
-        LVar3 := create_object_sid(268, 0, 0, -1);
+        LVar3 := create_object(268, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(50, 100));
     end
     else begin
@@ -11540,21 +11540,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777477, 0, 0, 259);
+        Critter := create_object_sid(16777477, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (242 > 0) then begin
-            LVar3 := create_object_sid(242, 0, 0, -1);
+            LVar3 := create_object(242, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 40));
         end
         else begin
@@ -11568,21 +11568,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777477, 0, 0, 259);
+        Critter := create_object_sid(16777477, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (11 > 0) then begin
-            LVar3 := create_object_sid(11, 0, 0, -1);
+            LVar3 := create_object(11, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(25, 45));
         end
         else begin
@@ -11596,21 +11596,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777478, 0, 0, 259);
+        Critter := create_object_sid(16777478, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (268 > 0) then begin
-            LVar3 := create_object_sid(268, 0, 0, -1);
+            LVar3 := create_object(268, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 30));
         end
         else begin
@@ -11624,21 +11624,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777478, 0, 0, 259);
+        Critter := create_object_sid(16777478, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (332 > 0) then begin
-            LVar3 := create_object_sid(332, 0, 0, -1);
+            LVar3 := create_object(332, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 40));
         end
         else begin
@@ -11658,24 +11658,24 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     call Build_Grey_Caravan();
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777277, 0, 0, 783);
+    Critter := create_object_sid(16777277, 0, 0, SCRIPT_ECMSTV15);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
     critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
     if (332 > 0) then begin
-        LVar3 := create_object_sid(332, 0, 0, -1);
+        LVar3 := create_object(332, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(50, 100));
     end
     else begin
@@ -11688,21 +11688,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777477, 0, 0, 259);
+        Critter := create_object_sid(16777477, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (242 > 0) then begin
-            LVar3 := create_object_sid(242, 0, 0, -1);
+            LVar3 := create_object(242, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 40));
         end
         else begin
@@ -11716,21 +11716,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777477, 0, 0, 259);
+        Critter := create_object_sid(16777477, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (11 > 0) then begin
-            LVar3 := create_object_sid(11, 0, 0, -1);
+            LVar3 := create_object(11, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(25, 45));
         end
         else begin
@@ -11744,21 +11744,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777478, 0, 0, 259);
+        Critter := create_object_sid(16777478, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (268 > 0) then begin
-            LVar3 := create_object_sid(268, 0, 0, -1);
+            LVar3 := create_object(268, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 30));
         end
         else begin
@@ -11772,21 +11772,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777478, 0, 0, 259);
+        Critter := create_object_sid(16777478, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (332 > 0) then begin
-            LVar3 := create_object_sid(332, 0, 0, -1);
+            LVar3 := create_object(332, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 40));
         end
         else begin
@@ -11806,24 +11806,24 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     if (random(0, 99) < 50) then begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777437, 0, 0, 496);
+        Critter := create_object_sid(16777437, 0, 0, SCRIPT_ECTRVLR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (236 > 0) then begin
-            LVar3 := create_object_sid(236, 0, 0, -1);
+            LVar3 := create_object(236, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(5, 15));
         end
         else begin
@@ -11832,21 +11832,21 @@ begin
     end
     else begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777436, 0, 0, 496);
+        Critter := create_object_sid(16777436, 0, 0, SCRIPT_ECTRVLR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (235 > 0) then begin
-            LVar3 := create_object_sid(235, 0, 0, -1);
+            LVar3 := create_object(235, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(5, 15));
         end
         else begin
@@ -11866,7 +11866,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -11874,20 +11874,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777473, 0, 0, 762);
+        Critter := create_object_sid(16777473, 0, 0, SCRIPT_ECMSTAMY);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (118 > 0) then begin
-            LVar3 := create_object_sid(118, 0, 0, -1);
+            LVar3 := create_object(118, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter / 4;
@@ -11897,21 +11897,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777472, 0, 0, 762);
+        Critter := create_object_sid(16777472, 0, 0, SCRIPT_ECMSTAMY);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (12 > 0) then begin
-            LVar3 := create_object_sid(12, 0, 0, -1);
+            LVar3 := create_object(12, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        LVar3 := create_object_sid(35, 0, 0, -1);
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        LVar3 := create_object(35, 0, 0);
         add_mult_objs_to_inven(Critter, LVar3, random(1, 3));
         set_map_var(1, map_var(1) + 1);
     end
@@ -11922,20 +11922,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777464, 0, 0, 793);
+        Critter := create_object_sid(16777464, 0, 0, SCRIPT_ECCENTUR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter / 4;
@@ -11945,20 +11945,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777462, 0, 0, 792);
+        Critter := create_object_sid(16777462, 0, 0, SCRIPT_ECFLOATR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     return 0;
@@ -11974,7 +11974,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -11982,21 +11982,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777477, 0, 0, 485);
+        Critter := create_object_sid(16777477, 0, 0, SCRIPT_ECRANGER);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (242 > 0) then begin
-            LVar3 := create_object_sid(242, 0, 0, -1);
+            LVar3 := create_object(242, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 30));
         end
         else begin
@@ -12010,21 +12010,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777477, 0, 0, 485);
+        Critter := create_object_sid(16777477, 0, 0, SCRIPT_ECRANGER);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (11 > 0) then begin
-            LVar3 := create_object_sid(11, 0, 0, -1);
+            LVar3 := create_object(11, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(15, 30));
         end
         else begin
@@ -12038,21 +12038,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777478, 0, 0, 485);
+        Critter := create_object_sid(16777478, 0, 0, SCRIPT_ECRANGER);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (268 > 0) then begin
-            LVar3 := create_object_sid(268, 0, 0, -1);
+            LVar3 := create_object(268, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 30));
         end
         else begin
@@ -12066,21 +12066,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777478, 0, 0, 485);
+        Critter := create_object_sid(16777478, 0, 0, SCRIPT_ECRANGER);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (332 > 0) then begin
-            LVar3 := create_object_sid(332, 0, 0, -1);
+            LVar3 := create_object(332, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 40));
         end
         else begin
@@ -12100,7 +12100,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter * 2 / 3;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -12108,27 +12108,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777281, 0, 0, 493);
+        Critter := create_object_sid(16777281, 0, 0, SCRIPT_ECFARMER);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (9 > 0) then begin
-            LVar3 := create_object_sid(9, 0, 0, -1);
+            LVar3 := create_object(9, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(2, 10));
         end
         else begin
             item_caps_adjust(Critter, random(2, 10));
         end
-        LVar3 := create_object_sid(71, 0, 0, -1);
+        LVar3 := create_object(71, 0, 0);
         add_mult_objs_to_inven(Critter, LVar3, random(2, 5));
     end
     LVar1 := Encounter_Counter / 3;
@@ -12138,62 +12138,62 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777282, 0, 0, 493);
+        Critter := create_object_sid(16777282, 0, 0, SCRIPT_ECFARMER);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (10 > 0) then begin
-            LVar3 := create_object_sid(10, 0, 0, -1);
+            LVar3 := create_object(10, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(5, 10));
         end
         else begin
             item_caps_adjust(Critter, random(5, 10));
         end
-        LVar3 := create_object_sid(71, 0, 0, -1);
+        LVar3 := create_object(71, 0, 0);
         add_mult_objs_to_inven(Critter, LVar3, random(2, 5));
     end
     if (random(0, 99) < 30) then begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777268, 0, 0, 1129);
+        Critter := create_object_sid(16777268, 0, 0, SCRIPT_ECCHILD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
     end
     if (random(0, 99) < 30) then begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777269, 0, 0, 1129);
+        Critter := create_object_sid(16777269, 0, 0, SCRIPT_ECCHILD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
     end
     return 0;
     LVar0 := 0;
@@ -12208,24 +12208,24 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     call Build_Grey_Caravan();
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777272, 0, 0, 776);
+    Critter := create_object_sid(16777272, 0, 0, SCRIPT_ECMSTDEN);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
     critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
     if (-1 > 0) then begin
-        LVar3 := create_object_sid(-1, 0, 0, -1);
+        LVar3 := create_object(-1, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(3, 20));
     end
     else begin
@@ -12238,21 +12238,21 @@ begin
         LVar1 := 1;
         for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
             LVar0 := LVar0 + 1;
-            Critter := create_object_sid(16777440, 0, 0, 259);
+            Critter := create_object_sid(16777440, 0, 0, SCRIPT_ECGUARD);
             LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
             Finding_New_Tile := 0;
             while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                 Finding_New_Tile := Finding_New_Tile + 1;
-                LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
             end
             critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
             if (236 > 0) then begin
-                LVar3 := create_object_sid(236, 0, 0, -1);
+                LVar3 := create_object(236, 0, 0);
                 add_obj_to_inven(Critter, LVar3);
                 wield_obj_critter(Critter, LVar3);
             end
-            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-            if (has_trait(0, dude_obj, 20)) then begin
+            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                 item_caps_adjust(Critter, 2 * random(3, 10));
                 continue;
             end
@@ -12264,21 +12264,21 @@ begin
             LVar1 := 1;
             for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                 LVar0 := LVar0 + 1;
-                Critter := create_object_sid(16777356, 0, 0, 259);
+                Critter := create_object_sid(16777356, 0, 0, SCRIPT_ECGUARD);
                 LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                 Finding_New_Tile := 0;
                 while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                     Finding_New_Tile := Finding_New_Tile + 1;
-                    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                 end
                 critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
                 if (9 > 0) then begin
-                    LVar3 := create_object_sid(9, 0, 0, -1);
+                    LVar3 := create_object(9, 0, 0);
                     add_obj_to_inven(Critter, LVar3);
                     wield_obj_critter(Critter, LVar3);
                 end
-                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                if (has_trait(0, dude_obj, 20)) then begin
+                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                     item_caps_adjust(Critter, 2 * random(2, 10));
                     continue;
                 end
@@ -12291,20 +12291,20 @@ begin
             end
             while (LVar0 < LVar1) do begin
                 LVar0 := LVar0 + 1;
-                Critter := create_object_sid(16777235, 0, 0, 628);
+                Critter := create_object_sid(16777235, 0, 0, SCRIPT_ECSLAVE);
                 LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                 Finding_New_Tile := 0;
                 while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                     Finding_New_Tile := Finding_New_Tile + 1;
-                    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                 end
                 critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
                 if (-1 > 0) then begin
-                    LVar3 := create_object_sid(-1, 0, 0, -1);
+                    LVar3 := create_object(-1, 0, 0);
                     add_obj_to_inven(Critter, LVar3);
                     wield_obj_critter(Critter, LVar3);
                 end
-                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
             end
             LVar1 := Encounter_Counter * 3 / 20;
             LVar0 := 0;
@@ -12313,20 +12313,20 @@ begin
             end
             while (LVar0 < LVar1) do begin
                 LVar0 := LVar0 + 1;
-                Critter := create_object_sid(16777236, 0, 0, 628);
+                Critter := create_object_sid(16777236, 0, 0, SCRIPT_ECSLAVE);
                 LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                 Finding_New_Tile := 0;
                 while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                     Finding_New_Tile := Finding_New_Tile + 1;
-                    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                 end
                 critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
                 if (-1 > 0) then begin
-                    LVar3 := create_object_sid(-1, 0, 0, -1);
+                    LVar3 := create_object(-1, 0, 0);
                     add_obj_to_inven(Critter, LVar3);
                     wield_obj_critter(Critter, LVar3);
                 end
-                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
             end
             return 0;
             LVar0 := 0;
@@ -12341,7 +12341,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter * 3 / 10;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -12349,27 +12349,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777246, 0, 0, 626);
+        Critter := create_object_sid(16777246, 0, 0, SCRIPT_ECHIWYMN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (313 > 0) then begin
-            LVar3 := create_object_sid(313, 0, 0, -1);
+            LVar3 := create_object(313, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(5, 10));
         end
         else begin
             item_caps_adjust(Critter, random(5, 10));
         end
-        LVar3 := create_object_sid(40, 0, 0, -1);
+        LVar3 := create_object(40, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         set_map_var(1, map_var(1) + 1);
     end
@@ -12380,29 +12380,29 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777247, 0, 0, 626);
+        Critter := create_object_sid(16777247, 0, 0, SCRIPT_ECHIWYMN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (351 > 0) then begin
-            LVar3 := create_object_sid(351, 0, 0, -1);
+            LVar3 := create_object(351, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(6, 10));
         end
         else begin
             item_caps_adjust(Critter, random(6, 10));
         end
-        LVar3 := create_object_sid(363, 0, 0, -1);
+        LVar3 := create_object(363, 0, 0);
         add_obj_to_inven(Critter, LVar3);
-        LVar3 := create_object_sid(40, 0, 0, -1);
+        LVar3 := create_object(40, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         set_map_var(1, map_var(1) + 1);
     end
@@ -12413,27 +12413,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777246, 0, 0, 626);
+        Critter := create_object_sid(16777246, 0, 0, SCRIPT_ECHIWYMN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (18 > 0) then begin
-            LVar3 := create_object_sid(18, 0, 0, -1);
+            LVar3 := create_object(18, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(4, 12));
         end
         else begin
             item_caps_adjust(Critter, random(4, 12));
         end
-        LVar3 := create_object_sid(273, 0, 0, -1);
+        LVar3 := create_object(273, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         set_map_var(1, map_var(1) + 1);
     end
@@ -12444,29 +12444,29 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777247, 0, 0, 626);
+        Critter := create_object_sid(16777247, 0, 0, SCRIPT_ECHIWYMN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (94 > 0) then begin
-            LVar3 := create_object_sid(94, 0, 0, -1);
+            LVar3 := create_object(94, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(5, 10));
         end
         else begin
             item_caps_adjust(Critter, random(5, 10));
         end
-        LVar3 := create_object_sid(273, 0, 0, -1);
+        LVar3 := create_object(273, 0, 0);
         add_obj_to_inven(Critter, LVar3);
-        LVar3 := create_object_sid(95, 0, 0, -1);
+        LVar3 := create_object(95, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         set_map_var(1, map_var(1) + 1);
     end
@@ -12483,7 +12483,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter * 2 / 5;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -12491,27 +12491,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777246, 0, 0, 625);
+        Critter := create_object_sid(16777246, 0, 0, SCRIPT_ECROBBER);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (94 > 0) then begin
-            LVar3 := create_object_sid(94, 0, 0, -1);
+            LVar3 := create_object(94, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(5, 11));
         end
         else begin
             item_caps_adjust(Critter, random(5, 11));
         end
-        LVar3 := create_object_sid(95, 0, 0, -1);
+        LVar3 := create_object(95, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         set_map_var(1, map_var(1) + 1);
     end
@@ -12522,27 +12522,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777247, 0, 0, 625);
+        Critter := create_object_sid(16777247, 0, 0, SCRIPT_ECROBBER);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (9 > 0) then begin
-            LVar3 := create_object_sid(9, 0, 0, -1);
+            LVar3 := create_object(9, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(6, 12));
         end
         else begin
             item_caps_adjust(Critter, random(6, 12));
         end
-        LVar3 := create_object_sid(29, 0, 0, -1);
+        LVar3 := create_object(29, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         set_map_var(1, map_var(1) + 1);
     end
@@ -12553,29 +12553,29 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777250, 0, 0, 625);
+        Critter := create_object_sid(16777250, 0, 0, SCRIPT_ECROBBER);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (236 > 0) then begin
-            LVar3 := create_object_sid(236, 0, 0, -1);
+            LVar3 := create_object(236, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(6, 10));
         end
         else begin
             item_caps_adjust(Critter, random(6, 10));
         end
-        LVar3 := create_object_sid(40, 0, 0, -1);
+        LVar3 := create_object(40, 0, 0);
         add_obj_to_inven(Critter, LVar3);
-        LVar3 := create_object_sid(259, 0, 0, -1);
+        LVar3 := create_object(259, 0, 0);
         add_mult_objs_to_inven(Critter, LVar3, random(1, 3));
         set_map_var(1, map_var(1) + 1);
     end
@@ -12586,27 +12586,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777251, 0, 0, 625);
+        Critter := create_object_sid(16777251, 0, 0, SCRIPT_ECROBBER);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (9 > 0) then begin
-            LVar3 := create_object_sid(9, 0, 0, -1);
+            LVar3 := create_object(9, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 14));
         end
         else begin
             item_caps_adjust(Critter, random(10, 14));
         end
-        LVar3 := create_object_sid(259, 0, 0, -1);
+        LVar3 := create_object(259, 0, 0);
         add_mult_objs_to_inven(Critter, LVar3, random(1, 4));
         set_map_var(1, map_var(1) + 1);
     end
@@ -12623,31 +12623,31 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777433, 0, 0, 776);
+    Critter := create_object_sid(16777433, 0, 0, SCRIPT_ECMSTDEN);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
     critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
     if (10 > 0) then begin
-        LVar3 := create_object_sid(10, 0, 0, -1);
+        LVar3 := create_object(10, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(20, 40));
     end
     else begin
         item_caps_adjust(Critter, random(20, 40));
     end
-    LVar3 := create_object_sid(40, 0, 0, -1);
+    LVar3 := create_object(40, 0, 0);
     add_obj_to_inven(Critter, LVar3);
-    LVar3 := create_object_sid(259, 0, 0, -1);
+    LVar3 := create_object(259, 0, 0);
     add_obj_to_inven(Critter, LVar3);
     LVar1 := Encounter_Counter * 2 / 5;
     LVar0 := 0;
@@ -12656,21 +12656,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777262, 0, 0, 259);
+        Critter := create_object_sid(16777262, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (10 > 0) then begin
-            LVar3 := create_object_sid(10, 0, 0, -1);
+            LVar3 := create_object(10, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 20));
         end
         else begin
@@ -12684,20 +12684,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777233, 0, 0, 628);
+        Critter := create_object_sid(16777233, 0, 0, SCRIPT_ECSLAVE);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
     end
     LVar1 := Encounter_Counter * 3 / 10;
     LVar0 := 0;
@@ -12706,20 +12706,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777240, 0, 0, 628);
+        Critter := create_object_sid(16777240, 0, 0, SCRIPT_ECSLAVE);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
     end
     return 0;
     LVar0 := 0;
@@ -12734,31 +12734,31 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777246, 0, 0, 626);
+    Critter := create_object_sid(16777246, 0, 0, SCRIPT_ECHIWYMN);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
     critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
     if (10 > 0) then begin
-        LVar3 := create_object_sid(10, 0, 0, -1);
+        LVar3 := create_object(10, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(40, 70));
     end
     else begin
         item_caps_adjust(Critter, random(40, 70));
     end
-    LVar3 := create_object_sid(40, 0, 0, -1);
+    LVar3 := create_object(40, 0, 0);
     add_obj_to_inven(Critter, LVar3);
-    LVar3 := create_object_sid(259, 0, 0, -1);
+    LVar3 := create_object(259, 0, 0);
     add_obj_to_inven(Critter, LVar3);
     set_map_var(1, map_var(1) + 1);
     LVar1 := Encounter_Counter / 4;
@@ -12768,27 +12768,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777250, 0, 0, 626);
+        Critter := create_object_sid(16777250, 0, 0, SCRIPT_ECHIWYMN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (236 > 0) then begin
-            LVar3 := create_object_sid(236, 0, 0, -1);
+            LVar3 := create_object(236, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 20));
         end
         else begin
             item_caps_adjust(Critter, random(10, 20));
         end
-        LVar3 := create_object_sid(40, 0, 0, -1);
+        LVar3 := create_object(40, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         set_map_var(1, map_var(1) + 1);
     end
@@ -12799,27 +12799,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777251, 0, 0, 626);
+        Critter := create_object_sid(16777251, 0, 0, SCRIPT_ECHIWYMN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (236 > 0) then begin
-            LVar3 := create_object_sid(236, 0, 0, -1);
+            LVar3 := create_object(236, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 16));
         end
         else begin
             item_caps_adjust(Critter, random(10, 16));
         end
-        LVar3 := create_object_sid(40, 0, 0, -1);
+        LVar3 := create_object(40, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         set_map_var(1, map_var(1) + 1);
     end
@@ -12830,27 +12830,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777252, 0, 0, 626);
+        Critter := create_object_sid(16777252, 0, 0, SCRIPT_ECHIWYMN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (10 > 0) then begin
-            LVar3 := create_object_sid(10, 0, 0, -1);
+            LVar3 := create_object(10, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 25));
         end
         else begin
             item_caps_adjust(Critter, random(10, 25));
         end
-        LVar3 := create_object_sid(259, 0, 0, -1);
+        LVar3 := create_object(259, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         set_map_var(1, map_var(1) + 1);
     end
@@ -12861,27 +12861,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777253, 0, 0, 626);
+        Critter := create_object_sid(16777253, 0, 0, SCRIPT_ECHIWYMN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (10 > 0) then begin
-            LVar3 := create_object_sid(10, 0, 0, -1);
+            LVar3 := create_object(10, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(12, 20));
         end
         else begin
             item_caps_adjust(Critter, random(12, 20));
         end
-        LVar3 := create_object_sid(259, 0, 0, -1);
+        LVar3 := create_object(259, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         set_map_var(1, map_var(1) + 1);
     end
@@ -12898,31 +12898,31 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777247, 0, 0, 625);
+    Critter := create_object_sid(16777247, 0, 0, SCRIPT_ECROBBER);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
     critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
     if (10 > 0) then begin
-        LVar3 := create_object_sid(10, 0, 0, -1);
+        LVar3 := create_object(10, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(20, 40));
     end
     else begin
         item_caps_adjust(Critter, random(20, 40));
     end
-    LVar3 := create_object_sid(40, 0, 0, -1);
+    LVar3 := create_object(40, 0, 0);
     add_obj_to_inven(Critter, LVar3);
-    LVar3 := create_object_sid(259, 0, 0, -1);
+    LVar3 := create_object(259, 0, 0);
     add_obj_to_inven(Critter, LVar3);
     set_map_var(1, map_var(1) + 1);
     LVar1 := Encounter_Counter / 4;
@@ -12932,27 +12932,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777248, 0, 0, 625);
+        Critter := create_object_sid(16777248, 0, 0, SCRIPT_ECROBBER);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (236 > 0) then begin
-            LVar3 := create_object_sid(236, 0, 0, -1);
+            LVar3 := create_object(236, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 20));
         end
         else begin
             item_caps_adjust(Critter, random(10, 20));
         end
-        LVar3 := create_object_sid(40, 0, 0, -1);
+        LVar3 := create_object(40, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         set_map_var(1, map_var(1) + 1);
     end
@@ -12962,21 +12962,21 @@ begin
         LVar1 := 1;
         for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
             LVar0 := LVar0 + 1;
-            Critter := create_object_sid(16777249, 0, 0, 625);
+            Critter := create_object_sid(16777249, 0, 0, SCRIPT_ECROBBER);
             LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
             Finding_New_Tile := 0;
             while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                 Finding_New_Tile := Finding_New_Tile + 1;
-                LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
             end
             critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
             if (234 > 0) then begin
-                LVar3 := create_object_sid(234, 0, 0, -1);
+                LVar3 := create_object(234, 0, 0);
                 add_obj_to_inven(Critter, LVar3);
                 wield_obj_critter(Critter, LVar3);
             end
-            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-            if (has_trait(0, dude_obj, 20)) then begin
+            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                 item_caps_adjust(Critter, 2 * random(8, 22));
                 continue;
             end
@@ -12988,21 +12988,21 @@ begin
             LVar1 := 1;
             for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                 LVar0 := LVar0 + 1;
-                Critter := create_object_sid(16777252, 0, 0, 625);
+                Critter := create_object_sid(16777252, 0, 0, SCRIPT_ECROBBER);
                 LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                 Finding_New_Tile := 0;
                 while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                     Finding_New_Tile := Finding_New_Tile + 1;
-                    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                 end
                 critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
                 if (8 > 0) then begin
-                    LVar3 := create_object_sid(8, 0, 0, -1);
+                    LVar3 := create_object(8, 0, 0);
                     add_obj_to_inven(Critter, LVar3);
                     wield_obj_critter(Critter, LVar3);
                 end
-                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                if (has_trait(0, dude_obj, 20)) then begin
+                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                     item_caps_adjust(Critter, 2 * random(5, 15));
                     continue;
                 end
@@ -13014,21 +13014,21 @@ begin
                 LVar1 := 1;
                 for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                     LVar0 := LVar0 + 1;
-                    Critter := create_object_sid(16777253, 0, 0, 625);
+                    Critter := create_object_sid(16777253, 0, 0, SCRIPT_ECROBBER);
                     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                     Finding_New_Tile := 0;
                     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                         Finding_New_Tile := Finding_New_Tile + 1;
-                        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                     end
                     critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
                     if (8 > 0) then begin
-                        LVar3 := create_object_sid(8, 0, 0, -1);
+                        LVar3 := create_object(8, 0, 0);
                         add_obj_to_inven(Critter, LVar3);
                         wield_obj_critter(Critter, LVar3);
                     end
-                    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                    if (has_trait(0, dude_obj, 20)) then begin
+                    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                         item_caps_adjust(Critter, 2 * random(10, 20));
                         continue;
                     end
@@ -13047,7 +13047,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -13055,20 +13055,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777432, 0, 0, 630);
+        Critter := create_object_sid(16777432, 0, 0, SCRIPT_ECMANTIS);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     return 0;
@@ -13084,32 +13084,32 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     call Build_Grey_Caravan();
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777276, 0, 0, 258);
+    Critter := create_object_sid(16777276, 0, 0, SCRIPT_ECMRCHNT);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
     critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
     if (236 > 0) then begin
-        LVar3 := create_object_sid(236, 0, 0, -1);
+        LVar3 := create_object(236, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(50, 100));
     end
     else begin
         item_caps_adjust(Critter, random(50, 100));
     end
-    LVar3 := create_object_sid(259, 0, 0, -1);
+    LVar3 := create_object(259, 0, 0);
     add_obj_to_inven(Critter, LVar3);
-    LVar3 := create_object_sid(40, 0, 0, -1);
+    LVar3 := create_object(40, 0, 0);
     add_obj_to_inven(Critter, LVar3);
     LVar1 := Encounter_Counter / 2;
     LVar0 := 0;
@@ -13118,29 +13118,29 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777262, 0, 0, 259);
+        Critter := create_object_sid(16777262, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (9 > 0) then begin
-            LVar3 := create_object_sid(9, 0, 0, -1);
+            LVar3 := create_object(9, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 30));
         end
         else begin
             item_caps_adjust(Critter, random(10, 30));
         end
-        LVar3 := create_object_sid(29, 0, 0, -1);
+        LVar3 := create_object(29, 0, 0);
         add_obj_to_inven(Critter, LVar3);
-        LVar3 := create_object_sid(40, 0, 0, -1);
+        LVar3 := create_object(40, 0, 0);
         add_obj_to_inven(Critter, LVar3);
     end
     LVar1 := Encounter_Counter / 2;
@@ -13150,27 +13150,27 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777263, 0, 0, 259);
+        Critter := create_object_sid(16777263, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (351 > 0) then begin
-            LVar3 := create_object_sid(351, 0, 0, -1);
+            LVar3 := create_object(351, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 20));
         end
         else begin
             item_caps_adjust(Critter, random(10, 20));
         end
-        LVar3 := create_object_sid(40, 0, 0, -1);
+        LVar3 := create_object(40, 0, 0);
         add_obj_to_inven(Critter, LVar3);
     end
     return 0;
@@ -13186,28 +13186,28 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
         LVar1 := 1;
         for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
             LVar0 := LVar0 + 1;
-            Critter := create_object_sid(16777252, 0, 0, 768);
+            Critter := create_object_sid(16777252, 0, 0, SCRIPT_ECCLMJMP);
             LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
             Finding_New_Tile := 0;
             while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                 Finding_New_Tile := Finding_New_Tile + 1;
-                LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
             end
             critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
             if (355 > 0) then begin
-                LVar3 := create_object_sid(355, 0, 0, -1);
+                LVar3 := create_object(355, 0, 0);
                 add_obj_to_inven(Critter, LVar3);
                 wield_obj_critter(Critter, LVar3);
             end
-            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-            if (has_trait(0, dude_obj, 20)) then begin
+            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                 item_caps_adjust(Critter, 2 * random(10, 30));
                 continue;
             end
@@ -13219,21 +13219,21 @@ begin
             LVar1 := 1;
             for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                 LVar0 := LVar0 + 1;
-                Critter := create_object_sid(16777252, 0, 0, 768);
+                Critter := create_object_sid(16777252, 0, 0, SCRIPT_ECCLMJMP);
                 LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                 Finding_New_Tile := 0;
                 while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                     Finding_New_Tile := Finding_New_Tile + 1;
-                    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                 end
                 critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
                 if (118 > 0) then begin
-                    LVar3 := create_object_sid(118, 0, 0, -1);
+                    LVar3 := create_object(118, 0, 0);
                     add_obj_to_inven(Critter, LVar3);
                     wield_obj_critter(Critter, LVar3);
                 end
-                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                if (has_trait(0, dude_obj, 20)) then begin
+                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                     item_caps_adjust(Critter, 2 * random(10, 30));
                     continue;
                 end
@@ -13245,21 +13245,21 @@ begin
                 LVar1 := 1;
                 for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                     LVar0 := LVar0 + 1;
-                    Critter := create_object_sid(16777253, 0, 0, 768);
+                    Critter := create_object_sid(16777253, 0, 0, SCRIPT_ECCLMJMP);
                     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                     Finding_New_Tile := 0;
                     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                         Finding_New_Tile := Finding_New_Tile + 1;
-                        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                     end
                     critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
                     if (355 > 0) then begin
-                        LVar3 := create_object_sid(355, 0, 0, -1);
+                        LVar3 := create_object(355, 0, 0);
                         add_obj_to_inven(Critter, LVar3);
                         wield_obj_critter(Critter, LVar3);
                     end
-                    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                    if (has_trait(0, dude_obj, 20)) then begin
+                    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                         item_caps_adjust(Critter, 2 * random(10, 30));
                         continue;
                     end
@@ -13271,21 +13271,21 @@ begin
                     LVar1 := 1;
                     for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                         LVar0 := LVar0 + 1;
-                        Critter := create_object_sid(16777252, 0, 0, 768);
+                        Critter := create_object_sid(16777252, 0, 0, SCRIPT_ECCLMJMP);
                         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                         Finding_New_Tile := 0;
                         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                             Finding_New_Tile := Finding_New_Tile + 1;
-                            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                         end
                         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
                         if (118 > 0) then begin
-                            LVar3 := create_object_sid(118, 0, 0, -1);
+                            LVar3 := create_object(118, 0, 0);
                             add_obj_to_inven(Critter, LVar3);
                             wield_obj_critter(Critter, LVar3);
                         end
-                        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                        if (has_trait(0, dude_obj, 20)) then begin
+                        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                             item_caps_adjust(Critter, 2 * random(10, 30));
                             continue;
                         end
@@ -13304,7 +13304,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -13312,21 +13312,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777452, 0, 0, 763);
+        Critter := create_object_sid(16777452, 0, 0, SCRIPT_ECPROSPE);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (115 > 0) then begin
-            LVar3 := create_object_sid(115, 0, 0, -1);
+            LVar3 := create_object(115, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(0, 20));
         end
         else begin
@@ -13340,21 +13340,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777452, 0, 0, 763);
+        Critter := create_object_sid(16777452, 0, 0, SCRIPT_ECPROSPE);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (354 > 0) then begin
-            LVar3 := create_object_sid(354, 0, 0, -1);
+            LVar3 := create_object(354, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(0, 20));
         end
         else begin
@@ -13368,21 +13368,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777453, 0, 0, 763);
+        Critter := create_object_sid(16777453, 0, 0, SCRIPT_ECPROSPE);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (352 > 0) then begin
-            LVar3 := create_object_sid(352, 0, 0, -1);
+            LVar3 := create_object(352, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(0, 20));
         end
         else begin
@@ -13396,21 +13396,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777453, 0, 0, 763);
+        Critter := create_object_sid(16777453, 0, 0, SCRIPT_ECPROSPE);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (268 > 0) then begin
-            LVar3 := create_object_sid(268, 0, 0, -1);
+            LVar3 := create_object(268, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(0, 20));
         end
         else begin
@@ -13430,7 +13430,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -13438,21 +13438,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777450, 0, 0, 505);
+        Critter := create_object_sid(16777450, 0, 0, SCRIPT_ECMONSHN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (115 > 0) then begin
-            LVar3 := create_object_sid(115, 0, 0, -1);
+            LVar3 := create_object(115, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(2, 10));
         end
         else begin
@@ -13466,21 +13466,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777450, 0, 0, 505);
+        Critter := create_object_sid(16777450, 0, 0, SCRIPT_ECMONSHN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (354 > 0) then begin
-            LVar3 := create_object_sid(354, 0, 0, -1);
+            LVar3 := create_object(354, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(6, 16));
         end
         else begin
@@ -13494,21 +13494,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777451, 0, 0, 505);
+        Critter := create_object_sid(16777451, 0, 0, SCRIPT_ECMONSHN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (388 > 0) then begin
-            LVar3 := create_object_sid(388, 0, 0, -1);
+            LVar3 := create_object(388, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(4, 12));
         end
         else begin
@@ -13522,21 +13522,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777451, 0, 0, 505);
+        Critter := create_object_sid(16777451, 0, 0, SCRIPT_ECMONSHN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (235 > 0) then begin
-            LVar3 := create_object_sid(235, 0, 0, -1);
+            LVar3 := create_object(235, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(4, 16));
         end
         else begin
@@ -13556,7 +13556,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -13564,21 +13564,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777248, 0, 0, 509);
+        Critter := create_object_sid(16777248, 0, 0, SCRIPT_ECTRAPPR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (236 > 0) then begin
-            LVar3 := create_object_sid(236, 0, 0, -1);
+            LVar3 := create_object(236, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(0, 20));
         end
         else begin
@@ -13592,21 +13592,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777248, 0, 0, 509);
+        Critter := create_object_sid(16777248, 0, 0, SCRIPT_ECTRAPPR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (235 > 0) then begin
-            LVar3 := create_object_sid(235, 0, 0, -1);
+            LVar3 := create_object(235, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(0, 20));
         end
         else begin
@@ -13620,21 +13620,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777249, 0, 0, 509);
+        Critter := create_object_sid(16777249, 0, 0, SCRIPT_ECTRAPPR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (236 > 0) then begin
-            LVar3 := create_object_sid(236, 0, 0, -1);
+            LVar3 := create_object(236, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(0, 20));
         end
         else begin
@@ -13648,21 +13648,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777248, 0, 0, 509);
+        Critter := create_object_sid(16777248, 0, 0, SCRIPT_ECTRAPPR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (235 > 0) then begin
-            LVar3 := create_object_sid(235, 0, 0, -1);
+            LVar3 := create_object(235, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(0, 20));
         end
         else begin
@@ -13682,7 +13682,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -13690,21 +13690,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777436, 0, 0, 786);
+        Critter := create_object_sid(16777436, 0, 0, SCRIPT_ECHOMEST);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (388 > 0) then begin
-            LVar3 := create_object_sid(388, 0, 0, -1);
+            LVar3 := create_object(388, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(4, 16));
         end
         else begin
@@ -13718,21 +13718,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777436, 0, 0, 786);
+        Critter := create_object_sid(16777436, 0, 0, SCRIPT_ECHOMEST);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (16 > 0) then begin
-            LVar3 := create_object_sid(16, 0, 0, -1);
+            LVar3 := create_object(16, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(5, 15));
         end
         else begin
@@ -13746,21 +13746,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777437, 0, 0, 786);
+        Critter := create_object_sid(16777437, 0, 0, SCRIPT_ECHOMEST);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (268 > 0) then begin
-            LVar3 := create_object_sid(268, 0, 0, -1);
+            LVar3 := create_object(268, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(3, 17));
         end
         else begin
@@ -13771,21 +13771,21 @@ begin
     LVar0 := 0;
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777437, 0, 0, 786);
+        Critter := create_object_sid(16777437, 0, 0, SCRIPT_ECHOMEST);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (352 > 0) then begin
-            LVar3 := create_object_sid(352, 0, 0, -1);
+            LVar3 := create_object(352, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(4, 16));
         end
         else begin
@@ -13805,7 +13805,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter * 6 / 10;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -13813,20 +13813,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777460, 0, 0, 791);
+        Critter := create_object_sid(16777460, 0, 0, SCRIPT_ECDTHCLW);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (371 > 0) then begin
-            LVar3 := create_object_sid(371, 0, 0, -1);
+            LVar3 := create_object(371, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter * 2 / 10;
@@ -13836,20 +13836,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777461, 0, 0, 791);
+        Critter := create_object_sid(16777461, 0, 0, SCRIPT_ECDTHCLW);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (371 > 0) then begin
-            LVar3 := create_object_sid(371, 0, 0, -1);
+            LVar3 := create_object(371, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter * 2 / 10;
@@ -13859,20 +13859,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777224, 0, 0, 791);
+        Critter := create_object_sid(16777224, 0, 0, SCRIPT_ECDTHCLW);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     return 0;
@@ -13888,7 +13888,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -13896,20 +13896,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777456, 0, 0, 615);
+        Critter := create_object_sid(16777456, 0, 0, SCRIPT_ECGECKO);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (427 > 0) then begin
-            LVar3 := create_object_sid(427, 0, 0, -1);
+            LVar3 := create_object(427, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     return 0;
@@ -13925,7 +13925,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter * 2 / 5;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -13933,20 +13933,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777464, 0, 0, 793);
+        Critter := create_object_sid(16777464, 0, 0, SCRIPT_ECCENTUR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter * 3 / 5;
@@ -13956,20 +13956,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777465, 0, 0, 793);
+        Critter := create_object_sid(16777465, 0, 0, SCRIPT_ECCENTUR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     return 0;
@@ -13985,7 +13985,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter * 2 / 5;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -13993,20 +13993,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777462, 0, 0, 792);
+        Critter := create_object_sid(16777462, 0, 0, SCRIPT_ECFLOATR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter * 3 / 5;
@@ -14016,20 +14016,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777463, 0, 0, 792);
+        Critter := create_object_sid(16777463, 0, 0, SCRIPT_ECFLOATR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     return 0;
@@ -14045,24 +14045,24 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     call Build_Grey_Caravan();
     LVar0 := LVar0 + 1;
-    Critter := create_object_sid(16777358, 0, 0, 781);
+    Critter := create_object_sid(16777358, 0, 0, SCRIPT_ECMSTSAN);
     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
     Finding_New_Tile := 0;
     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
         Finding_New_Tile := Finding_New_Tile + 1;
-        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     end
     critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
     if (388 > 0) then begin
-        LVar3 := create_object_sid(388, 0, 0, -1);
+        LVar3 := create_object(388, 0, 0);
         add_obj_to_inven(Critter, LVar3);
         wield_obj_critter(Critter, LVar3);
     end
-    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-    if (has_trait(0, dude_obj, 20)) then begin
+    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
         item_caps_adjust(Critter, 2 * random(100, 160));
     end
     else begin
@@ -14075,21 +14075,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777438, 0, 0, 259);
+        Critter := create_object_sid(16777438, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (118 > 0) then begin
-            LVar3 := create_object_sid(118, 0, 0, -1);
+            LVar3 := create_object(118, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 40));
         end
         else begin
@@ -14103,21 +14103,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777438, 0, 0, 259);
+        Critter := create_object_sid(16777438, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (389 > 0) then begin
-            LVar3 := create_object_sid(389, 0, 0, -1);
+            LVar3 := create_object(389, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 40));
         end
         else begin
@@ -14131,21 +14131,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777439, 0, 0, 259);
+        Critter := create_object_sid(16777439, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (355 > 0) then begin
-            LVar3 := create_object_sid(355, 0, 0, -1);
+            LVar3 := create_object(355, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 40));
         end
         else begin
@@ -14159,21 +14159,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777439, 0, 0, 259);
+        Critter := create_object_sid(16777439, 0, 0, SCRIPT_ECGUARD);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (296 > 0) then begin
-            LVar3 := create_object_sid(296, 0, 0, -1);
+            LVar3 := create_object(296, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(20, 40));
         end
         else begin
@@ -14193,7 +14193,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -14201,20 +14201,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777458, 0, 0, 790);
+        Critter := create_object_sid(16777458, 0, 0, SCRIPT_ECALIEN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter * 3 / 4;
@@ -14224,20 +14224,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777459, 0, 0, 790);
+        Critter := create_object_sid(16777459, 0, 0, SCRIPT_ECALIEN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     return 0;
@@ -14253,7 +14253,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 5;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -14261,20 +14261,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777464, 0, 0, 793);
+        Critter := create_object_sid(16777464, 0, 0, SCRIPT_ECCENTUR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter / 5;
@@ -14284,20 +14284,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777462, 0, 0, 792);
+        Critter := create_object_sid(16777462, 0, 0, SCRIPT_ECFLOATR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter * 3 / 10;
@@ -14307,20 +14307,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777465, 0, 0, 793);
+        Critter := create_object_sid(16777465, 0, 0, SCRIPT_ECCENTUR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter * 3 / 10;
@@ -14330,20 +14330,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777463, 0, 0, 792);
+        Critter := create_object_sid(16777463, 0, 0, SCRIPT_ECFLOATR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     return 0;
@@ -14359,7 +14359,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter * 9 / 20;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -14367,20 +14367,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777456, 0, 0, 615);
+        Critter := create_object_sid(16777456, 0, 0, SCRIPT_ECGECKO);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (427 > 0) then begin
-            LVar3 := create_object_sid(427, 0, 0, -1);
+            LVar3 := create_object(427, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter * 11 / 20;
@@ -14390,20 +14390,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777457, 0, 0, 615);
+        Critter := create_object_sid(16777457, 0, 0, SCRIPT_ECGECKO);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (427 > 0) then begin
-            LVar3 := create_object_sid(427, 0, 0, -1);
+            LVar3 := create_object(427, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     return 0;
@@ -14419,28 +14419,28 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 2;
     LVar0 := 0;
     if (LVar1 < 1) then begin
         LVar1 := 1;
         for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
             LVar0 := LVar0 + 1;
-            Critter := create_object_sid(16777476, 0, 0, 734);
+            Critter := create_object_sid(16777476, 0, 0, SCRIPT_ECYAKUZA);
             LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
             Finding_New_Tile := 0;
             while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                 Finding_New_Tile := Finding_New_Tile + 1;
-                LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
             end
             critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
             if (283 > 0) then begin
-                LVar3 := create_object_sid(283, 0, 0, -1);
+                LVar3 := create_object(283, 0, 0);
                 add_obj_to_inven(Critter, LVar3);
                 wield_obj_critter(Critter, LVar3);
             end
-            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-            if (has_trait(0, dude_obj, 20)) then begin
+            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                 item_caps_adjust(Critter, 2 * random(3, 30));
                 continue;
             end
@@ -14452,21 +14452,21 @@ begin
             LVar1 := 1;
             for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                 LVar0 := LVar0 + 1;
-                Critter := create_object_sid(16777476, 0, 0, 734);
+                Critter := create_object_sid(16777476, 0, 0, SCRIPT_ECYAKUZA);
                 LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                 Finding_New_Tile := 0;
                 while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                     Finding_New_Tile := Finding_New_Tile + 1;
-                    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                 end
                 critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
                 if (143 > 0) then begin
-                    LVar3 := create_object_sid(143, 0, 0, -1);
+                    LVar3 := create_object(143, 0, 0);
                     add_obj_to_inven(Critter, LVar3);
                     wield_obj_critter(Critter, LVar3);
                 end
-                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                if (has_trait(0, dude_obj, 20)) then begin
+                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                     item_caps_adjust(Critter, 2 * random(3, 30));
                     continue;
                 end
@@ -14485,28 +14485,28 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 4;
     LVar0 := 0;
     if (LVar1 < 1) then begin
         LVar1 := 1;
         for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
             LVar0 := LVar0 + 1;
-            Critter := create_object_sid(16777252, 0, 0, 774);
+            Critter := create_object_sid(16777252, 0, 0, SCRIPT_ECGANGS);
             LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
             Finding_New_Tile := 0;
             while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                 Finding_New_Tile := Finding_New_Tile + 1;
-                LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
             end
             critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
             if (242 > 0) then begin
-                LVar3 := create_object_sid(242, 0, 0, -1);
+                LVar3 := create_object(242, 0, 0);
                 add_obj_to_inven(Critter, LVar3);
                 wield_obj_critter(Critter, LVar3);
             end
-            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-            if (has_trait(0, dude_obj, 20)) then begin
+            anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                 item_caps_adjust(Critter, 2 * random(3, 8));
                 continue;
             end
@@ -14518,21 +14518,21 @@ begin
             LVar1 := 1;
             for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                 LVar0 := LVar0 + 1;
-                Critter := create_object_sid(16777252, 0, 0, 774);
+                Critter := create_object_sid(16777252, 0, 0, SCRIPT_ECGANGS);
                 LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                 Finding_New_Tile := 0;
                 while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                     Finding_New_Tile := Finding_New_Tile + 1;
-                    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                 end
                 critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
                 if (241 > 0) then begin
-                    LVar3 := create_object_sid(241, 0, 0, -1);
+                    LVar3 := create_object(241, 0, 0);
                     add_obj_to_inven(Critter, LVar3);
                     wield_obj_critter(Critter, LVar3);
                 end
-                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                if (has_trait(0, dude_obj, 20)) then begin
+                anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                     item_caps_adjust(Critter, 2 * random(5, 18));
                     continue;
                 end
@@ -14544,21 +14544,21 @@ begin
                 LVar1 := 1;
                 for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                     LVar0 := LVar0 + 1;
-                    Critter := create_object_sid(16777255, 0, 0, 774);
+                    Critter := create_object_sid(16777255, 0, 0, SCRIPT_ECGANGS);
                     LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                     Finding_New_Tile := 0;
                     while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                         Finding_New_Tile := Finding_New_Tile + 1;
-                        LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                        LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                     end
                     critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
                     if (11 > 0) then begin
-                        LVar3 := create_object_sid(11, 0, 0, -1);
+                        LVar3 := create_object(11, 0, 0);
                         add_obj_to_inven(Critter, LVar3);
                         wield_obj_critter(Critter, LVar3);
                     end
-                    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                    if (has_trait(0, dude_obj, 20)) then begin
+                    anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                    if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                         item_caps_adjust(Critter, 2 * random(3, 8));
                         continue;
                     end
@@ -14570,21 +14570,21 @@ begin
                     LVar1 := 1;
                     for (/* O_NOOP */; LVar0 < LVar1; set_map_var(1, map_var(1) + 1)) begin
                         LVar0 := LVar0 + 1;
-                        Critter := create_object_sid(16777253, 0, 0, 774);
+                        Critter := create_object_sid(16777253, 0, 0, SCRIPT_ECGANGS);
                         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
                         Finding_New_Tile := 0;
                         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
                             Finding_New_Tile := Finding_New_Tile + 1;
-                            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+                            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
                         end
                         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
                         if (22 > 0) then begin
-                            LVar3 := create_object_sid(22, 0, 0, -1);
+                            LVar3 := create_object(22, 0, 0);
                             add_obj_to_inven(Critter, LVar3);
                             wield_obj_critter(Critter, LVar3);
                         end
-                        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-                        if (has_trait(0, dude_obj, 20)) then begin
+                        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+                        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
                             item_caps_adjust(Critter, 2 * random(3, 8));
                             continue;
                         end
@@ -14603,7 +14603,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter / 2;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -14611,21 +14611,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777475, 0, 0, 482);
+        Critter := create_object_sid(16777475, 0, 0, SCRIPT_ECMOBSTR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (283 > 0) then begin
-            LVar3 := create_object_sid(283, 0, 0, -1);
+            LVar3 := create_object(283, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(10, 30));
         end
         else begin
@@ -14639,21 +14639,21 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777475, 0, 0, 482);
+        Critter := create_object_sid(16777475, 0, 0, SCRIPT_ECMOBSTR);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (242 > 0) then begin
-            LVar3 := create_object_sid(242, 0, 0, -1);
+            LVar3 := create_object(242, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
-        if (has_trait(0, dude_obj, 20)) then begin
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_fortune_finder)) then begin
             item_caps_adjust(Critter, 2 * random(12, 23));
         end
         else begin
@@ -14673,7 +14673,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -14681,20 +14681,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777458, 0, 0, 790);
+        Critter := create_object_sid(16777458, 0, 0, SCRIPT_ECALIEN);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     return 0;
@@ -14710,7 +14710,7 @@ begin
     variable LVar1 := 0;
     variable LVar2 := 0;
     variable LVar3 := 0;
-    LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+    LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
     LVar1 := Encounter_Counter * 2 / 5;
     LVar0 := 0;
     if (LVar1 < 1) then begin
@@ -14718,20 +14718,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777326, 0, 0, 617);
+        Critter := create_object_sid(16777326, 0, 0, SCRIPT_ECRAT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter * 1 / 5;
@@ -14741,20 +14741,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777327, 0, 0, 617);
+        Critter := create_object_sid(16777327, 0, 0, SCRIPT_ECRAT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     LVar1 := Encounter_Counter * 2 / 5;
@@ -14764,20 +14764,20 @@ begin
     end
     while (LVar0 < LVar1) do begin
         LVar0 := LVar0 + 1;
-        Critter := create_object_sid(16777328, 0, 0, 617);
+        Critter := create_object_sid(16777328, 0, 0, SCRIPT_ECRAT);
         LVar2 := tile_num_in_direction(LVar2, random(0, 5), random(2, 5));
         Finding_New_Tile := 0;
         while (not(tile_in_tile_rect(8709, 15638, 24963, 31892, LVar2)) and (Finding_New_Tile < 5)) do begin
             Finding_New_Tile := Finding_New_Tile + 1;
-            LVar2 := tile_num_in_direction(tile_num(dude_obj), Encounter_Rotation, get_critter_stat(dude_obj, 1) * 2);
+            LVar2 := tile_num_in_direction(dude_tile, Encounter_Rotation, dude_perception * 2);
         end
         critter_attempt_placement(Critter, LVar2, elevation(dude_obj));
         if (-1 > 0) then begin
-            LVar3 := create_object_sid(-1, 0, 0, -1);
+            LVar3 := create_object(-1, 0, 0);
             add_obj_to_inven(Critter, LVar3);
             wield_obj_critter(Critter, LVar3);
         end
-        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), tile_num(dude_obj)));
+        anim(Critter, 1000, rotation_to_tile(tile_num(Critter), dude_tile));
         set_map_var(1, map_var(1) + 1);
     end
     return 0;
@@ -14786,4 +14786,3 @@ begin
     LVar2 := 0;
     LVar3 := 0;
 end
-
