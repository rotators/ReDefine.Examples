diff --git a/Mods/MegaMod/Original/HS_ONDEATH.ssl b/Mods/MegaMod/ReDefine/HS_ONDEATH.ssl
index c4f1b16..0d9a839 100644
--- a/Mods/MegaMod/Original/HS_ONDEATH.ssl
+++ b/Mods/MegaMod/ReDefine/HS_ONDEATH.ssl
@@ -98,12 +98,12 @@ begin
         if (has_fake_perk("Scrounger") and (get_sfall_global_int(185) == 1)) then begin
             if (obj_pid(critter_inven_obj(arg0, 1)) > 0) then begin
                 if (get_weapon_ammo_pid(critter_inven_obj(arg0, 1)) > 0) then begin
-                    add_mult_objs_to_inven(arg0, create_object_sid(get_weapon_ammo_pid(critter_inven_obj(arg0, 1)), 0, 0, -1), get_sfall_global_int(186) * has_fake_perk("Scrounger"));
+                    add_mult_objs_to_inven(arg0, create_object(get_weapon_ammo_pid(critter_inven_obj(arg0, 1)), 0, 0), get_sfall_global_int(186) * has_fake_perk("Scrounger"));
                 end
             end
             if (obj_pid(critter_inven_obj(arg0, 2)) > 0) then begin
                 if (get_weapon_ammo_pid(critter_inven_obj(arg0, 2)) > 0) then begin
-                    add_mult_objs_to_inven(arg0, create_object_sid(get_weapon_ammo_pid(critter_inven_obj(arg0, 2)), 0, 0, -1), get_sfall_global_int(186) * has_fake_perk("Scrounger"));
+                    add_mult_objs_to_inven(arg0, create_object(get_weapon_ammo_pid(critter_inven_obj(arg0, 2)), 0, 0), get_sfall_global_int(186) * has_fake_perk("Scrounger"));
                 end
             end
         end
@@ -145,83 +145,83 @@ procedure Lootable_Armor_Vanilla(variable arg0)
 begin
     call Delete_Worn_Armor(arg0);
     if (((obj_art_fid(arg0) % 512) == 13) or ((obj_art_fid(arg0) % 512) == 6) or ((obj_art_fid(arg0) % 512) == 45) or ((obj_art_fid(arg0) % 512) == 34) or ((obj_art_fid(arg0) % 512) == 95)) then begin
-        if ((has_skill(dude_obj, 13) >= 50) or has_trait(0, dude_obj, 44)) then begin
+        if ((has_skill(dude_obj, SKILL_REPAIR) >= 50) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
             random_roll := random(1, 100);
-            if (random_roll < (100 - (3 * get_critter_stat(dude_obj, 6)))) then begin
-                add_obj_to_inven(arg0, create_object_sid(74, 0, 0, -1));
+            if (random_roll < (100 - (3 * dude_luck))) then begin
+                add_obj_to_inven(arg0, create_object(74, 0, 0));
             end
             else begin
-                add_obj_to_inven(arg0, create_object_sid(265, 0, 0, -1));
+                add_obj_to_inven(arg0, create_object(265, 0, 0));
             end
         end
     end
     else begin
         if (((obj_art_fid(arg0) % 512) == 5) or ((obj_art_fid(arg0) % 512) == 12) or ((obj_art_fid(arg0) % 512) == 44) or ((obj_art_fid(arg0) % 512) == 77) or ((obj_art_fid(arg0) % 512) == 78)) then begin
-            if ((has_skill(dude_obj, 13) >= 60) or has_trait(0, dude_obj, 44)) then begin
+            if ((has_skill(dude_obj, SKILL_REPAIR) >= 60) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
                 random_roll := random(1, 100);
-                if (random_roll < (100 - (3 * get_critter_stat(dude_obj, 6)))) then begin
-                    add_obj_to_inven(arg0, create_object_sid(1, 0, 0, -1));
+                if (random_roll < (100 - (3 * dude_luck))) then begin
+                    add_obj_to_inven(arg0, create_object(1, 0, 0));
                 end
                 else begin
-                    add_obj_to_inven(arg0, create_object_sid(379, 0, 0, -1));
+                    add_obj_to_inven(arg0, create_object(379, 0, 0));
                 end
             end
         end
         else begin
             if (((obj_art_fid(arg0) % 512) == 14) or ((obj_art_fid(arg0) % 512) == 7) or ((obj_art_fid(arg0) % 512) == 9) or ((obj_art_fid(arg0) % 512) == 35)) then begin
-                if ((has_skill(dude_obj, 13) >= 80) or has_trait(0, dude_obj, 44)) then begin
+                if ((has_skill(dude_obj, SKILL_REPAIR) >= 80) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
                     random_roll := random(1, 100);
                     if (random_roll < 76) then begin
-                        add_obj_to_inven(arg0, create_object_sid(2, 0, 0, -1));
+                        add_obj_to_inven(arg0, create_object(2, 0, 0));
                     end
                     else begin
                         if (random_roll < 96) then begin
-                            add_obj_to_inven(arg0, create_object_sid(380, 0, 0, -1));
+                            add_obj_to_inven(arg0, create_object(380, 0, 0));
                         end
                         else begin
-                            add_obj_to_inven(arg0, create_object_sid(240, 0, 0, -1));
+                            add_obj_to_inven(arg0, create_object(240, 0, 0));
                         end
                     end
                 end
             end
             else begin
                 if (((obj_art_fid(arg0) % 512) == 10) or ((obj_art_fid(arg0) % 512) == 2)) then begin
-                    if ((has_skill(dude_obj, 13) >= 110) or has_trait(0, dude_obj, 44)) then begin
+                    if ((has_skill(dude_obj, SKILL_REPAIR) >= 110) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
                         random_roll := random(1, 100);
                         if (random_roll < 34) then begin
-                            add_obj_to_inven(arg0, create_object_sid(17, 0, 0, -1));
+                            add_obj_to_inven(arg0, create_object(17, 0, 0));
                         end
                         else begin
                             if (random_roll < 67) then begin
-                                add_obj_to_inven(arg0, create_object_sid(381, 0, 0, -1));
+                                add_obj_to_inven(arg0, create_object(381, 0, 0));
                             end
                             else begin
-                                add_obj_to_inven(arg0, create_object_sid(239, 0, 0, -1));
+                                add_obj_to_inven(arg0, create_object(239, 0, 0));
                             end
                         end
                     end
                 end
                 else begin
                     if ((obj_art_fid(arg0) % 512) == 1) then begin
-                        if ((has_skill(dude_obj, 13) >= 130) and (has_skill(dude_obj, 12) >= 110) or has_trait(0, dude_obj, 44)) then begin
+                        if ((has_skill(dude_obj, SKILL_REPAIR) >= 130) and (has_skill(dude_obj, SKILL_SCIENCE) >= 110) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
                             random_roll := random(1, 100);
-                            if (random_roll < (100 - (3 * get_critter_stat(dude_obj, 6)))) then begin
-                                add_obj_to_inven(arg0, create_object_sid(3, 0, 0, -1));
+                            if (random_roll < (100 - (3 * dude_luck))) then begin
+                                add_obj_to_inven(arg0, create_object(3, 0, 0));
                             end
                             else begin
-                                add_obj_to_inven(arg0, create_object_sid(232, 0, 0, -1));
+                                add_obj_to_inven(arg0, create_object(232, 0, 0));
                             end
                         end
                     end
                     else begin
                         if ((obj_art_fid(arg0) % 512) == 71) then begin
-                            if ((has_skill(dude_obj, 13) >= 140) and (has_skill(dude_obj, 12) >= 120) or has_trait(0, dude_obj, 44)) then begin
+                            if ((has_skill(dude_obj, SKILL_REPAIR) >= 140) and (has_skill(dude_obj, SKILL_SCIENCE) >= 120) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
                                 random_roll := random(1, 100);
-                                if (random_roll < (100 - (3 * get_critter_stat(dude_obj, 6)))) then begin
-                                    add_obj_to_inven(arg0, create_object_sid(348, 0, 0, -1));
+                                if (random_roll < (100 - (3 * dude_luck))) then begin
+                                    add_obj_to_inven(arg0, create_object(348, 0, 0));
                                 end
                                 else begin
-                                    add_obj_to_inven(arg0, create_object_sid(349, 0, 0, -1));
+                                    add_obj_to_inven(arg0, create_object(349, 0, 0));
                                 end
                             end
                         end
@@ -238,97 +238,97 @@ procedure Lootable_Armor_Megamod(variable arg0)
 begin
     call Delete_Worn_Armor(arg0);
     if (get_sfall_global_int("MM_00004") == 0) then begin
-        if (((obj_art_fid(arg0) % 512) == 2) or ((obj_art_fid(arg0) % 512) == 26) or ((obj_art_fid(arg0) % 512) == 31) or ((obj_art_fid(arg0) % 512) == 56) or ((obj_art_fid(arg0) % 512) == 84) and (metarule(46, 0) != 36)) then begin
-            if ((has_skill(dude_obj, 13) >= 30) or has_trait(0, dude_obj, 44)) then begin
-                add_obj_to_inven(arg0, create_object_sid(113, 0, 0, -1));
+        if (((obj_art_fid(arg0) % 512) == 2) or ((obj_art_fid(arg0) % 512) == 26) or ((obj_art_fid(arg0) % 512) == 31) or ((obj_art_fid(arg0) % 512) == 56) or ((obj_art_fid(arg0) % 512) == 84) and (cur_town != 36)) then begin
+            if ((has_skill(dude_obj, SKILL_REPAIR) >= 30) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
+                add_obj_to_inven(arg0, create_object(113, 0, 0));
             end
         end
         else begin
             if (((obj_art_fid(arg0) % 512) == 6) or ((obj_art_fid(arg0) % 512) == 13) or ((obj_art_fid(arg0) % 512) == 34) or ((obj_art_fid(arg0) % 512) == 45) or ((obj_art_fid(arg0) % 512) == 116) or ((obj_art_fid(arg0) % 512) == 121)) then begin
-                if ((has_skill(dude_obj, 13) >= 50) or has_trait(0, dude_obj, 44)) then begin
+                if ((has_skill(dude_obj, SKILL_REPAIR) >= 50) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
                     random_roll := random(1, 100);
-                    if (random_roll < (100 - (3 * get_critter_stat(dude_obj, 6)))) then begin
-                        add_obj_to_inven(arg0, create_object_sid(74, 0, 0, -1));
+                    if (random_roll < (100 - (3 * dude_luck))) then begin
+                        add_obj_to_inven(arg0, create_object(74, 0, 0));
                     end
                     else begin
-                        add_obj_to_inven(arg0, create_object_sid(265, 0, 0, -1));
+                        add_obj_to_inven(arg0, create_object(265, 0, 0));
                     end
                 end
             end
             else begin
                 if (((obj_art_fid(arg0) % 512) == 5) or ((obj_art_fid(arg0) % 512) == 6) or ((obj_art_fid(arg0) % 512) == 12) or ((obj_art_fid(arg0) % 512) == 13) or ((obj_art_fid(arg0) % 512) == 34) or ((obj_art_fid(arg0) % 512) == 44) or ((obj_art_fid(arg0) % 512) == 45) or ((obj_art_fid(arg0) % 512) == 116) or ((obj_art_fid(arg0) % 512) == 120) or ((obj_art_fid(arg0) % 512) == 122)) then begin
-                    if ((has_skill(dude_obj, 13) >= 60) or has_trait(0, dude_obj, 44)) then begin
+                    if ((has_skill(dude_obj, SKILL_REPAIR) >= 60) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
                         random_roll := random(1, 100);
-                        if (random_roll < (100 - (3 * get_critter_stat(dude_obj, 6)))) then begin
-                            add_obj_to_inven(arg0, create_object_sid(1, 0, 0, -1));
+                        if (random_roll < (100 - (3 * dude_luck))) then begin
+                            add_obj_to_inven(arg0, create_object(1, 0, 0));
                         end
                         else begin
-                            add_obj_to_inven(arg0, create_object_sid(379, 0, 0, -1));
+                            add_obj_to_inven(arg0, create_object(379, 0, 0));
                         end
                     end
                 end
                 else begin
                     if (((obj_art_fid(arg0) % 512) == 7) or ((obj_art_fid(arg0) % 512) == 9) or ((obj_art_fid(arg0) % 512) == 14) or ((obj_art_fid(arg0) % 512) == 117) or ((obj_art_fid(arg0) % 512) == 123) or ((obj_art_fid(arg0) % 512) == 125) or ((obj_art_fid(arg0) % 512) == 35) or ((obj_art_fid(arg0) % 512) == 109)) then begin
-                        if ((has_skill(dude_obj, 13) >= 80) or has_trait(0, dude_obj, 44)) then begin
+                        if ((has_skill(dude_obj, SKILL_REPAIR) >= 80) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
                             random_roll := random(1, 100);
                             if (random_roll < 76) then begin
-                                add_obj_to_inven(arg0, create_object_sid(2, 0, 0, -1));
+                                add_obj_to_inven(arg0, create_object(2, 0, 0));
                             end
                             else begin
                                 if (random_roll < 96) then begin
-                                    add_obj_to_inven(arg0, create_object_sid(380, 0, 0, -1));
+                                    add_obj_to_inven(arg0, create_object(380, 0, 0));
                                 end
                                 else begin
-                                    add_obj_to_inven(arg0, create_object_sid(240, 0, 0, -1));
+                                    add_obj_to_inven(arg0, create_object(240, 0, 0));
                                 end
                             end
                         end
                     end
                     else begin
                         if (((obj_art_fid(arg0) % 512) == 3) or ((obj_art_fid(arg0) % 512) == 10) or ((obj_art_fid(arg0) % 512) == 118) or ((obj_art_fid(arg0) % 512) == 124) or ((obj_art_fid(arg0) % 512) == 132) or ((obj_art_fid(arg0) % 512) == 136)) then begin
-                            if ((has_skill(dude_obj, 13) >= 110) or has_trait(0, dude_obj, 44)) then begin
+                            if ((has_skill(dude_obj, SKILL_REPAIR) >= 110) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
                                 random_roll := random(1, 100);
                                 if (random_roll < 34) then begin
-                                    add_obj_to_inven(arg0, create_object_sid(17, 0, 0, -1));
+                                    add_obj_to_inven(arg0, create_object(17, 0, 0));
                                 end
                                 else begin
                                     if (random_roll < 67) then begin
-                                        add_obj_to_inven(arg0, create_object_sid(381, 0, 0, -1));
+                                        add_obj_to_inven(arg0, create_object(381, 0, 0));
                                     end
                                     else begin
-                                        add_obj_to_inven(arg0, create_object_sid(235, 0, 0, -1));
+                                        add_obj_to_inven(arg0, create_object(235, 0, 0));
                                     end
                                 end
                             end
                         end
                         else begin
                             if (((obj_art_fid(arg0) % 512) == 1) or ((obj_art_fid(arg0) % 512) == 30) or ((obj_art_fid(arg0) % 512) == 119) or ((obj_art_fid(arg0) % 512) == 128) or ((obj_art_fid(arg0) % 512) == 133) or ((obj_art_fid(arg0) % 512) == 137)) then begin
-                                if ((has_skill(dude_obj, 13) >= 130) and (has_skill(dude_obj, 12) >= 110) or has_trait(0, dude_obj, 44)) then begin
+                                if ((has_skill(dude_obj, SKILL_REPAIR) >= 130) and (has_skill(dude_obj, SKILL_SCIENCE) >= 110) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
                                     random_roll := random(1, 100);
-                                    if (random_roll < (100 - (3 * get_critter_stat(dude_obj, 6)))) then begin
-                                        add_obj_to_inven(arg0, create_object_sid(3, 0, 0, -1));
+                                    if (random_roll < (100 - (3 * dude_luck))) then begin
+                                        add_obj_to_inven(arg0, create_object(3, 0, 0));
                                     end
                                     else begin
-                                        add_obj_to_inven(arg0, create_object_sid(232, 0, 0, -1));
+                                        add_obj_to_inven(arg0, create_object(232, 0, 0));
                                     end
                                 end
                             end
                             else begin
                                 if ((obj_art_fid(arg0) % 512) == 71) then begin
-                                    if ((has_skill(dude_obj, 13) >= 140) and (has_skill(dude_obj, 12) >= 120) or has_trait(0, dude_obj, 44)) then begin
+                                    if ((has_skill(dude_obj, SKILL_REPAIR) >= 140) and (has_skill(dude_obj, SKILL_SCIENCE) >= 120) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
                                         random_roll := random(1, 100);
-                                        if (random_roll < (100 - (3 * get_critter_stat(dude_obj, 6)))) then begin
-                                            add_obj_to_inven(arg0, create_object_sid(348, 0, 0, -1));
+                                        if (random_roll < (100 - (3 * dude_luck))) then begin
+                                            add_obj_to_inven(arg0, create_object(348, 0, 0));
                                         end
                                         else begin
-                                            add_obj_to_inven(arg0, create_object_sid(349, 0, 0, -1));
+                                            add_obj_to_inven(arg0, create_object(349, 0, 0));
                                         end
                                     end
                                 end
                                 else begin
                                     if ((obj_art_fid(arg0) % 512) == 85) then begin
-                                        if ((has_skill(dude_obj, 13) >= 160) and (has_skill(dude_obj, 12) >= 145) or has_trait(0, dude_obj, 44)) then begin
-                                            add_obj_to_inven(arg0, create_object_sid(554, 0, 0, -1));
+                                        if ((has_skill(dude_obj, SKILL_REPAIR) >= 160) and (has_skill(dude_obj, SKILL_SCIENCE) >= 145) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
+                                            add_obj_to_inven(arg0, create_object(554, 0, 0));
                                         end
                                     end
                                 end
@@ -342,9 +342,9 @@ begin
     else begin
         if (get_sfall_global_int("MM_00004") == 1) then begin
             if (((obj_art_fid(arg0) % 512) == 31) or ((obj_art_fid(arg0) % 512) == 2) or ((obj_art_fid(arg0) % 512) == 84) or ((obj_art_fid(arg0) % 512) == 56) or ((obj_art_fid(arg0) % 512) == 26)) then begin
-                if ((has_skill(dude_obj, 13) >= 30) or has_trait(0, dude_obj, 44)) then begin
+                if ((has_skill(dude_obj, SKILL_REPAIR) >= 30) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
                     armor_piece := 0;
-                    if (random(1, 100) > (100 - (3 * get_critter_stat(dude_obj, 6)))) then begin
+                    if (random(1, 100) > (100 - (3 * dude_luck))) then begin
                         if (obj_is_carrying_obj_pid(dude_obj, 811) < obj_is_carrying_obj_pid(dude_obj, 809)) then begin
                             armor_piece := 811;
                         end
@@ -365,14 +365,14 @@ begin
                             end
                         end
                     end
-                    add_obj_to_inven(arg0, create_object_sid(armor_piece, 0, 0, -1));
+                    add_obj_to_inven(arg0, create_object(armor_piece, 0, 0));
                 end
             end
             else begin
                 if (((obj_art_fid(arg0) % 512) == 13) or ((obj_art_fid(arg0) % 512) == 6) or ((obj_art_fid(arg0) % 512) == 45) or ((obj_art_fid(arg0) % 512) == 34) or ((obj_art_fid(arg0) % 512) == 95)) then begin
-                    if ((has_skill(dude_obj, 13) >= 50) or has_trait(0, dude_obj, 44)) then begin
+                    if ((has_skill(dude_obj, SKILL_REPAIR) >= 50) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
                         armor_piece := 0;
-                        if (random(1, 100) > (100 - (3 * get_critter_stat(dude_obj, 6)))) then begin
+                        if (random(1, 100) > (100 - (3 * dude_luck))) then begin
                             if (obj_is_carrying_obj_pid(dude_obj, 850) < obj_is_carrying_obj_pid(dude_obj, 812)) then begin
                                 armor_piece := 850;
                             end
@@ -393,14 +393,14 @@ begin
                                 end
                             end
                         end
-                        add_obj_to_inven(arg0, create_object_sid(armor_piece, 0, 0, -1));
+                        add_obj_to_inven(arg0, create_object(armor_piece, 0, 0));
                     end
                 end
                 else begin
                     if (((obj_art_fid(arg0) % 512) == 5) or ((obj_art_fid(arg0) % 512) == 12) or ((obj_art_fid(arg0) % 512) == 44)) then begin
-                        if ((has_skill(dude_obj, 13) >= 50) or has_trait(0, dude_obj, 44)) then begin
+                        if ((has_skill(dude_obj, SKILL_REPAIR) >= 50) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
                             armor_piece := 0;
-                            if (random(1, 100) > (100 - (3 * get_critter_stat(dude_obj, 6)))) then begin
+                            if (random(1, 100) > (100 - (3 * dude_luck))) then begin
                                 if (obj_is_carrying_obj_pid(dude_obj, 850) < obj_is_carrying_obj_pid(dude_obj, 812)) then begin
                                     armor_piece := 850;
                                 end
@@ -421,14 +421,14 @@ begin
                                     end
                                 end
                             end
-                            add_obj_to_inven(arg0, create_object_sid(armor_piece, 0, 0, -1));
+                            add_obj_to_inven(arg0, create_object(armor_piece, 0, 0));
                         end
                     end
                     else begin
                         if (((obj_art_fid(arg0) % 512) == 14) or ((obj_art_fid(arg0) % 512) == 7) or ((obj_art_fid(arg0) % 512) == 9) or ((obj_art_fid(arg0) % 512) == 35)) then begin
-                            if ((has_skill(dude_obj, 13) >= 80) or has_trait(0, dude_obj, 44)) then begin
+                            if ((has_skill(dude_obj, SKILL_REPAIR) >= 80) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
                                 armor_piece := 0;
-                                if (random(1, 100) > (100 - (3 * get_critter_stat(dude_obj, 6)))) then begin
+                                if (random(1, 100) > (100 - (3 * dude_luck))) then begin
                                     if ((obj_is_carrying_obj_pid(dude_obj, 842) < obj_is_carrying_obj_pid(dude_obj, 841)) and (obj_is_carrying_obj_pid(dude_obj, 842) < obj_is_carrying_obj_pid(dude_obj, 840))) then begin
                                         armor_piece := 842;
                                     end
@@ -459,14 +459,14 @@ begin
                                         end
                                     end
                                 end
-                                add_obj_to_inven(arg0, create_object_sid(armor_piece, 0, 0, -1));
+                                add_obj_to_inven(arg0, create_object(armor_piece, 0, 0));
                             end
                         end
                         else begin
                             if (((obj_art_fid(arg0) % 512) == 10) or ((obj_art_fid(arg0) % 512) == 2)) then begin
-                                if ((has_skill(dude_obj, 13) >= 110) and (has_skill(dude_obj, 12) >= 75) or has_trait(0, dude_obj, 44)) then begin
+                                if ((has_skill(dude_obj, SKILL_REPAIR) >= 110) and (has_skill(dude_obj, SKILL_SCIENCE) >= 75) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
                                     armor_piece := 0;
-                                    if (random(1, 100) > (100 - (3 * get_critter_stat(dude_obj, 6)))) then begin
+                                    if (random(1, 100) > (100 - (3 * dude_luck))) then begin
                                         if ((obj_is_carrying_obj_pid(dude_obj, 843) < obj_is_carrying_obj_pid(dude_obj, 845)) and (obj_is_carrying_obj_pid(dude_obj, 843) < obj_is_carrying_obj_pid(dude_obj, 844))) then begin
                                             armor_piece := 843;
                                         end
@@ -497,14 +497,14 @@ begin
                                             end
                                         end
                                     end
-                                    add_obj_to_inven(arg0, create_object_sid(armor_piece, 0, 0, -1));
+                                    add_obj_to_inven(arg0, create_object(armor_piece, 0, 0));
                                 end
                             end
                             else begin
                                 if ((obj_art_fid(arg0) % 512) == 1) then begin
-                                    if ((has_skill(dude_obj, 13) >= 130) and (has_skill(dude_obj, 12) >= 110) or has_trait(0, dude_obj, 44)) then begin
+                                    if ((has_skill(dude_obj, SKILL_REPAIR) >= 130) and (has_skill(dude_obj, SKILL_SCIENCE) >= 110) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
                                         armor_piece := 0;
-                                        if (random(1, 100) > (100 - (3 * get_critter_stat(dude_obj, 6)))) then begin
+                                        if (random(1, 100) > (100 - (3 * dude_luck))) then begin
                                             if ((obj_is_carrying_obj_pid(dude_obj, 848) < obj_is_carrying_obj_pid(dude_obj, 847)) and (obj_is_carrying_obj_pid(dude_obj, 848) < obj_is_carrying_obj_pid(dude_obj, 846))) then begin
                                                 armor_piece := 848;
                                             end
@@ -535,14 +535,14 @@ begin
                                                 end
                                             end
                                         end
-                                        add_obj_to_inven(arg0, create_object_sid(armor_piece, 0, 0, -1));
+                                        add_obj_to_inven(arg0, create_object(armor_piece, 0, 0));
                                     end
                                 end
                                 else begin
                                     if ((obj_art_fid(arg0) % 512) == 71) then begin
-                                        if ((has_skill(dude_obj, 13) >= 130) and (has_skill(dude_obj, 12) >= 110) or has_trait(0, dude_obj, 44)) then begin
+                                        if ((has_skill(dude_obj, SKILL_REPAIR) >= 130) and (has_skill(dude_obj, SKILL_SCIENCE) >= 110) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
                                             armor_piece := 0;
-                                            if (random(1, 100) > (100 - (3 * get_critter_stat(dude_obj, 6)))) then begin
+                                            if (random(1, 100) > (100 - (3 * dude_luck))) then begin
                                                 if ((obj_is_carrying_obj_pid(dude_obj, 848) < obj_is_carrying_obj_pid(dude_obj, 847)) and (obj_is_carrying_obj_pid(dude_obj, 848) < obj_is_carrying_obj_pid(dude_obj, 846))) then begin
                                                     armor_piece := 848;
                                                 end
@@ -573,13 +573,13 @@ begin
                                                     end
                                                 end
                                             end
-                                            add_obj_to_inven(arg0, create_object_sid(armor_piece, 0, 0, -1));
+                                            add_obj_to_inven(arg0, create_object(armor_piece, 0, 0));
                                         end
                                     end
                                     else begin
                                         if ((obj_art_fid(arg0) % 512) == 85) then begin
-                                            if ((has_skill(dude_obj, 13) >= 160) and (has_skill(dude_obj, 12) >= 145) or has_trait(0, dude_obj, 44)) then begin
-                                                add_obj_to_inven(arg0, create_object_sid(554, 0, 0, -1));
+                                            if ((has_skill(dude_obj, SKILL_REPAIR) >= 160) and (has_skill(dude_obj, SKILL_SCIENCE) >= 145) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
+                                                add_obj_to_inven(arg0, create_object(554, 0, 0));
                                             end
                                         end
                                     end
@@ -599,83 +599,83 @@ procedure Lootable_Armor_FRP(variable arg0)
 begin
     call Delete_Worn_Armor(arg0);
     if (((obj_art_fid(arg0) % 512) == 13) or ((obj_art_fid(arg0) % 512) == 6) or ((obj_art_fid(arg0) % 512) == 45) or ((obj_art_fid(arg0) % 512) == 34) or ((obj_art_fid(arg0) % 512) == 105) or ((obj_art_fid(arg0) % 512) == 113) or ((obj_art_fid(arg0) % 512) == 130) or ((obj_art_fid(arg0) % 512) == 145) or ((obj_art_fid(arg0) % 512) == 95)) then begin
-        if ((has_skill(dude_obj, 13) >= 50) or has_trait(0, dude_obj, 44)) then begin
+        if ((has_skill(dude_obj, SKILL_REPAIR) >= 50) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
             random_roll := random(1, 100);
-            if (random_roll < (100 - (3 * get_critter_stat(dude_obj, 6)))) then begin
-                add_obj_to_inven(arg0, create_object_sid(74, 0, 0, -1));
+            if (random_roll < (100 - (3 * dude_luck))) then begin
+                add_obj_to_inven(arg0, create_object(74, 0, 0));
             end
             else begin
-                add_obj_to_inven(arg0, create_object_sid(265, 0, 0, -1));
+                add_obj_to_inven(arg0, create_object(265, 0, 0));
             end
         end
     end
     else begin
         if (((obj_art_fid(arg0) % 512) == 5) or ((obj_art_fid(arg0) % 512) == 12) or ((obj_art_fid(arg0) % 512) == 44) or ((obj_art_fid(arg0) % 512) == 77) or ((obj_art_fid(arg0) % 512) == 109) or ((obj_art_fid(arg0) % 512) == 117) or ((obj_art_fid(arg0) % 512) == 131) or ((obj_art_fid(arg0) % 512) == 137) or ((obj_art_fid(arg0) % 512) == 78)) then begin
-            if ((has_skill(dude_obj, 13) >= 60) or has_trait(0, dude_obj, 44)) then begin
+            if ((has_skill(dude_obj, SKILL_REPAIR) >= 60) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
                 random_roll := random(1, 100);
-                if (random_roll < (100 - (3 * get_critter_stat(dude_obj, 6)))) then begin
-                    add_obj_to_inven(arg0, create_object_sid(1, 0, 0, -1));
+                if (random_roll < (100 - (3 * dude_luck))) then begin
+                    add_obj_to_inven(arg0, create_object(1, 0, 0));
                 end
                 else begin
-                    add_obj_to_inven(arg0, create_object_sid(379, 0, 0, -1));
+                    add_obj_to_inven(arg0, create_object(379, 0, 0));
                 end
             end
         end
         else begin
             if (((obj_art_fid(arg0) % 512) == 14) or ((obj_art_fid(arg0) % 512) == 7) or ((obj_art_fid(arg0) % 512) == 9) or ((obj_art_fid(arg0) % 512) == 35) or ((obj_art_fid(arg0) % 512) == 107) or ((obj_art_fid(arg0) % 512) == 111) or ((obj_art_fid(arg0) % 512) == 115) or ((obj_art_fid(arg0) % 512) == 119) or ((obj_art_fid(arg0) % 512) == 132)) then begin
-                if ((has_skill(dude_obj, 13) >= 80) or has_trait(0, dude_obj, 44)) then begin
+                if ((has_skill(dude_obj, SKILL_REPAIR) >= 80) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
                     random_roll := random(1, 100);
                     if (random_roll < 76) then begin
-                        add_obj_to_inven(arg0, create_object_sid(2, 0, 0, -1));
+                        add_obj_to_inven(arg0, create_object(2, 0, 0));
                     end
                     else begin
                         if (random_roll < 96) then begin
-                            add_obj_to_inven(arg0, create_object_sid(380, 0, 0, -1));
+                            add_obj_to_inven(arg0, create_object(380, 0, 0));
                         end
                         else begin
-                            add_obj_to_inven(arg0, create_object_sid(240, 0, 0, -1));
+                            add_obj_to_inven(arg0, create_object(240, 0, 0));
                         end
                     end
                 end
             end
             else begin
                 if (((obj_art_fid(arg0) % 512) == 10) or ((obj_art_fid(arg0) % 512) == 2) or ((obj_art_fid(arg0) % 512) == 110) or ((obj_art_fid(arg0) % 512) == 106) or ((obj_art_fid(arg0) % 512) == 114)) then begin
-                    if ((has_skill(dude_obj, 13) >= 110) or has_trait(0, dude_obj, 44)) then begin
+                    if ((has_skill(dude_obj, SKILL_REPAIR) >= 110) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
                         random_roll := random(1, 100);
                         if (random_roll < 34) then begin
-                            add_obj_to_inven(arg0, create_object_sid(17, 0, 0, -1));
+                            add_obj_to_inven(arg0, create_object(17, 0, 0));
                         end
                         else begin
                             if (random_roll < 67) then begin
-                                add_obj_to_inven(arg0, create_object_sid(381, 0, 0, -1));
+                                add_obj_to_inven(arg0, create_object(381, 0, 0));
                             end
                             else begin
-                                add_obj_to_inven(arg0, create_object_sid(239, 0, 0, -1));
+                                add_obj_to_inven(arg0, create_object(239, 0, 0));
                             end
                         end
                     end
                 end
                 else begin
                     if (((obj_art_fid(arg0) % 512) == 1) or ((obj_art_fid(arg0) % 512) == 104) or ((obj_art_fid(arg0) % 512) == 108) or ((obj_art_fid(arg0) % 512) == 112) or ((obj_art_fid(arg0) % 512) == 116)) then begin
-                        if ((has_skill(dude_obj, 13) >= 130) and (has_skill(dude_obj, 12) >= 110) or has_trait(0, dude_obj, 44)) then begin
+                        if ((has_skill(dude_obj, SKILL_REPAIR) >= 130) and (has_skill(dude_obj, SKILL_SCIENCE) >= 110) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
                             random_roll := random(1, 100);
-                            if (random_roll < (100 - (3 * get_critter_stat(dude_obj, 6)))) then begin
-                                add_obj_to_inven(arg0, create_object_sid(3, 0, 0, -1));
+                            if (random_roll < (100 - (3 * dude_luck))) then begin
+                                add_obj_to_inven(arg0, create_object(3, 0, 0));
                             end
                             else begin
-                                add_obj_to_inven(arg0, create_object_sid(232, 0, 0, -1));
+                                add_obj_to_inven(arg0, create_object(232, 0, 0));
                             end
                         end
                     end
                     else begin
                         if ((obj_art_fid(arg0) % 512) == 71) then begin
-                            if ((has_skill(dude_obj, 13) >= 140) and (has_skill(dude_obj, 12) >= 120) or has_trait(0, dude_obj, 44)) then begin
+                            if ((has_skill(dude_obj, SKILL_REPAIR) >= 140) and (has_skill(dude_obj, SKILL_SCIENCE) >= 120) or has_trait(TRAIT_PERK, dude_obj, PERK_animal_friend)) then begin
                                 random_roll := random(1, 100);
-                                if (random_roll < (100 - (3 * get_critter_stat(dude_obj, 6)))) then begin
-                                    add_obj_to_inven(arg0, create_object_sid(348, 0, 0, -1));
+                                if (random_roll < (100 - (3 * dude_luck))) then begin
+                                    add_obj_to_inven(arg0, create_object(348, 0, 0));
                                 end
                                 else begin
-                                    add_obj_to_inven(arg0, create_object_sid(349, 0, 0, -1));
+                                    add_obj_to_inven(arg0, create_object(349, 0, 0));
                                 end
                             end
                         end
@@ -691,43 +691,43 @@ end
 procedure Gecko_Items(variable arg0)
 begin
     if (((obj_art_fid(arg0) % 512) == 67) or ((obj_art_fid(arg0) % 512) == 68) or ((obj_art_fid(arg0) % 512) == 81)) then begin
-        temp_box := create_object_sid(128, 0, 0, -1);
+        temp_box := create_object(128, 0, 0);
         move_obj_inven_to_obj(arg0, temp_box);
         destroy_object(temp_box);
-        if (has_trait(0, dude_obj, 73)) then begin
+        if (has_trait(TRAIT_PERK, dude_obj, PERK_gecko_skinning_perk)) then begin
             if ((obj_art_fid(arg0) % 512) == 67) then begin
-                item := create_object_sid(276, 0, 0, -1);
+                item := create_object(276, 0, 0);
             end
             else begin
                 if ((obj_art_fid(arg0) % 512) == 68) then begin
-                    item := create_object_sid(277, 0, 0, -1);
-                    if (global_var(686) == 1) then begin
-                        add_obj_to_inven(arg0, create_object_sid(640, 0, 0, -1));
+                    item := create_object(277, 0, 0);
+                    if (global_var(GVAR_JENFARM_FLAGS) == 1) then begin
+                        add_obj_to_inven(arg0, create_object(640, 0, 0));
                     end
                 end
                 else begin
                     if ((obj_art_fid(arg0) % 512) == 81) then begin
-                        item := create_object_sid(552, 0, 0, -1);
+                        item := create_object(552, 0, 0);
                     end
                 end
             end
             add_obj_to_inven(arg0, item);
         end
         if (get_sfall_global_int("MM_00005") == 1) then begin
-            if (has_trait(0, dude_obj, 40)) then begin
-                if (random(1, 100) > (100 - (3 * get_critter_stat(dude_obj, 6)))) then begin
+            if (has_trait(TRAIT_PERK, dude_obj, PERK_scrounger)) then begin
+                if (random(1, 100) > (100 - (3 * dude_luck))) then begin
                     decide := random(1, 2);
                     if (decide == 1) then begin
-                        item := create_object_sid(803, 0, 0, -1);
+                        item := create_object(803, 0, 0);
                     end
                     else begin
                         if (decide == 2) then begin
-                            item := create_object_sid(804, 0, 0, -1);
+                            item := create_object(804, 0, 0);
                         end
                     end
                 end
                 else begin
-                    item := create_object_sid(800, 0, 0, -1);
+                    item := create_object(800, 0, 0);
                 end
             end
             add_obj_to_inven(arg0, item);
@@ -794,7 +794,7 @@ begin
             end
             number_items_remove := number_items_remove + 1;
         end
-        add_mult_objs_to_inven(arg0, create_object_sid(arg2, 0, 0, -1), number_items_remove);
+        add_mult_objs_to_inven(arg0, create_object(arg2, 0, 0), number_items_remove);
         number_items_remove := 0;
     end
     return 0;
@@ -802,4 +802,3 @@ begin
     arg1 := 0;
     arg2 := 0;
 end
-
