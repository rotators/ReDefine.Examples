diff --git a/Mods/MegaMod/Original/EPAC1.ssl b/Mods/MegaMod/ReDefine/EPAC1.ssl
index 43ce093..33ccf8d 100644
--- a/Mods/MegaMod/Original/EPAC1.ssl
+++ b/Mods/MegaMod/ReDefine/EPAC1.ssl
@@ -152,43 +152,43 @@ end
 
 procedure Check_Next_Third_Of_Areas
 begin
-    if (metarule(46, 0) == 16) then begin
+    if (cur_town == 16) then begin
         PartyMemberBackground := 15;
     end
     else begin
-        if (metarule(46, 0) == 17) then begin
+        if (cur_town == 17) then begin
             PartyMemberBackground := 16;
         end
         else begin
-            if (metarule(46, 0) == 18) then begin
+            if (cur_town == 18) then begin
                 PartyMemberBackground := 16;
             end
             else begin
-                if (metarule(46, 0) == 19) then begin
+                if (cur_town == 19) then begin
                     PartyMemberBackground := 16;
                 end
                 else begin
-                    if (metarule(46, 0) == 20) then begin
+                    if (cur_town == 20) then begin
                     end
                     else begin
-                        if (metarule(46, 0) == 21) then begin
+                        if (cur_town == 21) then begin
                             PartyMemberBackground := 16;
                         end
                         else begin
-                            if (metarule(46, 0) == 22) then begin
+                            if (cur_town == 22) then begin
                                 PartyMemberBackground := 16;
                             end
                             else begin
-                                if (metarule(46, 0) == 23) then begin
+                                if (cur_town == 23) then begin
                                     PartyMemberBackground := 14;
                                 end
                                 else begin
-                                    if (metarule(46, 0) == 24) then begin
+                                    if (cur_town == 24) then begin
                                         PartyMemberBackground := 16;
                                     end
                                     else begin
-                                        if (metarule(46, 0) == 25) then begin
-                                            if (cur_map_index == 92) then begin
+                                        if (cur_town == 25) then begin
+                                            if (CUR_MAP_RAIDERS1) then begin
                                                 if (elevation(self_obj) == 0) then begin
                                                     PartyMemberBackground := 16;
                                                 end
@@ -201,11 +201,11 @@ begin
                                             end
                                         end
                                         else begin
-                                            if (metarule(46, 0) == 26) then begin
+                                            if (cur_town == 26) then begin
                                                 PartyMemberBackground := 16;
                                             end
                                             else begin
-                                                if (metarule(46, 0) == 27) then begin
+                                                if (cur_town == 27) then begin
                                                     if (elevation(self_obj) == 1) then begin
                                                         PartyMemberBackground := 14;
                                                     end
@@ -214,11 +214,11 @@ begin
                                                     end
                                                 end
                                                 else begin
-                                                    if (metarule(46, 0) == 28) then begin
+                                                    if (cur_town == 28) then begin
                                                         PartyMemberBackground := 4;
                                                     end
                                                     else begin
-                                                        if (metarule(46, 0) == 29) then begin
+                                                        if (cur_town == 29) then begin
                                                             if (elevation(self_obj) == 1) then begin
                                                                 PartyMemberBackground := 14;
                                                             end
@@ -227,7 +227,7 @@ begin
                                                             end
                                                         end
                                                         else begin
-                                                            if (metarule(46, 0) == 30) then begin
+                                                            if (cur_town == 30) then begin
                                                                 if (elevation(self_obj) == 1) then begin
                                                                     PartyMemberBackground := 14;
                                                                 end
@@ -256,63 +256,63 @@ end
 
 procedure Check_Second_Third_Of_Areas
 begin
-    if (metarule(46, 0) == 31) then begin
+    if (cur_town == 31) then begin
         PartyMemberBackground := 16;
     end
     else begin
-        if (metarule(46, 0) == 32) then begin
+        if (cur_town == 32) then begin
             PartyMemberBackground := 16;
         end
         else begin
-            if (metarule(46, 0) == 33) then begin
+            if (cur_town == 33) then begin
                 PartyMemberBackground := 16;
             end
             else begin
-                if (metarule(46, 0) == 34) then begin
+                if (cur_town == 34) then begin
                     PartyMemberBackground := 16;
                 end
                 else begin
-                    if (metarule(46, 0) == 35) then begin
+                    if (cur_town == 35) then begin
                         PartyMemberBackground := 16;
                     end
                     else begin
-                        if (metarule(46, 0) == 36) then begin
+                        if (cur_town == 36) then begin
                             PartyMemberBackground := 16;
                         end
                         else begin
-                            if (metarule(46, 0) == 37) then begin
+                            if (cur_town == 37) then begin
                                 PartyMemberBackground := 16;
                             end
                             else begin
-                                if (metarule(46, 0) == 38) then begin
+                                if (cur_town == 38) then begin
                                     PartyMemberBackground := 16;
                                 end
                                 else begin
-                                    if (metarule(46, 0) == 39) then begin
+                                    if (cur_town == 39) then begin
                                         PartyMemberBackground := 16;
                                     end
                                     else begin
-                                        if (metarule(46, 0) == 40) then begin
+                                        if (cur_town == 40) then begin
                                             PartyMemberBackground := 16;
                                         end
                                         else begin
-                                            if (metarule(46, 0) == 18) then begin
+                                            if (cur_town == 18) then begin
                                                 PartyMemberBackground := 16;
                                             end
                                             else begin
-                                                if (metarule(46, 0) == 41) then begin
+                                                if (cur_town == 41) then begin
                                                     PartyMemberBackground := 16;
                                                 end
                                                 else begin
-                                                    if (metarule(46, 0) == 42) then begin
+                                                    if (cur_town == 42) then begin
                                                         PartyMemberBackground := 16;
                                                     end
                                                     else begin
-                                                        if (metarule(46, 0) == 43) then begin
+                                                        if (cur_town == 43) then begin
                                                             PartyMemberBackground := 16;
                                                         end
                                                         else begin
-                                                            if (metarule(46, 0) == 44) then begin
+                                                            if (cur_town == 44) then begin
                                                                 PartyMemberBackground := 16;
                                                             end
                                                             else begin
@@ -336,7 +336,7 @@ end
 
 procedure Check_Final_Third_Of_Areas
 begin
-    if (metarule(46, 0) == 45) then begin
+    if (cur_town == 45) then begin
         if (elevation(self_obj) == 1) then begin
             PartyMemberBackground := 14;
         end
@@ -345,7 +345,7 @@ begin
         end
     end
     else begin
-        if (metarule(46, 0) == 46) then begin
+        if (cur_town == 46) then begin
             if (elevation(self_obj) == 1) then begin
                 PartyMemberBackground := 14;
             end
@@ -354,7 +354,7 @@ begin
             end
         end
         else begin
-            if (metarule(46, 0) == 47) then begin
+            if (cur_town == 47) then begin
                 if (elevation(self_obj) == 1) then begin
                     PartyMemberBackground := 14;
                 end
@@ -363,7 +363,7 @@ begin
                 end
             end
             else begin
-                if (metarule(46, 0) == 48) then begin
+                if (cur_town == 48) then begin
                     PartyMemberBackground := 3;
                 end
             end
@@ -423,11 +423,10 @@ end
 
 procedure talk_p_proc
 begin
-    float_msg(self_obj, message_str(1361, random(200, 207)), 8);
+    float_msg(self_obj, mstr(random(200, 207)), FLOAT_MSG_YELLOW);
 end
 
 procedure push_p_proc
 begin
-    float_msg(self_obj, message_str(1361, random(500, 501)), 8);
+    float_msg(self_obj, mstr(random(500, 501)), FLOAT_MSG_YELLOW);
 end
-
