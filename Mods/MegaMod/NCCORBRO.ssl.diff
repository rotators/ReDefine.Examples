diff --git a/Mods/MegaMod/Original/NCCORBRO.ssl b/Mods/MegaMod/ReDefine/NCCORBRO.ssl
index 78a45c9..67ffbde 100644
--- a/Mods/MegaMod/Original/NCCORBRO.ssl
+++ b/Mods/MegaMod/ReDefine/NCCORBRO.ssl
@@ -248,53 +248,53 @@ end
 procedure ChooseFromList
 begin
     variable LVar0 := 0;
-    gsay_reply(425, stored_msg);
-    if (message_str(353, top_msg - 1) != "") then begin
-        giq_option(1, 425, message_str(353, 150), CLICK_PREV, 50);
+    Reply(stored_msg);
+    if (message_str(SCRIPT_NEWR1, top_msg - 1) != "") then begin
+        giq_option(1, NAME, message_str(SCRIPT_NEWR1, 150), CLICK_PREV, NEUTRAL_REACTION);
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, top_msg + 0) != "") then begin
-            giq_option(1, 425, message_str(353, top_msg + 0), CLICK_0, 50);
+        if (message_str(SCRIPT_NEWR1, top_msg + 0) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, top_msg + 0), CLICK_0, NEUTRAL_REACTION);
         end
         else begin
             LVar0 := 1;
         end
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, top_msg + 1) != "") then begin
-            giq_option(1, 425, message_str(353, top_msg + 1), CLICK_1, 50);
+        if (message_str(SCRIPT_NEWR1, top_msg + 1) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, top_msg + 1), CLICK_1, NEUTRAL_REACTION);
         end
         else begin
             LVar0 := 1;
         end
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, top_msg + 2) != "") then begin
-            giq_option(1, 425, message_str(353, top_msg + 2), CLICK_2, 50);
+        if (message_str(SCRIPT_NEWR1, top_msg + 2) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, top_msg + 2), CLICK_2, NEUTRAL_REACTION);
         end
         else begin
             LVar0 := 1;
         end
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, top_msg + 3) != "") then begin
-            giq_option(1, 425, message_str(353, top_msg + 3), CLICK_3, 50);
+        if (message_str(SCRIPT_NEWR1, top_msg + 3) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, top_msg + 3), CLICK_3, NEUTRAL_REACTION);
         end
         else begin
             LVar0 := 1;
         end
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, top_msg + 4) != "") then begin
-            giq_option(1, 425, message_str(353, top_msg + 4), CLICK_4, 50);
+        if (message_str(SCRIPT_NEWR1, top_msg + 4) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, top_msg + 4), CLICK_4, NEUTRAL_REACTION);
         end
         else begin
             LVar0 := 1;
         end
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, top_msg + 5) != "") then begin
-            giq_option(1, 425, message_str(353, 151), CLICK_MORE, 50);
+        if (message_str(SCRIPT_NEWR1, top_msg + 5) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, 151), CLICK_MORE, NEUTRAL_REACTION);
         end
     end
     return 0;
@@ -350,15 +350,15 @@ end
 procedure critter_p_proc
 begin
     if (obj_can_see_obj(self_obj, dude_obj)) then begin
-        if (((local_var(4) bwand 2) != 0) or ((global_var(694) bwand 8) != 0)) then begin
+        if (((local_var(4) bwand 2) != 0) or ((global_var(GVAR_EMILY_SUBST_TIME) bwand 8) != 0)) then begin
             if (critter_is_fleeing(self_obj)) then begin
                 if (anim_busy(self_obj) == 0) then begin
                     if ((tile_distance_objs(self_obj, dude_obj) < 8) or obj_can_see_obj(self_obj, dude_obj)) then begin
                         if (anim_busy(self_obj) == 0) then begin
-                            global_temp := rotation_to_tile(tile_num(dude_obj), tile_num(self_obj));
+                            global_temp := rotation_to_tile(dude_tile, tile_num(self_obj));
                             animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(3, 10)), 1);
                             global_temp := (global_temp + 1) % 6;
-                            while ((anim_busy(self_obj) == 0) and (global_temp != rotation_to_tile(tile_num(dude_obj), tile_num(self_obj)))) do begin
+                            while ((anim_busy(self_obj) == 0) and (global_temp != rotation_to_tile(dude_tile, tile_num(self_obj)))) do begin
                                 debug_msg("flee loop: rot == " + global_temp);
                                 animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(3, 10)), 1);
                                 global_temp := (global_temp + 1) % 6;
@@ -368,7 +368,7 @@ begin
                 end
             end
             else begin
-                attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);
+                attack(dude_obj);
             end
         end
     end
@@ -404,7 +404,7 @@ begin
             call Node063();
         end
         else begin
-            if (global_var(494) == 8) then begin
+            if (global_var(GVAR_FALLOUT_2) == 8) then begin
                 if (in_dialog == 0) then begin
                     in_dialog := 1;
                     start_gdialog(425, self_obj, 4, -1, -1);
@@ -423,7 +423,7 @@ begin
                     call Node046();
                 end
                 else begin
-                    if (global_var(232) > 0) then begin
+                    if (global_var(GVAR_NEW_RENO_PORN_STAR) > 0) then begin
                         if ((local_var(5) <= game_time) == 0) then begin
                             if (in_dialog == 0) then begin
                                 in_dialog := 1;
@@ -454,7 +454,7 @@ begin
                         end
                     end
                     else begin
-                        if (global_var(230) > 0) then begin
+                        if (global_var(GVAR_NEW_RENO_MADE_MAN) > 0) then begin
                             if (in_dialog == 0) then begin
                                 in_dialog := 1;
                                 start_gdialog(425, self_obj, 4, -1, -1);
@@ -469,7 +469,7 @@ begin
                             end
                         end
                         else begin
-                            if (global_var(259) > 0) then begin
+                            if (global_var(GVAR_NEW_RENO_HAS_REP_PRIZEFIGHTER) > 0) then begin
                                 if (in_dialog == 0) then begin
                                     in_dialog := 1;
                                     start_gdialog(425, self_obj, 4, -1, -1);
@@ -484,7 +484,7 @@ begin
                                 end
                             end
                             else begin
-                                if (global_var(11) == 1) then begin
+                                if (global_var(GVAR_REPUTATION_SLAVER) == 1) then begin
                                     call Node008();
                                 end
                                 else begin
@@ -504,7 +504,7 @@ begin
                                                     call Node012();
                                                 end
                                                 else begin
-                                                    if (((global_var(345) bwand 134217728) != 0) and (local_var(6) == 0)) then begin
+                                                    if (((global_var(GVAR_NEW_RENO_FLAG_2) bwand 134217728) != 0) and (local_var(6) == 0)) then begin
                                                         if (in_dialog == 0) then begin
                                                             in_dialog := 1;
                                                             start_gdialog(425, self_obj, 4, -1, -1);
@@ -562,7 +562,7 @@ begin
     end
     last_timed_obj := self_obj;
     last_timed_param := last_timed_param;
-    metarule3(100, self_obj, 1, 0);
+    rm_fixed_timer_event(self_obj, 1);
     add_timer_event(self_obj, game_ticks(25) + random(0, game_ticks(35 - 25)), 1);
     set_local_var(4, local_var(4) bwor 1);
 end
@@ -571,59 +571,59 @@ procedure destroy_p_proc
 begin
     variable LVar0 := 0;
     if ((obj_pid(self_obj) >= 16777246) and (obj_pid(self_obj) <= 16777255)) then begin
-        LVar0 := create_object_sid(74, 0, 0, -1);
+        LVar0 := create_object(74, 0, 0);
         add_obj_to_inven(self_obj, LVar0);
     end
     if (source_obj == dude_obj) then begin
-        set_global_var(4, global_var(4) + 1);
-        if (metarule(51, self_obj) == 2) then begin
+        set_global_var(GVAR_BAD_MONSTER, global_var(GVAR_BAD_MONSTER) + 1);
+        if (critter_kill_type(self_obj) == KILL_TYPE_children_kills) then begin
             if (source_obj == dude_obj) then begin
-                set_global_var(2, 0);
-                set_global_var(1, global_var(1) + 1);
-                set_global_var(0, global_var(0) + -15);
+                set_global_var(GVAR_CHAMPION_REPUTATION, 0);
+                set_global_var(GVAR_CHILDKILLER_REPUTATION, global_var(GVAR_CHILDKILLER_REPUTATION) + 1);
+                set_global_var(GVAR_PLAYER_REPUTATION, global_var(GVAR_PLAYER_REPUTATION) + -15);
                 debug_msg("Player gains " + -15 + " Karma Points.");
-                set_global_var(37, 0);
-                set_global_var(38, 0);
-                set_global_var(39, 0);
-                set_global_var(40, 0);
-                set_global_var(41, 0);
-                set_global_var(42, 0);
-                set_global_var(43, 0);
-                set_global_var(44, 0);
-                set_global_var(45, 0);
-                if (global_var(0) >= 1000) then begin
-                    set_global_var(37, 1);
+                set_global_var(GVAR_KARMA_HOLY_WARRIOR, 0);
+                set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 0);
+                set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 0);
+                set_global_var(GVAR_KARMA_DEFENDER, 0);
+                set_global_var(GVAR_KARMA_WANDERER, 0);
+                set_global_var(GVAR_KARMA_BETRAYER, 0);
+                set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 0);
+                set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 0);
+                set_global_var(GVAR_KARMA_DEMON_SPAWN, 0);
+                if (global_var(GVAR_PLAYER_REPUTATION) >= 1000) then begin
+                    set_global_var(GVAR_KARMA_HOLY_WARRIOR, 1);
                 end
                 else begin
-                    if (global_var(0) >= 750) then begin
-                        set_global_var(38, 1);
+                    if (global_var(GVAR_PLAYER_REPUTATION) >= 750) then begin
+                        set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 1);
                     end
                     else begin
-                        if (global_var(0) >= 500) then begin
-                            set_global_var(39, 1);
+                        if (global_var(GVAR_PLAYER_REPUTATION) >= 500) then begin
+                            set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 1);
                         end
                         else begin
-                            if (global_var(0) >= 250) then begin
-                                set_global_var(40, 1);
+                            if (global_var(GVAR_PLAYER_REPUTATION) >= 250) then begin
+                                set_global_var(GVAR_KARMA_DEFENDER, 1);
                             end
                             else begin
-                                if (global_var(0) > -250) then begin
-                                    set_global_var(41, 1);
+                                if (global_var(GVAR_PLAYER_REPUTATION) > -250) then begin
+                                    set_global_var(GVAR_KARMA_WANDERER, 1);
                                 end
                                 else begin
-                                    if (global_var(0) > -500) then begin
-                                        set_global_var(42, 1);
+                                    if (global_var(GVAR_PLAYER_REPUTATION) > -500) then begin
+                                        set_global_var(GVAR_KARMA_BETRAYER, 1);
                                     end
                                     else begin
-                                        if (global_var(0) > -750) then begin
-                                            set_global_var(43, 1);
+                                        if (global_var(GVAR_PLAYER_REPUTATION) > -750) then begin
+                                            set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 1);
                                         end
                                         else begin
-                                            if (global_var(0) > -1000) then begin
-                                                set_global_var(44, 1);
+                                            if (global_var(GVAR_PLAYER_REPUTATION) > -1000) then begin
+                                                set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 1);
                                             end
                                             else begin
-                                                set_global_var(45, 1);
+                                                set_global_var(GVAR_KARMA_DEMON_SPAWN, 1);
                                             end
                                         end
                                     end
@@ -632,62 +632,62 @@ begin
                         end
                     end
                 end
-                set_global_var(55, global_var(55) + -8);
+                set_global_var(GVAR_TOWN_REP_NEW_RENO, global_var(GVAR_TOWN_REP_NEW_RENO) + -8);
                 debug_msg("Added " + -8 + " to Town Rep");
             end
         end
-        if (((global_var(4) + global_var(5)) >= 25) and ((global_var(5) > (2 * global_var(4))) or (global_var(3) == 1))) then begin
-            set_global_var(3, 1);
-            set_global_var(2, 0);
+        if (((global_var(GVAR_BAD_MONSTER) + global_var(GVAR_GOOD_MONSTER)) >= 25) and ((global_var(GVAR_GOOD_MONSTER) > (2 * global_var(GVAR_BAD_MONSTER))) or (global_var(GVAR_BERSERKER_REPUTATION) == 1))) then begin
+            set_global_var(GVAR_BERSERKER_REPUTATION, 1);
+            set_global_var(GVAR_CHAMPION_REPUTATION, 0);
         end
-        if (((global_var(4) + global_var(5)) >= 25) and ((global_var(4) > (3 * global_var(5))) or (global_var(2) == 1)) and (global_var(1) == 0)) then begin
-            set_global_var(2, 1);
-            set_global_var(3, 0);
+        if (((global_var(GVAR_BAD_MONSTER) + global_var(GVAR_GOOD_MONSTER)) >= 25) and ((global_var(4) > (3 * global_var(GVAR_GOOD_MONSTER))) or (global_var(GVAR_CHAMPION_REPUTATION) == 1)) and (global_var(GVAR_CHILDKILLER_REPUTATION) == 0)) then begin
+            set_global_var(GVAR_CHAMPION_REPUTATION, 1);
+            set_global_var(GVAR_BERSERKER_REPUTATION, 0);
         end
-        set_global_var(0, global_var(0) + 5);
+        set_global_var(GVAR_PLAYER_REPUTATION, global_var(GVAR_PLAYER_REPUTATION) + 5);
         debug_msg("Player gains " + 5 + " Karma Points.");
-        set_global_var(37, 0);
-        set_global_var(38, 0);
-        set_global_var(39, 0);
-        set_global_var(40, 0);
-        set_global_var(41, 0);
-        set_global_var(42, 0);
-        set_global_var(43, 0);
-        set_global_var(44, 0);
-        set_global_var(45, 0);
-        if (global_var(0) >= 1000) then begin
-            set_global_var(37, 1);
+        set_global_var(GVAR_KARMA_HOLY_WARRIOR, 0);
+        set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 0);
+        set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 0);
+        set_global_var(GVAR_KARMA_DEFENDER, 0);
+        set_global_var(GVAR_KARMA_WANDERER, 0);
+        set_global_var(GVAR_KARMA_BETRAYER, 0);
+        set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 0);
+        set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 0);
+        set_global_var(GVAR_KARMA_DEMON_SPAWN, 0);
+        if (global_var(GVAR_PLAYER_REPUTATION) >= 1000) then begin
+            set_global_var(GVAR_KARMA_HOLY_WARRIOR, 1);
         end
         else begin
-            if (global_var(0) >= 750) then begin
-                set_global_var(38, 1);
+            if (global_var(GVAR_PLAYER_REPUTATION) >= 750) then begin
+                set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 1);
             end
             else begin
-                if (global_var(0) >= 500) then begin
-                    set_global_var(39, 1);
+                if (global_var(GVAR_PLAYER_REPUTATION) >= 500) then begin
+                    set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 1);
                 end
                 else begin
-                    if (global_var(0) >= 250) then begin
-                        set_global_var(40, 1);
+                    if (global_var(GVAR_PLAYER_REPUTATION) >= 250) then begin
+                        set_global_var(GVAR_KARMA_DEFENDER, 1);
                     end
                     else begin
-                        if (global_var(0) > -250) then begin
-                            set_global_var(41, 1);
+                        if (global_var(GVAR_PLAYER_REPUTATION) > -250) then begin
+                            set_global_var(GVAR_KARMA_WANDERER, 1);
                         end
                         else begin
-                            if (global_var(0) > -500) then begin
-                                set_global_var(42, 1);
+                            if (global_var(GVAR_PLAYER_REPUTATION) > -500) then begin
+                                set_global_var(GVAR_KARMA_BETRAYER, 1);
                             end
                             else begin
-                                if (global_var(0) > -750) then begin
-                                    set_global_var(43, 1);
+                                if (global_var(GVAR_PLAYER_REPUTATION) > -750) then begin
+                                    set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 1);
                                 end
                                 else begin
-                                    if (global_var(0) > -1000) then begin
-                                        set_global_var(44, 1);
+                                    if (global_var(GVAR_PLAYER_REPUTATION) > -1000) then begin
+                                        set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 1);
                                     end
                                     else begin
-                                        set_global_var(45, 1);
+                                        set_global_var(GVAR_KARMA_DEMON_SPAWN, 1);
                                     end
                                 end
                             end
@@ -696,10 +696,10 @@ begin
                 end
             end
         end
-        set_global_var(55, global_var(55) + 2);
+        set_global_var(GVAR_TOWN_REP_NEW_RENO, global_var(GVAR_TOWN_REP_NEW_RENO) + 2);
         debug_msg("Added " + 2 + " to Town Rep");
     end
-    set_global_var(345, global_var(345) bwor 8388608);
+    set_global_var(GVAR_NEW_RENO_FLAG_2, global_var(GVAR_NEW_RENO_FLAG_2) bwor 8388608);
     return 0;
     LVar0 := 0;
 end
@@ -707,13 +707,13 @@ end
 procedure look_at_p_proc
 begin
     script_overrides;
-    display_msg(message_str(425, 100));
+    display_mstr(100);
 end
 
 procedure description_p_proc
 begin
     script_overrides;
-    display_msg(message_str(425, 150 + (((local_var(4) bwand 4) != 0) * (1 + ((local_var(4) bwand 512) != 0)))));
+    display_mstr(150 + (((local_var(4) bwand 4) != 0) * (1 + ((local_var(4) bwand 512) != 0))));
 end
 
 procedure use_skill_on_p_proc
@@ -725,19 +725,19 @@ begin
     if (source_obj == dude_obj) then begin
         set_local_var(4, local_var(4) bwor 8);
         set_local_var(4, local_var(4) bwor 2);
-        set_global_var(694, global_var(694) bwor 8);
+        set_global_var(GVAR_EMILY_SUBST_TIME, global_var(GVAR_EMILY_SUBST_TIME) bwor 8);
     end
 end
 
 procedure map_enter_p_proc
 begin
-    if (metarule(22, 0) == 0) then begin
-        if (metarule(14, 0)) then begin
-            critter_add_trait(self_obj, 1, 6, 65);
-            critter_add_trait(self_obj, 1, 5, 22);
+    if (is_loading_game == 0) then begin
+        if (map_first_run) then begin
+            critter_add_trait(self_obj, TRAIT_OBJECT, OBJECT_TEAM_NUM, 65);
+            critter_add_trait(self_obj, TRAIT_OBJECT, OBJECT_AI_PACKET, AI_TOUGH_GUARD);
         end
         else begin
-            if (metarule(22, 0) == 0) then begin
+            if (is_loading_game == 0) then begin
                 if ((local_var(4) bwand 512) != 0) then begin
                     set_local_var(4, local_var(4) bwand (-1 - 512));
                 end
@@ -748,7 +748,7 @@ begin
         end
         last_timed_obj := self_obj;
         last_timed_param := last_timed_param;
-        metarule3(100, self_obj, 1, 0);
+        rm_fixed_timer_event(self_obj, 1);
         add_timer_event(self_obj, game_ticks(25) + random(0, game_ticks(35 - 25)), 1);
     end
 end
@@ -757,16 +757,16 @@ procedure timed_event_p_proc
 begin
     if (fixed_param == 1) then begin
         if (obj_can_see_obj(self_obj, dude_obj)) then begin
-            if ((combat_is_initialized == 0) and has_trait(1, self_obj, 666)) then begin
+            if ((combat_is_initialized == 0) and obj_is_visible_flag(self_obj)) then begin
                 if ((local_var(4) bwand 16384) != 0) then begin
                     call Node063();
                 end
                 else begin
-                    if (global_var(494) == 8) then begin
+                    if (global_var(GVAR_FALLOUT_2) == 8) then begin
                         call Node001();
                     end
                     else begin
-                        if ((obj_pid(critter_inven_obj(dude_obj, 0)) == 3) or (obj_pid(critter_inven_obj(dude_obj, 0)) == 348) or (obj_pid(critter_inven_obj(dude_obj, 0)) == 349) or (obj_pid(critter_inven_obj(dude_obj, 0)) == 232)) then begin
+                        if ((obj_pid(critter_inven_obj(dude_obj, INVEN_TYPE_WORN)) == 3) or (obj_pid(critter_inven_obj(dude_obj, INVEN_TYPE_WORN)) == 348) or (obj_pid(critter_inven_obj(dude_obj, INVEN_TYPE_WORN)) == 349) or (obj_pid(critter_inven_obj(dude_obj, INVEN_TYPE_WORN)) == 232)) then begin
                             call Node002();
                         end
                         else begin
@@ -774,19 +774,19 @@ begin
                                 call Node046();
                             end
                             else begin
-                                if (global_var(232) > 0) then begin
+                                if (global_var(GVAR_NEW_RENO_PORN_STAR) > 0) then begin
                                     call Node003();
                                 end
                                 else begin
-                                    if (global_var(230) > 0) then begin
+                                    if (global_var(GVAR_NEW_RENO_MADE_MAN) > 0) then begin
                                         call Node005();
                                     end
                                     else begin
-                                        if (global_var(259) > 0) then begin
+                                        if (global_var(GVAR_NEW_RENO_HAS_REP_PRIZEFIGHTER) > 0) then begin
                                             call Node006();
                                         end
                                         else begin
-                                            if ((global_var(11) == 1) and (has_trait(0, dude_obj, 39) == 0)) then begin
+                                            if ((global_var(GVAR_REPUTATION_SLAVER) == 1) and (has_trait(TRAIT_PERK, dude_obj, PERK_cult_of_personality) == 0)) then begin
                                                 call Node008();
                                             end
                                             else begin
@@ -823,21 +823,21 @@ begin
         end
         last_timed_obj := self_obj;
         last_timed_param := last_timed_param;
-        metarule3(100, self_obj, 1, 0);
+        rm_fixed_timer_event(self_obj, 1);
         add_timer_event(self_obj, game_ticks(25) + random(0, game_ticks(35 - 25)), 1);
     end
     else begin
         if (fixed_param == 500) then begin
-            set_global_var(345, global_var(345) bwand (-1 - 268435456));
-            game_time_advance(get_critter_stat(dude_obj, 2) * random(4, 8) * (60 * 10));
-            set_global_var(194, global_var(194) + (((((get_critter_stat(dude_obj, 3) * 50) + (get_critter_stat(dude_obj, 2) * 25) + (get_critter_stat(dude_obj, 5) * 13) + (get_critter_stat(dude_obj, 0) * 12)) / 100) + (has_trait(0, dude_obj, 94) * 2) + has_trait(2, dude_obj, 13) + (((global_var(194) >= 100) or (global_var(232) > 0)) * 2 * (dude_obj == dude_obj))) * 1));
-            if (global_var(358) >= 9) then begin
-                set_global_var(588, 1);
+            set_global_var(GVAR_NEW_RENO_FLAG_2, global_var(GVAR_NEW_RENO_FLAG_2) bwand (-1 - 268435456));
+            game_time_advance(dude_endurance * random(4, 8) * (60 * 10));
+            set_global_var(GVAR_PLAYER_SEX_LEVEL, global_var(194) + (((((dude_charisma * 50) + (dude_endurance * 25) + (get_critter_stat(dude_obj, STAT_ag) * 13) + (dude_strength * 12)) / 100) + (has_trait(TRAIT_PERK, dude_obj, PERK_kama_sutra_perk) * 2) + has_trait(2, dude_obj, 13) + (((global_var(GVAR_PLAYER_SEX_LEVEL) >= 100) or (global_var(GVAR_NEW_RENO_PORN_STAR) > 0)) * 2 * (dude_obj == dude_obj))) * 1));
+            if (global_var(GVAR_SEX_COUNTER) >= 9) then begin
+                set_global_var(GVAR_SEXPERT, 1);
             end
-            if (((((get_critter_stat(dude_obj, 3) * 50) + (get_critter_stat(dude_obj, 2) * 25) + (get_critter_stat(dude_obj, 5) * 13) + (get_critter_stat(dude_obj, 0) * 12)) / 100) + (has_trait(0, dude_obj, 94) * 2) + has_trait(2, dude_obj, 13) + (((global_var(194) >= 100) or (global_var(232) > 0)) * 2 * (dude_obj == dude_obj))) >= 9) then begin
-                set_global_var(589, 1);
+            if (((((dude_charisma * 50) + (dude_endurance * 25) + (get_critter_stat(dude_obj, STAT_ag) * 13) + (dude_strength * 12)) / 100) + (has_trait(TRAIT_PERK, dude_obj, PERK_kama_sutra_perk) * 2) + has_trait(2, dude_obj, 13) + (((global_var(GVAR_PLAYER_SEX_LEVEL) >= 100) or (global_var(GVAR_NEW_RENO_PORN_STAR) > 0)) * 2 * (dude_obj == dude_obj))) >= 9) then begin
+                set_global_var(GVAR_GIGALO, 1);
             end
-            set_global_var(358, global_var(358) + 1);
+            set_global_var(GVAR_SEX_COUNTER, global_var(GVAR_SEX_COUNTER) + 1);
             if (local_var(5) <= game_time) then begin
                 set_local_var(5, game_time + (30 * (24 * (60 * (60 * 10)))));
             end
@@ -852,37 +852,37 @@ begin
             end
             else begin
                 if ((local_var(6) == 4) or (local_var(6) == 5) or (local_var(6) == 6)) then begin
-                    if (get_critter_stat(dude_obj, 4) <= 3) then begin
-                        debug_msg("force_dialog_start(" + forced_node + "): " + obj_name(self_obj));
+                    if (dude_is_stupid) then begin
+                        debug_msg("force_dialog_start(" + forced_node + "): " + self_name);
                         forced_node := "Node034";
                         dialogue_system_enter;
                     end
                     else begin
-                        debug_msg("force_dialog_start(" + forced_node + "): " + obj_name(self_obj));
+                        debug_msg("force_dialog_start(" + forced_node + "): " + self_name);
                         forced_node := "Node035";
                         dialogue_system_enter;
                     end
                 end
                 else begin
-                    if (get_critter_stat(dude_obj, 5) < 8) then begin
-                        debug_msg("force_dialog_start(" + forced_node + "): " + obj_name(self_obj));
+                    if (get_critter_stat(dude_obj, STAT_ag) < 8) then begin
+                        debug_msg("force_dialog_start(" + forced_node + "): " + self_name);
                         forced_node := "Node024";
                         dialogue_system_enter;
                     end
                     else begin
-                        if (get_critter_stat(dude_obj, 2) < 8) then begin
-                            debug_msg("force_dialog_start(" + forced_node + "): " + obj_name(self_obj));
+                        if (dude_endurance < 8) then begin
+                            debug_msg("force_dialog_start(" + forced_node + "): " + self_name);
                             forced_node := "Node025";
                             dialogue_system_enter;
                         end
                         else begin
-                            if (((((get_critter_stat(dude_obj, 3) * 50) + (get_critter_stat(dude_obj, 2) * 25) + (get_critter_stat(dude_obj, 5) * 13) + (get_critter_stat(dude_obj, 0) * 12)) / 100) + (has_trait(0, dude_obj, 94) * 2) + has_trait(2, dude_obj, 13) + (((global_var(194) >= 100) or (global_var(232) > 0)) * 2 * (dude_obj == dude_obj))) < 9) then begin
-                                debug_msg("force_dialog_start(" + forced_node + "): " + obj_name(self_obj));
+                            if (((((dude_charisma * 50) + (dude_endurance * 25) + (get_critter_stat(dude_obj, STAT_ag) * 13) + (dude_strength * 12)) / 100) + (has_trait(TRAIT_PERK, dude_obj, PERK_kama_sutra_perk) * 2) + has_trait(2, dude_obj, 13) + (((global_var(GVAR_PLAYER_SEX_LEVEL) >= 100) or (global_var(GVAR_NEW_RENO_PORN_STAR) > 0)) * 2 * (dude_obj == dude_obj))) < 9) then begin
+                                debug_msg("force_dialog_start(" + forced_node + "): " + self_name);
                                 forced_node := "Node026";
                                 dialogue_system_enter;
                             end
                             else begin
-                                debug_msg("force_dialog_start(" + forced_node + "): " + obj_name(self_obj));
+                                debug_msg("force_dialog_start(" + forced_node + "): " + self_name);
                                 forced_node := "Node027";
                                 dialogue_system_enter;
                             end
@@ -896,10 +896,10 @@ end
 
 procedure map_update_p_proc
 begin
-    if ((global_var(495) bwand 536870912) != 0) then begin
-        if (has_trait(1, self_obj, 666)) then begin
+    if ((global_var(GVAR_NEW_RENO_FLAG_3) bwand 536870912) != 0) then begin
+        if (obj_is_visible_flag(self_obj)) then begin
             if (tile_in_tile_rect(22298, 22266, 29498, 29466, tile_num(self_obj)) == 0) then begin
-                if (has_trait(1, self_obj, 666) == 1) then begin
+                if (obj_is_visible_flag(self_obj) == 1) then begin
                     set_obj_visibility(self_obj, 1);
                 end
                 set_local_var(4, local_var(4) bwor 524288);
@@ -908,7 +908,7 @@ begin
     end
     else begin
         if ((local_var(4) bwand 524288) != 0) then begin
-            if (has_trait(1, self_obj, 666) == 0) then begin
+            if (obj_is_visible_flag(self_obj) == 0) then begin
                 set_obj_visibility(self_obj, 0);
             end
             set_local_var(4, local_var(4) bwand (-1 - 524288));
@@ -930,22 +930,22 @@ end
 procedure Node001
 begin
     the_msg := random(200, 202);
-    float_msg(self_obj, message_str(425, the_msg) + obj_name(dude_obj) + message_str(425, 5000 + the_msg), 8);
+    float_msg(self_obj, mstr(the_msg) + dude_name + mstr(5000 + the_msg), FLOAT_MSG_YELLOW);
 end
 
 procedure Node002
 begin
-    float_msg(self_obj, message_str(425, random(210, 212)), 8);
+    float_msg(self_obj, mstr(random(210, 212)), FLOAT_MSG_YELLOW);
 end
 
 procedure Node003
 begin
-    floater_patch_msg := random(224 - (4 * (get_critter_stat(dude_obj, 34) == 0)), 230 + (3 * (get_critter_stat(dude_obj, 34) == 1)));
+    floater_patch_msg := random(224 - (4 * (dude_gender == 0)), 230 + (3 * (dude_gender == 1)));
     if ((floater_patch_msg == 232) or (floater_patch_msg == 225) or (floater_patch_msg == 246) or (floater_patch_msg == 252) or (floater_patch_msg == 256)) then begin
-        float_msg(self_obj, message_str(425, floater_patch_msg) + message_str(353, 500 + global_var(232)) + message_str(425, floater_patch_msg + 5000), 8);
+        float_msg(self_obj, mstr(floater_patch_msg) + message_str(SCRIPT_NEWR1, 500 + global_var(GVAR_NEW_RENO_PORN_STAR)) + mstr(floater_patch_msg + 5000), FLOAT_MSG_YELLOW);
     end
     else begin
-        float_msg(self_obj, message_str(425, floater_patch_msg), 8);
+        float_msg(self_obj, mstr(floater_patch_msg), FLOAT_MSG_YELLOW);
     end
 end
 
@@ -953,204 +953,204 @@ procedure Node005
 begin
     floater_patch_msg := random(245, 246);
     if ((floater_patch_msg == 232) or (floater_patch_msg == 225) or (floater_patch_msg == 246) or (floater_patch_msg == 252) or (floater_patch_msg == 256)) then begin
-        float_msg(self_obj, message_str(425, floater_patch_msg) + message_str(353, 300 + (global_var(230) % 100)) + message_str(425, floater_patch_msg + 5000), 8);
+        float_msg(self_obj, mstr(floater_patch_msg) + message_str(SCRIPT_NEWR1, 300 + (global_var(GVAR_NEW_RENO_MADE_MAN) % 100)) + mstr(floater_patch_msg + 5000), FLOAT_MSG_YELLOW);
     end
     else begin
-        float_msg(self_obj, message_str(425, floater_patch_msg), 8);
+        float_msg(self_obj, mstr(floater_patch_msg), FLOAT_MSG_YELLOW);
     end
 end
 
 procedure Node006
 begin
-    floater_patch_msg := random(252 - (2 * (get_critter_stat(dude_obj, 34) == 0)), 257 + (2 * (get_critter_stat(dude_obj, 34) == 1)));
+    floater_patch_msg := random(252 - (2 * (dude_gender == 0)), 257 + (2 * (dude_gender == 1)));
     if ((floater_patch_msg == 232) or (floater_patch_msg == 225) or (floater_patch_msg == 246) or (floater_patch_msg == 252) or (floater_patch_msg == 256)) then begin
-        float_msg(self_obj, message_str(425, floater_patch_msg) + message_str(353, 400 + global_var(231)) + message_str(425, floater_patch_msg + 5000), 8);
+        float_msg(self_obj, mstr(floater_patch_msg) + message_str(SCRIPT_NEWR1, 400 + global_var(GVAR_NEW_RENO_PRIZEFIGHTER)) + mstr(floater_patch_msg + 5000), FLOAT_MSG_YELLOW);
     end
     else begin
-        float_msg(self_obj, message_str(425, floater_patch_msg), 8);
+        float_msg(self_obj, mstr(floater_patch_msg), FLOAT_MSG_YELLOW);
     end
 end
 
 procedure Node008
 begin
-    float_msg(self_obj, message_str(425, random(270, 271)), 8);
+    float_msg(self_obj, mstr(random(270, 271)), FLOAT_MSG_YELLOW);
 end
 
 procedure Node009
 begin
-    float_msg(self_obj, message_str(425, random(275, 276)), 8);
+    float_msg(self_obj, mstr(random(275, 276)), FLOAT_MSG_YELLOW);
 end
 
 procedure Node010
 begin
-    float_msg(self_obj, message_str(425, random(280, 282)), 8);
+    float_msg(self_obj, mstr(random(280, 282)), FLOAT_MSG_YELLOW);
 end
 
 procedure Node011
 begin
-    float_msg(self_obj, message_str(425, random(290, 292)), 8);
+    float_msg(self_obj, mstr(random(290, 292)), FLOAT_MSG_YELLOW);
 end
 
 procedure Node012
 begin
-    float_msg(self_obj, message_str(425, random(300, 302)), 8);
+    float_msg(self_obj, mstr(random(300, 302)), FLOAT_MSG_YELLOW);
 end
 
 procedure Node013
 begin
-    float_msg(self_obj, message_str(425, random(310, 331)), 8);
+    float_msg(self_obj, mstr(random(310, 331)), FLOAT_MSG_YELLOW);
 end
 
 procedure Node014
 begin
-    gsay_reply(425, 345 + ((((local_var(4) bwand 4096) != 0) == 0) * 2) + (get_critter_stat(dude_obj, 3) < 8));
+    Reply(345 + ((((local_var(4) bwand 4096) != 0) == 0) * 2) + (dude_charisma < 8));
     set_local_var(4, local_var(4) bwor 4096);
-    giq_option(-3, 425, 349, Node990, 50);
-    giq_option(-3, 425, 350, Node990, 50);
-    giq_option(-3, 425, 351, Node999, 50);
-    giq_option(4, 425, 861, Node989, 50);
-    giq_option(4, 425, 353, Node989, 50);
+    giq_option(-3, NAME, 349, Node990, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 350, Node990, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 351, Node999, NEUTRAL_REACTION);
+    giq_option(4, NAME, 861, Node989, NEUTRAL_REACTION);
+    giq_option(4, NAME, 353, Node989, NEUTRAL_REACTION);
     if ((party_member_obj(16777380) != 0) or (party_member_obj(16777379) != 0)) then begin
-        giq_option(4, 425, 354, Node039, 50);
+        giq_option(4, NAME, 354, Node039, NEUTRAL_REACTION);
     end
-    giq_option(4, 425, 813, Node040, 50);
-    if (global_var(355) == 1) then begin
-        giq_option(4, 425, 356, Node057, 50);
+    giq_option(4, NAME, 813, Node040, NEUTRAL_REACTION);
+    if (global_var(GVAR_NEW_RENO_EXTORTION_BROS) == 1) then begin
+        giq_option(4, NAME, 356, Node057, NEUTRAL_REACTION);
     end
-    giq_option(4, 425, 357 + (get_critter_stat(dude_obj, 4) >= 8), Node999, 50);
+    giq_option(4, NAME, 357 + (dude_iq >= 8), Node999, NEUTRAL_REACTION);
 end
 
 procedure Node015
 begin
-    gsay_reply(425, 370);
-    giq_option(-3, 425, 371, Node016, 50);
-    giq_option(-3, 425, 372, Node988, 50);
-    giq_option(-3, 425, 351, Node999, 50);
+    Reply(370);
+    giq_option(-3, NAME, 371, Node016, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 372, Node988, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 351, Node999, NEUTRAL_REACTION);
     prev_node := 15;
 end
 
 procedure Node016
 begin
-    gsay_reply(425, 380);
-    giq_option(-3, 425, 381, Node017, 50);
+    Reply(380);
+    giq_option(-3, NAME, 381, Node017, NEUTRAL_REACTION);
     prev_node := 16;
 end
 
 procedure Node017
 begin
-    gsay_reply(425, 390);
-    giq_option(-3, 425, 391, Node988, 50);
-    giq_option(-3, 425, 351, Node999, 50);
+    Reply(390);
+    giq_option(-3, NAME, 391, Node988, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 351, Node999, NEUTRAL_REACTION);
     prev_node := 17;
 end
 
 procedure Node018
 begin
-    if (get_critter_stat(dude_obj, 34) == 0) then begin
-        gsay_reply(425, 400);
-        giq_option(-3, 425, 402, Node019, 50);
-        giq_option(-3, 425, 403, Node019, 50);
+    if (dude_gender == 0) then begin
+        Reply(400);
+        giq_option(-3, NAME, 402, Node019, NEUTRAL_REACTION);
+        giq_option(-3, NAME, 403, Node019, NEUTRAL_REACTION);
     end
     else begin
-        gsay_reply(425, 401);
-        giq_option(-3, 425, 404, Node019, 50);
-        giq_option(-3, 425, 405, Node019, 50);
+        Reply(401);
+        giq_option(-3, NAME, 404, Node019, NEUTRAL_REACTION);
+        giq_option(-3, NAME, 405, Node019, NEUTRAL_REACTION);
     end
-    giq_option(-3, 425, 351, Node999, 50);
+    giq_option(-3, NAME, 351, Node999, NEUTRAL_REACTION);
     prev_node := 18;
 end
 
 procedure Node019
 begin
     set_local_var(6, 1);
-    gsay_reply(425, 415 + (get_critter_stat(dude_obj, 34) == 1));
-    giq_option(-3, 425, 417, Node020, 50);
-    giq_option(-3, 425, 418, Node021, 50);
-    giq_option(-3, 425, 351, Node999, 50);
+    Reply(415 + (dude_gender == 1));
+    giq_option(-3, NAME, 417, Node020, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 418, Node021, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 351, Node999, NEUTRAL_REACTION);
     prev_node := 19;
 end
 
 procedure Node020
 begin
-    gsay_reply(425, message_str(425, 425) + message_str(425, 426 + (get_critter_stat(dude_obj, 34) == 1)));
-    giq_option(-3, 425, 428, Node022, 50);
-    giq_option(-3, 425, 429, Node022, 50);
-    giq_option(-3, 425, 351, Node999, 50);
+    Reply(mstr(425) + mstr(426 + (dude_gender == 1)));
+    giq_option(-3, NAME, 428, Node022, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 429, Node022, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 351, Node999, NEUTRAL_REACTION);
     prev_node := 20;
 end
 
 procedure Node021
 begin
-    gsay_reply(425, 435 + (get_critter_stat(dude_obj, 34) == 1));
-    giq_option(-3, 425, 428, Node022, 50);
-    giq_option(-3, 425, 429, Node022, 50);
-    giq_option(-3, 425, 351, Node999, 50);
+    Reply(435 + (dude_gender == 1));
+    giq_option(-3, NAME, 428, Node022, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 429, Node022, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 351, Node999, NEUTRAL_REACTION);
     prev_node := 21;
 end
 
 procedure Node022
 begin
-    gsay_reply(425, message_str(425, 445) + message_str(425, 446 + (get_critter_stat(dude_obj, 34) == 1)));
-    giq_option(-3, 425, 448, Node023, 50);
-    giq_option(-3, 425, 351, Node999, 50);
+    Reply(mstr(445) + mstr(446 + (dude_gender == 1)));
+    giq_option(-3, NAME, 448, Node023, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 351, Node999, NEUTRAL_REACTION);
     prev_node := 22;
 end
 
 procedure Node023
 begin
     set_local_var(6, 2);
-    gsay_reply(425, message_str(425, 455) + message_str(425, 456 + (get_critter_stat(dude_obj, 34) == 1)));
-    giq_option(1, 425, 458 + (get_critter_stat(dude_obj, 4) >= 4), Node987, 50);
+    Reply(mstr(455) + mstr(456 + (dude_gender == 1)));
+    giq_option(1, NAME, 458 + (dude_iq >= 4), Node987, NEUTRAL_REACTION);
     prev_node := 23;
 end
 
 procedure Node024
 begin
-    gsay_reply(425, 465 + (get_critter_stat(dude_obj, 34) == 1));
-    giq_option(-3, 425, 467, Node999, 50);
-    giq_option(-3, 425, 468, Node999, 50);
-    giq_option(4, 425, 469, Node999, 50);
-    giq_option(4, 425, 470, Node999, 50);
+    Reply(465 + (dude_gender == 1));
+    giq_option(-3, NAME, 467, Node999, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 468, Node999, NEUTRAL_REACTION);
+    giq_option(4, NAME, 469, Node999, NEUTRAL_REACTION);
+    giq_option(4, NAME, 470, Node999, NEUTRAL_REACTION);
     prev_node := 24;
 end
 
 procedure Node025
 begin
-    gsay_reply(425, 475 + (get_critter_stat(dude_obj, 34) == 1));
-    giq_option(-3, 425, 467, Node999, 50);
-    giq_option(-3, 425, 468, Node999, 50);
-    giq_option(4, 425, 479, Node999, 50);
-    giq_option(4, 425, 470, Node999, 50);
+    Reply(475 + (dude_gender == 1));
+    giq_option(-3, NAME, 467, Node999, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 468, Node999, NEUTRAL_REACTION);
+    giq_option(4, NAME, 479, Node999, NEUTRAL_REACTION);
+    giq_option(4, NAME, 470, Node999, NEUTRAL_REACTION);
     prev_node := 25;
 end
 
 procedure Node026
 begin
-    gsay_reply(425, 485 + (get_critter_stat(dude_obj, 34) == 1));
-    giq_option(-3, 425, 467, Node999, 50);
-    giq_option(-3, 425, 468, Node999, 50);
-    giq_option(4, 425, 489, Node999, 50);
-    giq_option(4, 425, 470, Node999, 50);
+    Reply(485 + (dude_gender == 1));
+    giq_option(-3, NAME, 467, Node999, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 468, Node999, NEUTRAL_REACTION);
+    giq_option(4, NAME, 489, Node999, NEUTRAL_REACTION);
+    giq_option(4, NAME, 470, Node999, NEUTRAL_REACTION);
     prev_node := 26;
 end
 
 procedure Node027
 begin
     set_local_var(6, 3);
-    gsay_reply(425, message_str(425, 495 + (get_critter_stat(dude_obj, 34) == 1)) + message_str(425, 497));
-    giq_option(-3, 425, 498, Node028, 50);
-    giq_option(-3, 425, 499, Node999, 51);
-    giq_option(4, 425, 500, Node028, 50);
-    if ((get_critter_stat(dude_obj, 4) >= 8) or (get_critter_stat(dude_obj, 3) >= 8) or (has_skill(dude_obj, 14) > 74)) then begin
-        giq_option(4, 425, 501, Node029, 51);
+    Reply(mstr(495 + (dude_gender == 1)) + mstr(497));
+    giq_option(-3, NAME, 498, Node028, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 499, Node999, BAD_REACTION);
+    giq_option(4, NAME, 500, Node028, NEUTRAL_REACTION);
+    if ((dude_iq >= 8) or (dude_charisma >= 8) or (dude_skill(SKILL_SPEECH) > 74)) then begin
+        giq_option(4, NAME, 501, Node029, BAD_REACTION);
     end
-    giq_option(4, 425, 503, Node999, 50);
+    giq_option(4, NAME, 503, Node999, NEUTRAL_REACTION);
 end
 
 procedure Node028
 begin
     if (local_var(6) == 3) then begin
-        if (get_critter_stat(dude_obj, 4) <= 3) then begin
+        if (dude_is_stupid) then begin
             set_local_var(6, 4);
         end
         else begin
@@ -1159,14 +1159,14 @@ begin
     end
     if (((local_var(4) bwand 32768) != 0) == 0) then begin
         var_num := 232;
-        top_msg := 500 + (50 * (get_critter_stat(dude_obj, 34) == 1)) + 1;
-        stored_msg := 515 + ((get_critter_stat(dude_obj, 4) <= 3) == 0);
+        top_msg := 500 + (50 * (dude_gender == 1)) + 1;
+        stored_msg := 515 + ((dude_is_stupid) == 0);
         stored_node := "Node986";
         call ChooseFromList();
     end
     else begin
         var_num := 232;
-        top_msg := 500 + (50 * (get_critter_stat(dude_obj, 34) == 1)) + 1;
+        top_msg := 500 + (50 * (dude_gender == 1)) + 1;
         stored_msg := 517;
         stored_node := "Node986";
         call ChooseFromList();
@@ -1175,142 +1175,142 @@ end
 
 procedure Node029
 begin
-    gsay_reply(425, 525);
-    giq_option(4, 425, 526, Node985, 50);
-    giq_option(4, 425, 527, Node999, 51);
-    giq_option(4, 425, message_str(425, 528) + obj_name(dude_obj) + message_str(425, 5528), Node999, 51);
+    Reply(525);
+    giq_option(4, NAME, 526, Node985, NEUTRAL_REACTION);
+    giq_option(4, NAME, 527, Node999, BAD_REACTION);
+    giq_option(4, NAME, mstr(528) + dude_name + mstr(5528), Node999, BAD_REACTION);
     prev_node := 29;
 end
 
 procedure Node030
 begin
-    gsay_reply(425, message_str(425, 535) + message_str(353, 500 + global_var(232)) + message_str(425, 5535) + message_str(353, 500 + global_var(232)) + message_str(425, 6535));
-    giq_option(-3, 425, 536, Node984, 50);
-    giq_option(4, 425, 537, Node984, 50);
+    Reply(mstr(535) + message_str(SCRIPT_NEWR1, 500 + global_var(GVAR_NEW_RENO_PORN_STAR)) + mstr(5535) + message_str(SCRIPT_NEWR1, 500 + global_var(GVAR_NEW_RENO_PORN_STAR)) + mstr(6535));
+    giq_option(-3, NAME, 536, Node984, NEUTRAL_REACTION);
+    giq_option(4, NAME, 537, Node984, NEUTRAL_REACTION);
     prev_node := 30;
 end
 
 procedure Node031
 begin
     set_local_var(4, local_var(4) bwor 32768);
-    gsay_reply(425, 545);
-    giq_option(1, 425, 546, Node028, 50);
-    giq_option(-3, 425, 547, Node033, 50);
-    giq_option(4, 425, 548, Node033, 50);
+    Reply(545);
+    giq_option(1, NAME, 546, Node028, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 547, Node033, NEUTRAL_REACTION);
+    giq_option(4, NAME, 548, Node033, NEUTRAL_REACTION);
     prev_node := 31;
 end
 
 procedure Node032
 begin
     set_local_var(4, local_var(4) bwor 32768);
-    gsay_reply(425, random(555, 556 + (get_critter_stat(dude_obj, 34) == 1)));
-    giq_option(-3, 425, 536, Node984, 50);
-    giq_option(4, 425, 537, Node984, 50);
+    Reply(random(555, 556 + (dude_gender == 1)));
+    giq_option(-3, NAME, 536, Node984, NEUTRAL_REACTION);
+    giq_option(4, NAME, 537, Node984, NEUTRAL_REACTION);
     prev_node := 32;
 end
 
 procedure Node033
 begin
-    gsay_reply(425, 565);
-    giq_option(-3, 425, 566, Node984, 50);
-    giq_option(4, 425, 567, Node984, 50);
+    Reply(565);
+    giq_option(-3, NAME, 566, Node984, NEUTRAL_REACTION);
+    giq_option(4, NAME, 567, Node984, NEUTRAL_REACTION);
     prev_node := 33;
 end
 
 procedure Node034
 begin
-    set_global_var(194, global_var(194) + (((((get_critter_stat(dude_obj, 3) * 50) + (get_critter_stat(dude_obj, 2) * 25) + (get_critter_stat(dude_obj, 5) * 13) + (get_critter_stat(dude_obj, 0) * 12)) / 100) + (has_trait(0, dude_obj, 94) * 2) + has_trait(2, dude_obj, 13) + (((global_var(194) >= 100) or (global_var(232) > 0)) * 2 * (dude_obj == dude_obj))) * 10));
-    if (global_var(358) >= 9) then begin
-        set_global_var(588, 1);
+    set_global_var(GVAR_PLAYER_SEX_LEVEL, global_var(194) + (((((dude_charisma * 50) + (dude_endurance * 25) + (get_critter_stat(dude_obj, STAT_ag) * 13) + (dude_strength * 12)) / 100) + (has_trait(TRAIT_PERK, dude_obj, PERK_kama_sutra_perk) * 2) + has_trait(2, dude_obj, 13) + (((global_var(GVAR_PLAYER_SEX_LEVEL) >= 100) or (global_var(GVAR_NEW_RENO_PORN_STAR) > 0)) * 2 * (dude_obj == dude_obj))) * 10));
+    if (global_var(GVAR_SEX_COUNTER) >= 9) then begin
+        set_global_var(GVAR_SEXPERT, 1);
     end
-    if (((((get_critter_stat(dude_obj, 3) * 50) + (get_critter_stat(dude_obj, 2) * 25) + (get_critter_stat(dude_obj, 5) * 13) + (get_critter_stat(dude_obj, 0) * 12)) / 100) + (has_trait(0, dude_obj, 94) * 2) + has_trait(2, dude_obj, 13) + (((global_var(194) >= 100) or (global_var(232) > 0)) * 2 * (dude_obj == dude_obj))) >= 9) then begin
-        set_global_var(589, 1);
+    if (((((dude_charisma * 50) + (dude_endurance * 25) + (get_critter_stat(dude_obj, STAT_ag) * 13) + (dude_strength * 12)) / 100) + (has_trait(TRAIT_PERK, dude_obj, PERK_kama_sutra_perk) * 2) + has_trait(2, dude_obj, 13) + (((global_var(GVAR_PLAYER_SEX_LEVEL) >= 100) or (global_var(GVAR_NEW_RENO_PORN_STAR) > 0)) * 2 * (dude_obj == dude_obj))) >= 9) then begin
+        set_global_var(GVAR_GIGALO, 1);
     end
-    set_global_var(358, global_var(358) + 10);
-    gsay_reply(425, 575 + (get_critter_stat(dude_obj, 34) == 1));
-    giq_option(1, 425, 577, Node999, 50);
+    set_global_var(GVAR_SEX_COUNTER, global_var(GVAR_SEX_COUNTER) + 10);
+    Reply(575 + (dude_gender == 1));
+    giq_option(1, NAME, 577, Node999, NEUTRAL_REACTION);
     prev_node := 34;
 end
 
 procedure Node035
 begin
-    the_msg := message_str(425, 587);
+    the_msg := mstr(587);
     if (local_var(5) <= game_time) then begin
         set_local_var(5, game_time + (30 * (24 * (60 * (60 * 10)))));
     end
-    if (get_critter_stat(dude_obj, 34) == 0) then begin
-        the_msg := message_str(425, 585) + the_msg + message_str(425, 588);
+    if (dude_gender == 0) then begin
+        the_msg := mstr(585) + the_msg + mstr(588);
     end
     else begin
-        the_msg := message_str(425, 586) + the_msg + message_str(425, 589);
+        the_msg := mstr(586) + the_msg + mstr(589);
     end
     if (local_var(6) == 6) then begin
         item_caps_adjust(dude_obj, 500);
-        the_msg := the_msg + (message_str(425, 590) + message_str(425, 592));
+        the_msg := the_msg + (mstr(590) + mstr(592));
     end
     else begin
         if (local_var(6) == 5) then begin
             item_caps_adjust(dude_obj, 200);
-            the_msg := the_msg + (message_str(425, 590) + message_str(425, 591));
+            the_msg := the_msg + (mstr(590) + mstr(591));
         end
     end
-    the_msg := the_msg + message_str(425, 593);
-    gsay_reply(425, the_msg);
-    giq_option(1, 425, 594, Node999, 50);
+    the_msg := the_msg + mstr(593);
+    Reply(the_msg);
+    giq_option(1, NAME, 594, Node999, NEUTRAL_REACTION);
     prev_node := 35;
 end
 
 procedure Node036
 begin
-    gsay_reply(425, 610);
-    giq_option(4, 425, 813, Node040, 50);
-    giq_option(4, 425, 612, Node038, 50);
-    giq_option(4, 425, 613, Node999, 50);
+    Reply(610);
+    giq_option(4, NAME, 813, Node040, NEUTRAL_REACTION);
+    giq_option(4, NAME, 612, Node038, NEUTRAL_REACTION);
+    giq_option(4, NAME, 613, Node999, NEUTRAL_REACTION);
     prev_node := 36;
 end
 
 procedure Node037
 begin
-    gsay_reply(425, 620 + (get_critter_stat(dude_obj, 34) == 1));
-    giq_option(4, 425, 622, Node040, 50);
-    giq_option(4, 425, 623, Node044, 50);
-    giq_option(4, 425, 613, Node999, 50);
+    Reply(620 + (dude_gender == 1));
+    giq_option(4, NAME, 622, Node040, NEUTRAL_REACTION);
+    giq_option(4, NAME, 623, Node044, NEUTRAL_REACTION);
+    giq_option(4, NAME, 613, Node999, NEUTRAL_REACTION);
     prev_node := 37;
 end
 
 procedure Node038
 begin
-    gsay_reply(425, 630);
-    giq_option(4, 425, 631, Node983, 50);
-    giq_option(4, 425, 632, Node999, 50);
+    Reply(630);
+    giq_option(4, NAME, 631, Node983, NEUTRAL_REACTION);
+    giq_option(4, NAME, 632, Node999, NEUTRAL_REACTION);
     prev_node := 38;
 end
 
 procedure Node039
 begin
-    gsay_reply(425, 640);
+    Reply(640);
     if (party_member_obj(16777379) != 0) then begin
-        giq_option(4, 425, message_str(425, 641) + obj_name(dude_obj) + message_str(425, 5641), Node982, 50);
+        giq_option(4, NAME, mstr(641) + dude_name + mstr(5641), Node982, NEUTRAL_REACTION);
     end
     else begin
-        giq_option(4, 425, 642, Node982, 50);
+        giq_option(4, NAME, 642, Node982, NEUTRAL_REACTION);
     end
-    giq_option(4, 425, 632, Node999, 50);
+    giq_option(4, NAME, 632, Node999, NEUTRAL_REACTION);
     prev_node := 39;
 end
 
 procedure Node040
 begin
-    if (global_var(232) > 0) then begin
-        gsay_reply(425, 650);
-        giq_option(7, 425, 655, Node041, 50);
-        giq_option(4, 425, 658, Node999, 50);
+    if (global_var(GVAR_NEW_RENO_PORN_STAR) > 0) then begin
+        Reply(650);
+        giq_option(7, NAME, 655, Node041, NEUTRAL_REACTION);
+        giq_option(4, NAME, 658, Node999, NEUTRAL_REACTION);
     end
     else begin
-        gsay_reply(425, 651 + (get_critter_stat(dude_obj, 34) == 1) + (2 * (get_critter_stat(dude_obj, 3) < 8)));
-        giq_option(7, 425, 655, Node041, 50);
-        giq_option(4, 425, 623, Node981, 50);
-        giq_option(4, 425, 657, Node999, 50);
+        Reply(651 + (dude_gender == 1) + (2 * (dude_charisma < 8)));
+        giq_option(7, NAME, 655, Node041, NEUTRAL_REACTION);
+        giq_option(4, NAME, 623, Node981, NEUTRAL_REACTION);
+        giq_option(4, NAME, 657, Node999, NEUTRAL_REACTION);
     end
     prev_node := 40;
 end
@@ -1318,289 +1318,289 @@ end
 procedure Node041
 begin
     set_local_var(4, local_var(4) bwor 8192);
-    gsay_reply(425, 670);
-    if ((global_var(232) > 0) == 0) then begin
-        giq_option(4, 425, 672, Node981, 50);
+    Reply(670);
+    if ((global_var(GVAR_NEW_RENO_PORN_STAR) > 0) == 0) then begin
+        giq_option(4, NAME, 672, Node981, NEUTRAL_REACTION);
     end
-    giq_option(4, 425, 673, Node999, 50);
+    giq_option(4, NAME, 673, Node999, NEUTRAL_REACTION);
     prev_node := 41;
 end
 
 procedure Node042
 begin
-    gsay_reply(425, 680);
-    giq_option(4, 425, 681, Node043, 50);
-    if ((global_var(232) > 0) == 0) then begin
-        giq_option(4, 425, 672, Node981, 50);
+    Reply(680);
+    giq_option(4, NAME, 681, Node043, NEUTRAL_REACTION);
+    if ((global_var(GVAR_NEW_RENO_PORN_STAR) > 0) == 0) then begin
+        giq_option(4, NAME, 672, Node981, NEUTRAL_REACTION);
     end
-    giq_option(4, 425, 683, Node999, 50);
+    giq_option(4, NAME, 683, Node999, NEUTRAL_REACTION);
     prev_node := 42;
 end
 
 procedure Node043
 begin
-    gsay_reply(425, 690);
-    if ((global_var(232) > 0) == 0) then begin
-        giq_option(4, 425, 672, Node981, 50);
+    Reply(690);
+    if ((global_var(GVAR_NEW_RENO_PORN_STAR) > 0) == 0) then begin
+        giq_option(4, NAME, 672, Node981, NEUTRAL_REACTION);
     end
-    giq_option(4, 425, 692, Node999, 50);
+    giq_option(4, NAME, 692, Node999, NEUTRAL_REACTION);
     prev_node := 43;
 end
 
 procedure Node044
 begin
-    gsay_reply(425, 700 + (get_critter_stat(dude_obj, 34) == 1));
-    giq_option(4, 425, 702, Node023, 50);
-    giq_option(4, 425, 703, Node999, 50);
+    Reply(700 + (dude_gender == 1));
+    giq_option(4, NAME, 702, Node023, NEUTRAL_REACTION);
+    giq_option(4, NAME, 703, Node999, NEUTRAL_REACTION);
     prev_node := 44;
 end
 
 procedure Node045
 begin
     set_local_var(4, local_var(4) bwor 1024);
-    gsay_reply(425, 710);
-    giq_option(-3, 425, 711, Node999, 51);
-    giq_option(4, 425, message_str(425, 712) + obj_name(dude_obj) + message_str(425, 5712), Node999, 51);
+    Reply(710);
+    giq_option(-3, NAME, 711, Node999, BAD_REACTION);
+    giq_option(4, NAME, mstr(712) + dude_name + mstr(5712), Node999, BAD_REACTION);
     prev_node := 45;
 end
 
 procedure Node046
 begin
-    float_msg(self_obj, message_str(425, random(720, 721)), 8 + ((2 - 8) * has_trait(0, dude_obj, 22)));
+    float_msg(self_obj, mstr(random(720, 721)), 8 + ((2 - 8) * has_trait(TRAIT_PERK, dude_obj, PERK_empathy)));
 end
 
 procedure Node047
 begin
-    if (get_critter_stat(dude_obj, 34) == 0) then begin
-        gsay_reply(425, message_str(425, 730) + message_str(353, 500 + global_var(232)) + message_str(425, 5730));
+    if (dude_gender == 0) then begin
+        Reply(mstr(730) + message_str(SCRIPT_NEWR1, 500 + global_var(GVAR_NEW_RENO_PORN_STAR)) + mstr(5730));
     end
     else begin
-        gsay_reply(425, message_str(425, 730) + message_str(353, 500 + global_var(232)) + message_str(425, 5730) + message_str(425, 735));
+        Reply(mstr(730) + message_str(SCRIPT_NEWR1, 500 + global_var(GVAR_NEW_RENO_PORN_STAR)) + mstr(5730) + mstr(735));
     end
-    giq_option(-3, 425, 351, Node999, 50);
-    giq_option(4, 425, 732, Node040, 50);
-    if (global_var(355) == 1) then begin
-        giq_option(4, 425, 733, Node057, 50);
+    giq_option(-3, NAME, 351, Node999, NEUTRAL_REACTION);
+    giq_option(4, NAME, 732, Node040, NEUTRAL_REACTION);
+    if (global_var(GVAR_NEW_RENO_EXTORTION_BROS) == 1) then begin
+        giq_option(4, NAME, 733, Node057, NEUTRAL_REACTION);
     end
-    giq_option(4, 425, 734, Node999, 50);
+    giq_option(4, NAME, 734, Node999, NEUTRAL_REACTION);
     prev_node := 47;
 end
 
 procedure Node048
 begin
-    gsay_reply(425, message_str(425, 740) + message_str(353, 500 + global_var(232)) + message_str(425, 5740));
-    giq_option(-3, 425, 428, Node980, 50);
-    giq_option(-3, 425, 351, Node049, 50);
-    giq_option(4, 425, 743, Node980, 50);
-    giq_option(4, 425, 732, Node040, 50);
-    if (global_var(355) == 1) then begin
-        giq_option(4, 425, 745, Node057, 50);
+    Reply(mstr(740) + message_str(SCRIPT_NEWR1, 500 + global_var(GVAR_NEW_RENO_PORN_STAR)) + mstr(5740));
+    giq_option(-3, NAME, 428, Node980, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 351, Node049, NEUTRAL_REACTION);
+    giq_option(4, NAME, 743, Node980, NEUTRAL_REACTION);
+    giq_option(4, NAME, 732, Node040, NEUTRAL_REACTION);
+    if (global_var(GVAR_NEW_RENO_EXTORTION_BROS) == 1) then begin
+        giq_option(4, NAME, 745, Node057, NEUTRAL_REACTION);
     end
-    giq_option(4, 425, 746, Node049, 50);
+    giq_option(4, NAME, 746, Node049, NEUTRAL_REACTION);
     prev_node := 48;
 end
 
 procedure Node049
 begin
-    gsay_reply(425, message_str(425, 755) + obj_name(dude_obj) + message_str(425, 5755));
-    giq_option(-3, 425, 756, Node999, 50);
-    giq_option(-3, 425, 758, Node045, 51);
-    giq_option(4, 425, 759, Node999, 50);
-    giq_option(4, 425, 760, Node045, 51);
+    Reply(mstr(755) + dude_name + mstr(5755));
+    giq_option(-3, NAME, 756, Node999, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 758, Node045, BAD_REACTION);
+    giq_option(4, NAME, 759, Node999, NEUTRAL_REACTION);
+    giq_option(4, NAME, 760, Node045, BAD_REACTION);
     prev_node := 49;
 end
 
 procedure Node050
 begin
-    gsay_reply(425, 765);
-    giq_option(-3, 425, 766, Node045, 51);
-    giq_option(-3, 425, 351, Node999, 50);
-    giq_option(4, 425, 768 + (get_critter_stat(dude_obj, 34) == 1), Node045, 51);
-    giq_option(4, 425, 770, Node999, 50);
+    Reply(765);
+    giq_option(-3, NAME, 766, Node045, BAD_REACTION);
+    giq_option(-3, NAME, 351, Node999, NEUTRAL_REACTION);
+    giq_option(4, NAME, 768 + (dude_gender == 1), Node045, BAD_REACTION);
+    giq_option(4, NAME, 770, Node999, NEUTRAL_REACTION);
     prev_node := 50;
 end
 
 procedure Node051
 begin
-    gsay_reply(425, message_str(425, 780) + message_str(353, 400 + global_var(231)) + message_str(425, 5780));
-    giq_option(-3, 425, 781, Node018, 50);
-    giq_option(-3, 425, 782, Node999, 50);
-    giq_option(4, 425, 783 + ((local_var(4) bwand 4096) != 0), Node052, 50);
-    giq_option(4, 425, 785 + (get_critter_stat(dude_obj, 34) == 1), Node053, 50);
-    if (global_var(355) == 1) then begin
-        giq_option(4, 425, 787, Node057, 50);
+    Reply(mstr(780) + message_str(SCRIPT_NEWR1, 400 + global_var(GVAR_NEW_RENO_PRIZEFIGHTER)) + mstr(5780));
+    giq_option(-3, NAME, 781, Node018, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 782, Node999, NEUTRAL_REACTION);
+    giq_option(4, NAME, 783 + ((local_var(4) bwand 4096) != 0), Node052, NEUTRAL_REACTION);
+    giq_option(4, NAME, 785 + (dude_gender == 1), Node053, NEUTRAL_REACTION);
+    if (global_var(GVAR_NEW_RENO_EXTORTION_BROS) == 1) then begin
+        giq_option(4, NAME, 787, Node057, NEUTRAL_REACTION);
     end
-    giq_option(4, 425, 788, Node999, 50);
+    giq_option(4, NAME, 788, Node999, NEUTRAL_REACTION);
     prev_node := 51;
 end
 
 procedure Node052
 begin
     set_local_var(4, local_var(4) bwor 4096);
-    gsay_reply(425, 795);
-    giq_option(7, 425, 655, Node041, 50);
-    giq_option(4, 425, 797, Node053, 50);
-    if (global_var(355) == 1) then begin
-        giq_option(4, 425, 787, Node057, 50);
+    Reply(795);
+    giq_option(7, NAME, 655, Node041, NEUTRAL_REACTION);
+    giq_option(4, NAME, 797, Node053, NEUTRAL_REACTION);
+    if (global_var(GVAR_NEW_RENO_EXTORTION_BROS) == 1) then begin
+        giq_option(4, NAME, 787, Node057, NEUTRAL_REACTION);
     end
-    giq_option(4, 425, 799, Node999, 50);
+    giq_option(4, NAME, 799, Node999, NEUTRAL_REACTION);
     prev_node := 52;
 end
 
 procedure Node053
 begin
-    gsay_reply(425, 805);
-    giq_option(1, 425, 806, Node987, 50);
+    Reply(805);
+    giq_option(1, NAME, 806, Node987, NEUTRAL_REACTION);
     prev_node := 53;
 end
 
 procedure Node054
 begin
-    gsay_reply(425, message_str(425, 810) + message_str(353, 300 + (global_var(230) % 100)) + message_str(425, 5810) + message_str(353, 200 + (global_var(230) / 100)) + message_str(425, 6810));
-    giq_option(-3, 425, 781, Node018, 50);
-    giq_option(-3, 425, 812, Node999, 50);
-    giq_option(4, 425, 813 + ((local_var(4) bwand 4096) != 0), Node055, 50);
-    giq_option(4, 425, 815 + (get_critter_stat(dude_obj, 34) == 1), Node056, 50);
-    if (global_var(355) == 1) then begin
-        giq_option(4, 425, 787, Node057, 50);
+    Reply(mstr(810) + message_str(SCRIPT_NEWR1, 300 + (global_var(GVAR_NEW_RENO_MADE_MAN) % 100)) + mstr(5810) + message_str(SCRIPT_NEWR1, 200 + (global_var(GVAR_NEW_RENO_MADE_MAN) / 100)) + mstr(6810));
+    giq_option(-3, NAME, 781, Node018, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 812, Node999, NEUTRAL_REACTION);
+    giq_option(4, NAME, 813 + ((local_var(4) bwand 4096) != 0), Node055, NEUTRAL_REACTION);
+    giq_option(4, NAME, 815 + (dude_gender == 1), Node056, NEUTRAL_REACTION);
+    if (global_var(GVAR_NEW_RENO_EXTORTION_BROS) == 1) then begin
+        giq_option(4, NAME, 787, Node057, NEUTRAL_REACTION);
     end
-    giq_option(4, 425, 788, Node999, 50);
+    giq_option(4, NAME, 788, Node999, NEUTRAL_REACTION);
     prev_node := 54;
 end
 
 procedure Node055
 begin
     set_local_var(4, local_var(4) bwor 4096);
-    gsay_reply(425, 825);
-    giq_option(7, 425, 655, Node041, 50);
-    giq_option(4, 425, 827, Node056, 50);
-    if (global_var(355) == 1) then begin
-        giq_option(4, 425, 787, Node057, 50);
+    Reply(825);
+    giq_option(7, NAME, 655, Node041, NEUTRAL_REACTION);
+    giq_option(4, NAME, 827, Node056, NEUTRAL_REACTION);
+    if (global_var(GVAR_NEW_RENO_EXTORTION_BROS) == 1) then begin
+        giq_option(4, NAME, 787, Node057, NEUTRAL_REACTION);
     end
-    giq_option(4, 425, 829, Node999, 50);
+    giq_option(4, NAME, 829, Node999, NEUTRAL_REACTION);
     prev_node := 55;
 end
 
 procedure Node056
 begin
-    gsay_reply(425, 835);
-    giq_option(4, 425, 836, Node987, 50);
+    Reply(835);
+    giq_option(4, NAME, 836, Node987, NEUTRAL_REACTION);
     prev_node := 56;
 end
 
 procedure Node057
 begin
     item_caps_adjust(dude_obj, 250);
-    if ((2 == 3) and (global_var(355) == 0)) then begin
+    if ((2 == 3) and (global_var(GVAR_NEW_RENO_EXTORTION_BROS) == 0)) then begin
     end
     else begin
-        set_global_var(355, 2);
+        set_global_var(GVAR_NEW_RENO_EXTORTION_BROS, 2);
     end
-    gsay_reply(425, 845 + (((global_var(232) > 0) == 0) and ((global_var(259) > 0) == 0) and ((global_var(230) > 0) == 0)));
-    giq_option(4, 425, 847, Node055, 50);
-    giq_option(4, 425, 848, Node999, 50);
+    Reply(845 + (((global_var(GVAR_NEW_RENO_PORN_STAR) > 0) == 0) and ((global_var(GVAR_NEW_RENO_HAS_REP_PRIZEFIGHTER) > 0) == 0) and ((global_var(GVAR_NEW_RENO_MADE_MAN) > 0) == 0)));
+    giq_option(4, NAME, 847, Node055, NEUTRAL_REACTION);
+    giq_option(4, NAME, 848, Node999, NEUTRAL_REACTION);
     prev_node := 57;
 end
 
 procedure Node058
 begin
-    if (get_critter_stat(dude_obj, 3) < 8) then begin
-        gsay_reply(425, 855 + (get_critter_stat(dude_obj, 34) == 1));
+    if (dude_charisma < 8) then begin
+        Reply(855 + (dude_gender == 1));
     end
     else begin
-        gsay_reply(425, 857);
+        Reply(857);
     end
-    giq_option(-3, 425, 349, Node990, 50);
-    giq_option(-3, 425, 350, Node990, 50);
-    giq_option(-3, 425, 351, Node999, 50);
-    if ((global_var(345) bwand 134217728) != 0) then begin
-        giq_option(4, 425, 862, Node989, 50);
+    giq_option(-3, NAME, 349, Node990, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 350, Node990, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 351, Node999, NEUTRAL_REACTION);
+    if ((global_var(GVAR_NEW_RENO_FLAG_2) bwand 134217728) != 0) then begin
+        giq_option(4, NAME, 862, Node989, NEUTRAL_REACTION);
     end
     if ((party_member_obj(16777380) != 0) or (party_member_obj(16777379) != 0)) then begin
-        giq_option(4, 425, 354, Node039, 50);
+        giq_option(4, NAME, 354, Node039, NEUTRAL_REACTION);
     end
-    giq_option(4, 425, 813, Node040, 50);
-    if (global_var(355) == 1) then begin
-        giq_option(4, 425, 787, Node057, 50);
+    giq_option(4, NAME, 813, Node040, NEUTRAL_REACTION);
+    if (global_var(GVAR_NEW_RENO_EXTORTION_BROS) == 1) then begin
+        giq_option(4, NAME, 787, Node057, NEUTRAL_REACTION);
     end
-    giq_option(4, 425, 357, Node999, 50);
+    giq_option(4, NAME, 357, Node999, NEUTRAL_REACTION);
     prev_node := 58;
 end
 
 procedure Node059
 begin
     if (local_var(6) == 1) then begin
-        gsay_reply(425, 875);
+        Reply(875);
     end
     else begin
         if (local_var(6) == 2) then begin
-            gsay_reply(425, 876);
+            Reply(876);
         end
         else begin
-            gsay_reply(425, 877);
+            Reply(877);
         end
     end
-    giq_option(-3, 425, 448, Node023, 50);
-    giq_option(-3, 425, 879, Node023, 50);
-    giq_option(-3, 425, 351, Node999, 50);
-    giq_option(4, 425, 881 + (get_critter_stat(dude_obj, 34) == 1), Node023, 50);
-    giq_option(4, 425, 813, Node040, 50);
-    if (global_var(355) == 1) then begin
-        giq_option(4, 425, 787, Node057, 50);
+    giq_option(-3, NAME, 448, Node023, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 879, Node023, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 351, Node999, NEUTRAL_REACTION);
+    giq_option(4, NAME, 881 + (dude_gender == 1), Node023, NEUTRAL_REACTION);
+    giq_option(4, NAME, 813, Node040, NEUTRAL_REACTION);
+    if (global_var(GVAR_NEW_RENO_EXTORTION_BROS) == 1) then begin
+        giq_option(4, NAME, 787, Node057, NEUTRAL_REACTION);
     end
-    giq_option(4, 425, 357, Node999, 50);
+    giq_option(4, NAME, 357, Node999, NEUTRAL_REACTION);
     prev_node := 59;
 end
 
 procedure Node060
 begin
-    gsay_reply(425, obj_name(dude_obj) + message_str(425, 895));
-    giq_option(-3, 425, 896, Node061, 50);
-    giq_option(-3, 425, 897, Node061, 50);
-    giq_option(-3, 425, 351, Node999, 50);
-    giq_option(4, 425, 899, Node061, 50);
-    giq_option(4, 425, 900, Node999, 50);
+    Reply(dude_name + mstr(895));
+    giq_option(-3, NAME, 896, Node061, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 897, Node061, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 351, Node999, NEUTRAL_REACTION);
+    giq_option(4, NAME, 899, Node061, NEUTRAL_REACTION);
+    giq_option(4, NAME, 900, Node999, NEUTRAL_REACTION);
     prev_node := 60;
 end
 
 procedure Node061
 begin
-    gsay_reply(425, 910);
-    giq_option(-3, 425, 911, Node062, 50);
-    giq_option(-3, 425, 897, Node062, 50);
-    giq_option(-3, 425, 351, Node999, 50);
-    giq_option(4, 425, 914, Node062, 50);
-    giq_option(4, 425, 915, Node999, 50);
+    Reply(910);
+    giq_option(-3, NAME, 911, Node062, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 897, Node062, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 351, Node999, NEUTRAL_REACTION);
+    giq_option(4, NAME, 914, Node062, NEUTRAL_REACTION);
+    giq_option(4, NAME, 915, Node999, NEUTRAL_REACTION);
     prev_node := 61;
 end
 
 procedure Node062
 begin
     if ((local_var(4) bwand 2048) != 0) then begin
-        gsay_reply(425, message_str(425, 921) + obj_name(dude_obj) + message_str(425, 5921));
-        giq_option(-3, 425, 924, Node999, 50);
-        giq_option(4, 425, 927, Node999, 50);
+        Reply(mstr(921) + dude_name + mstr(5921));
+        giq_option(-3, NAME, 924, Node999, NEUTRAL_REACTION);
+        giq_option(4, NAME, 927, Node999, NEUTRAL_REACTION);
     end
     else begin
-        gsay_reply(425, message_str(425, 920) + obj_name(dude_obj) + message_str(425, 5920));
-        giq_option(-3, 425, 922, Node977, 50);
-        giq_option(-3, 425, 897, Node977, 50);
-        giq_option(4, 425, 926, Node977, 50);
-        giq_option(4, 425, 928, Node999, 50);
+        Reply(mstr(920) + dude_name + mstr(5920));
+        giq_option(-3, NAME, 922, Node977, NEUTRAL_REACTION);
+        giq_option(-3, NAME, 897, Node977, NEUTRAL_REACTION);
+        giq_option(4, NAME, 926, Node977, NEUTRAL_REACTION);
+        giq_option(4, NAME, 928, Node999, NEUTRAL_REACTION);
     end
-    giq_option(-3, 425, 351, Node999, 50);
+    giq_option(-3, NAME, 351, Node999, NEUTRAL_REACTION);
     prev_node := 62;
 end
 
 procedure Node063
 begin
-    float_msg(self_obj, message_str(425, random(935, 938)), 8 + ((2 - 8) * has_trait(0, dude_obj, 22)));
+    float_msg(self_obj, mstr(random(935, 938)), 8 + ((2 - 8) * has_trait(TRAIT_PERK, dude_obj, PERK_empathy)));
     prev_node := 63;
 end
 
 procedure Node990
 begin
-    if (get_critter_stat(dude_obj, 3) < 8) then begin
+    if (dude_charisma < 8) then begin
         call Node015();
     end
     else begin
@@ -1610,7 +1610,7 @@ end
 
 procedure Node989
 begin
-    if (get_critter_stat(dude_obj, 3) < 8) then begin
+    if (dude_charisma < 8) then begin
         call Node038();
     end
     else begin
@@ -1624,7 +1624,7 @@ begin
         gfade_out(5);
     end
     set_local_var(4, local_var(4) bwor 131072);
-    fluf_time := (((get_critter_stat(dude_obj, 3) * 50) + (get_critter_stat(dude_obj, 2) * 25) + (get_critter_stat(dude_obj, 5) * 13) + (get_critter_stat(dude_obj, 0) * 12)) / 100) + (has_trait(0, dude_obj, 94) * 2) + has_trait(2, dude_obj, 13) + (((global_var(194) >= 100) or (global_var(232) > 0)) * 2 * (dude_obj == dude_obj));
+    fluf_time := (((dude_charisma * 50) + (dude_endurance * 25) + (get_critter_stat(dude_obj, STAT_ag) * 13) + (dude_strength * 12)) / 100) + (has_trait(TRAIT_PERK, dude_obj, PERK_kama_sutra_perk) * 2) + has_trait(2, dude_obj, 13) + (((global_var(GVAR_PLAYER_SEX_LEVEL) >= 100) or (global_var(GVAR_NEW_RENO_PORN_STAR) > 0)) * 2 * (dude_obj == dude_obj));
     game_time_advance((11 - (fluf_time - (fluf_time % 10))) * (60 * 10));
     poison(dude_obj, random(2, 4));
     if (3 > 0) then begin
@@ -1638,14 +1638,14 @@ begin
     end
     set_local_var(4, local_var(4) bwand (-1 - 131072));
     if (dude_obj == dude_obj) then begin
-        set_global_var(345, global_var(345) bwor 134217728);
+        set_global_var(GVAR_NEW_RENO_FLAG_2, global_var(GVAR_NEW_RENO_FLAG_2) bwor 134217728);
         if (1000 != 0) then begin
-            float_msg(dude_obj, message_str(425, 1000), 3);
+            float_msg(dude_obj, mstr(1000), FLOAT_MSG_GREEN);
         end
     end
     else begin
         if (1000 != 0) then begin
-            float_msg(dude_obj, 1000, 8 + ((3 - 8) * has_trait(0, dude_obj, 22)));
+            float_msg(dude_obj, 1000, 8 + ((3 - 8) * has_trait(TRAIT_PERK, dude_obj, PERK_empathy)));
         end
     end
 end
@@ -1657,19 +1657,19 @@ begin
         gfade_out(5);
     end
     set_local_var(4, local_var(4) bwor 131072);
-    set_global_var(345, global_var(345) bwor 268435456);
+    set_global_var(GVAR_NEW_RENO_FLAG_2, global_var(GVAR_NEW_RENO_FLAG_2) bwor 268435456);
     last_timed_obj := self_obj;
     last_timed_param := last_timed_param;
-    metarule3(100, self_obj, 500, 0);
+    rm_fixed_timer_event(self_obj, 500);
     add_timer_event(self_obj, game_ticks(3), 500);
 end
 
 procedure Node986
 begin
-    display_msg(message_str(425, 1250));
+    display_mstr(1250);
     give_exp_points(1500);
-    display_msg(message_str(14, 100) + 1500 + message_str(14, 101));
-    set_global_var(55, global_var(55) + 1);
+    display_msg(g_mstr(100) + 1500 + g_mstr(101));
+    set_global_var(GVAR_TOWN_REP_NEW_RENO, global_var(GVAR_TOWN_REP_NEW_RENO) + 1);
     if (0) then begin
         call Node031();
     end
@@ -1700,7 +1700,7 @@ begin
         gfade_out(5);
     end
     set_local_var(4, local_var(4) bwor 131072);
-    fluf_time := (((get_critter_stat(dude_obj, 3) * 50) + (get_critter_stat(dude_obj, 2) * 25) + (get_critter_stat(dude_obj, 5) * 13) + (get_critter_stat(dude_obj, 0) * 12)) / 100) + (has_trait(0, dude_obj, 94) * 2) + has_trait(2, dude_obj, 13) + (((global_var(194) >= 100) or (global_var(232) > 0)) * 2 * (dude_obj == dude_obj));
+    fluf_time := (((dude_charisma * 50) + (dude_endurance * 25) + (get_critter_stat(dude_obj, STAT_ag) * 13) + (dude_strength * 12)) / 100) + (has_trait(TRAIT_PERK, dude_obj, PERK_kama_sutra_perk) * 2) + has_trait(2, dude_obj, 13) + (((global_var(GVAR_PLAYER_SEX_LEVEL) >= 100) or (global_var(GVAR_NEW_RENO_PORN_STAR) > 0)) * 2 * (dude_obj == dude_obj));
     game_time_advance((11 - (fluf_time - (fluf_time % 10))) * (60 * 10));
     poison(dude_obj, random(2, 4));
     if (5 > 0) then begin
@@ -1714,66 +1714,66 @@ begin
     end
     set_local_var(4, local_var(4) bwand (-1 - 131072));
     if (dude_obj == dude_obj) then begin
-        set_global_var(345, global_var(345) bwor 134217728);
+        set_global_var(GVAR_NEW_RENO_FLAG_2, global_var(GVAR_NEW_RENO_FLAG_2) bwor 134217728);
         if (1100 != 0) then begin
-            float_msg(dude_obj, message_str(425, 1100), 3);
+            float_msg(dude_obj, mstr(1100), FLOAT_MSG_GREEN);
         end
     end
     else begin
         if (1100 != 0) then begin
-            float_msg(dude_obj, 1100, 8 + ((3 - 8) * has_trait(0, dude_obj, 22)));
+            float_msg(dude_obj, 1100, 8 + ((3 - 8) * has_trait(TRAIT_PERK, dude_obj, PERK_empathy)));
         end
     end
-    display_msg(message_str(425, 1101));
+    display_mstr(1101);
 end
 
 procedure Node982
 begin
     if (((local_var(4) bwand 262144) != 0) == 0) then begin
-        set_global_var(0, global_var(0) + -5);
+        set_global_var(GVAR_PLAYER_REPUTATION, global_var(GVAR_PLAYER_REPUTATION) + -5);
         debug_msg("Player gains " + -5 + " Karma Points.");
-        set_global_var(37, 0);
-        set_global_var(38, 0);
-        set_global_var(39, 0);
-        set_global_var(40, 0);
-        set_global_var(41, 0);
-        set_global_var(42, 0);
-        set_global_var(43, 0);
-        set_global_var(44, 0);
-        set_global_var(45, 0);
-        if (global_var(0) >= 1000) then begin
-            set_global_var(37, 1);
+        set_global_var(GVAR_KARMA_HOLY_WARRIOR, 0);
+        set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 0);
+        set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 0);
+        set_global_var(GVAR_KARMA_DEFENDER, 0);
+        set_global_var(GVAR_KARMA_WANDERER, 0);
+        set_global_var(GVAR_KARMA_BETRAYER, 0);
+        set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 0);
+        set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 0);
+        set_global_var(GVAR_KARMA_DEMON_SPAWN, 0);
+        if (global_var(GVAR_PLAYER_REPUTATION) >= 1000) then begin
+            set_global_var(GVAR_KARMA_HOLY_WARRIOR, 1);
         end
         else begin
-            if (global_var(0) >= 750) then begin
-                set_global_var(38, 1);
+            if (global_var(GVAR_PLAYER_REPUTATION) >= 750) then begin
+                set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 1);
             end
             else begin
-                if (global_var(0) >= 500) then begin
-                    set_global_var(39, 1);
+                if (global_var(GVAR_PLAYER_REPUTATION) >= 500) then begin
+                    set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 1);
                 end
                 else begin
-                    if (global_var(0) >= 250) then begin
-                        set_global_var(40, 1);
+                    if (global_var(GVAR_PLAYER_REPUTATION) >= 250) then begin
+                        set_global_var(GVAR_KARMA_DEFENDER, 1);
                     end
                     else begin
-                        if (global_var(0) > -250) then begin
-                            set_global_var(41, 1);
+                        if (global_var(GVAR_PLAYER_REPUTATION) > -250) then begin
+                            set_global_var(GVAR_KARMA_WANDERER, 1);
                         end
                         else begin
-                            if (global_var(0) > -500) then begin
-                                set_global_var(42, 1);
+                            if (global_var(GVAR_PLAYER_REPUTATION) > -500) then begin
+                                set_global_var(GVAR_KARMA_BETRAYER, 1);
                             end
                             else begin
-                                if (global_var(0) > -750) then begin
-                                    set_global_var(43, 1);
+                                if (global_var(GVAR_PLAYER_REPUTATION) > -750) then begin
+                                    set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 1);
                                 end
                                 else begin
-                                    if (global_var(0) > -1000) then begin
-                                        set_global_var(44, 1);
+                                    if (global_var(GVAR_PLAYER_REPUTATION) > -1000) then begin
+                                        set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 1);
                                     end
                                     else begin
-                                        set_global_var(45, 1);
+                                        set_global_var(GVAR_KARMA_DEMON_SPAWN, 1);
                                     end
                                 end
                             end
@@ -1789,7 +1789,7 @@ begin
             gfade_out(5);
         end
         set_local_var(4, local_var(4) bwor 131072);
-        fluf_time := (((get_critter_stat(party_member_obj(16777379), 3) * 50) + (get_critter_stat(party_member_obj(16777379), 2) * 25) + (get_critter_stat(party_member_obj(16777379), 5) * 13) + (get_critter_stat(party_member_obj(16777379), 0) * 12)) / 100) + (has_trait(0, party_member_obj(16777379), 94) * 2) + has_trait(2, party_member_obj(16777379), 13) + (((global_var(194) >= 100) or (global_var(232) > 0)) * 2 * (party_member_obj(16777379) == dude_obj));
+        fluf_time := (((get_critter_stat(party_member_obj(16777379), STAT_ch) * 50) + (get_critter_stat(party_member_obj(16777379), STAT_en) * 25) + (get_critter_stat(party_member_obj(16777379), STAT_ag) * 13) + (get_critter_stat(party_member_obj(16777379), STAT_st) * 12)) / 100) + (has_trait(TRAIT_PERK, party_member_obj(16777379), PERK_kama_sutra_perk) * 2) + has_trait(2, party_member_obj(16777379), 13) + (((global_var(GVAR_PLAYER_SEX_LEVEL) >= 100) or (global_var(GVAR_NEW_RENO_PORN_STAR) > 0)) * 2 * (party_member_obj(16777379) == dude_obj));
         game_time_advance((11 - (fluf_time - (fluf_time % 10))) * (60 * 10));
         poison(party_member_obj(16777379), random(2, 4));
         if (3 > 0) then begin
@@ -1803,14 +1803,14 @@ begin
         end
         set_local_var(4, local_var(4) bwand (-1 - 131072));
         if (party_member_obj(16777379) == dude_obj) then begin
-            set_global_var(345, global_var(345) bwor 134217728);
+            set_global_var(GVAR_NEW_RENO_FLAG_2, global_var(GVAR_NEW_RENO_FLAG_2) bwor 134217728);
             if (1200 != 0) then begin
-                float_msg(dude_obj, message_str(425, 1200), 3);
+                float_msg(dude_obj, mstr(1200), FLOAT_MSG_GREEN);
             end
         end
         else begin
             if (1200 != 0) then begin
-                float_msg(party_member_obj(16777379), 1200, 8 + ((3 - 8) * has_trait(0, dude_obj, 22)));
+                float_msg(party_member_obj(16777379), 1200, 8 + ((3 - 8) * has_trait(TRAIT_PERK, dude_obj, PERK_empathy)));
             end
         end
     end
@@ -1819,7 +1819,7 @@ begin
             gfade_out(5);
         end
         set_local_var(4, local_var(4) bwor 131072);
-        fluf_time := (((get_critter_stat(party_member_obj(16777380), 3) * 50) + (get_critter_stat(party_member_obj(16777380), 2) * 25) + (get_critter_stat(party_member_obj(16777380), 5) * 13) + (get_critter_stat(party_member_obj(16777380), 0) * 12)) / 100) + (has_trait(0, party_member_obj(16777380), 94) * 2) + has_trait(2, party_member_obj(16777380), 13) + (((global_var(194) >= 100) or (global_var(232) > 0)) * 2 * (party_member_obj(16777380) == dude_obj));
+        fluf_time := (((get_critter_stat(party_member_obj(16777380), STAT_ch) * 50) + (get_critter_stat(party_member_obj(16777380), STAT_en) * 25) + (get_critter_stat(party_member_obj(16777380), STAT_ag) * 13) + (get_critter_stat(party_member_obj(16777380), STAT_st) * 12)) / 100) + (has_trait(TRAIT_PERK, party_member_obj(16777380), PERK_kama_sutra_perk) * 2) + has_trait(2, party_member_obj(16777380), 13) + (((global_var(GVAR_PLAYER_SEX_LEVEL) >= 100) or (global_var(GVAR_NEW_RENO_PORN_STAR) > 0)) * 2 * (party_member_obj(16777380) == dude_obj));
         game_time_advance((11 - (fluf_time - (fluf_time % 10))) * (60 * 10));
         poison(party_member_obj(16777380), random(2, 4));
         if (3 > 0) then begin
@@ -1833,23 +1833,23 @@ begin
         end
         set_local_var(4, local_var(4) bwand (-1 - 131072));
         if (party_member_obj(16777380) == dude_obj) then begin
-            set_global_var(345, global_var(345) bwor 134217728);
+            set_global_var(GVAR_NEW_RENO_FLAG_2, global_var(GVAR_NEW_RENO_FLAG_2) bwor 134217728);
             if (1200 != 0) then begin
-                float_msg(dude_obj, message_str(425, 1200), 3);
+                float_msg(dude_obj, mstr(1200), FLOAT_MSG_GREEN);
             end
         end
         else begin
             if (1200 != 0) then begin
-                float_msg(party_member_obj(16777380), 1200, 8 + ((3 - 8) * has_trait(0, dude_obj, 22)));
+                float_msg(party_member_obj(16777380), 1200, 8 + ((3 - 8) * has_trait(TRAIT_PERK, dude_obj, PERK_empathy)));
             end
         end
     end
-    display_msg(message_str(425, 1201));
+    display_mstr(1201);
 end
 
 procedure Node981
 begin
-    if (get_critter_stat(dude_obj, 3) < 8) then begin
+    if (dude_charisma < 8) then begin
         call Node038();
     end
     else begin
@@ -1859,7 +1859,7 @@ end
 
 procedure Node980
 begin
-    if (metarule(18, dude_obj)) then begin
+    if (drug_influence(dude_obj)) then begin
         call Node050();
     end
     else begin
@@ -1872,4 +1872,3 @@ begin
     set_local_var(4, local_var(4) bwor 2048);
     call Node987();
 end
-
