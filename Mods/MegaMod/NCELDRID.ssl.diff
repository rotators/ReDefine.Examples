diff --git a/Mods/MegaMod/Original/NCELDRID.ssl b/Mods/MegaMod/ReDefine/NCELDRID.ssl
index fde52db..6654fe9 100644
--- a/Mods/MegaMod/Original/NCELDRID.ssl
+++ b/Mods/MegaMod/ReDefine/NCELDRID.ssl
@@ -222,53 +222,53 @@ end
 procedure ChooseFromList
 begin
     variable LVar0 := 0;
-    gsay_reply(426, stored_msg);
-    if (message_str(353, top_msg - 1) != "") then begin
-        giq_option(1, 426, message_str(353, 150), CLICK_PREV, 50);
+    Reply(stored_msg);
+    if (message_str(SCRIPT_NEWR1, top_msg - 1) != "") then begin
+        giq_option(1, NAME, message_str(SCRIPT_NEWR1, 150), CLICK_PREV, NEUTRAL_REACTION);
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, top_msg + 0) != "") then begin
-            giq_option(1, 426, message_str(353, top_msg + 0), CLICK_0, 50);
+        if (message_str(SCRIPT_NEWR1, top_msg + 0) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, top_msg + 0), CLICK_0, NEUTRAL_REACTION);
         end
         else begin
             LVar0 := 1;
         end
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, top_msg + 1) != "") then begin
-            giq_option(1, 426, message_str(353, top_msg + 1), CLICK_1, 50);
+        if (message_str(SCRIPT_NEWR1, top_msg + 1) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, top_msg + 1), CLICK_1, NEUTRAL_REACTION);
         end
         else begin
             LVar0 := 1;
         end
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, top_msg + 2) != "") then begin
-            giq_option(1, 426, message_str(353, top_msg + 2), CLICK_2, 50);
+        if (message_str(SCRIPT_NEWR1, top_msg + 2) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, top_msg + 2), CLICK_2, NEUTRAL_REACTION);
         end
         else begin
             LVar0 := 1;
         end
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, top_msg + 3) != "") then begin
-            giq_option(1, 426, message_str(353, top_msg + 3), CLICK_3, 50);
+        if (message_str(SCRIPT_NEWR1, top_msg + 3) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, top_msg + 3), CLICK_3, NEUTRAL_REACTION);
         end
         else begin
             LVar0 := 1;
         end
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, top_msg + 4) != "") then begin
-            giq_option(1, 426, message_str(353, top_msg + 4), CLICK_4, 50);
+        if (message_str(SCRIPT_NEWR1, top_msg + 4) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, top_msg + 4), CLICK_4, NEUTRAL_REACTION);
         end
         else begin
             LVar0 := 1;
         end
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, top_msg + 5) != "") then begin
-            giq_option(1, 426, message_str(353, 151), CLICK_MORE, 50);
+        if (message_str(SCRIPT_NEWR1, top_msg + 5) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, 151), CLICK_MORE, NEUTRAL_REACTION);
         end
     end
 end
@@ -324,17 +324,17 @@ procedure critter_p_proc
 begin
     if (obj_can_see_obj(self_obj, dude_obj)) then begin
         if (anim_busy(self_obj) == 0) then begin
-            anim(self_obj, 1000, rotation_to_tile(tile_num(self_obj), tile_num(dude_obj)));
+            anim(self_obj, 1000, rotation_to_tile(tile_num(self_obj), dude_tile));
         end
         if ((local_var(4) bwand 2) != 0) then begin
             if (critter_is_fleeing(self_obj)) then begin
                 if (anim_busy(self_obj) == 0) then begin
                     if ((tile_distance_objs(self_obj, dude_obj) < 8) or obj_can_see_obj(self_obj, dude_obj)) then begin
                         if (anim_busy(self_obj) == 0) then begin
-                            global_temp := rotation_to_tile(tile_num(dude_obj), tile_num(self_obj));
+                            global_temp := rotation_to_tile(dude_tile, tile_num(self_obj));
                             animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(3, 10)), 1);
                             global_temp := (global_temp + 1) % 6;
-                            while ((anim_busy(self_obj) == 0) and (global_temp != rotation_to_tile(tile_num(dude_obj), tile_num(self_obj)))) do begin
+                            while ((anim_busy(self_obj) == 0) and (global_temp != rotation_to_tile(dude_tile, tile_num(self_obj)))) do begin
                                 debug_msg("flee loop: rot == " + global_temp);
                                 animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(3, 10)), 1);
                                 global_temp := (global_temp + 1) % 6;
@@ -344,32 +344,32 @@ begin
                 end
             end
             else begin
-                attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);
+                attack(dude_obj);
             end
         end
         else begin
-            if (tile_in_tile_rect(22334, 22306, 29534, 29506, tile_num(dude_obj)) and (cur_map_index == 56) and ((elevation(dude_obj) == 0) or (-1 == 0))) then begin
-                if ((game_time_hour <= 600) or (game_time_hour >= 1800) and ((global_var(495) bwand 134217728) != 0)) then begin
+            if (tile_in_tile_rect(22334, 22306, 29534, 29506, dude_tile) and (CUR_MAP_NEWR3) and ((elevation(dude_obj) == 0) or (-1 == 0))) then begin
+                if ((game_time_hour <= 600) or (game_time_hour >= 1800) and ((global_var(GVAR_NEW_RENO_FLAG_3) bwand 134217728) != 0)) then begin
                     if (((local_var(4) bwand 65536) != 0) == 0) then begin
                         set_local_var(4, local_var(4) bwor 65536);
                         call Node030();
-                        set_global_var(219, game_time + 60);
+                        set_global_var(GVAR_NEW_RENO_WARNING_TIMER, game_time + 60);
                     end
                     else begin
-                        if (global_var(219) <= game_time) then begin
+                        if (global_var(GVAR_NEW_RENO_WARNING_TIMER) <= game_time) then begin
                             call Node998();
                         end
                     end
                 end
                 else begin
-                    if ((tile_in_tile_rect(26125, 26115, 29725, 29715, tile_num(dude_obj)) and (cur_map_index == 56) and ((elevation(dude_obj) == 0) or (-1 == 0))) == 0) then begin
+                    if ((tile_in_tile_rect(26125, 26115, 29725, 29715, dude_tile) and (CUR_MAP_NEWR3) and ((elevation(dude_obj) == 0) or (-1 == 0))) == 0) then begin
                         if (((local_var(4) bwand 32768) != 0) == 0) then begin
                             set_local_var(4, local_var(4) bwor 32768);
                             call Node029();
-                            set_global_var(219, game_time + 60);
+                            set_global_var(GVAR_NEW_RENO_WARNING_TIMER, game_time + 60);
                         end
                         else begin
-                            if (global_var(219) <= game_time) then begin
+                            if (global_var(GVAR_NEW_RENO_WARNING_TIMER) <= game_time) then begin
                                 call Node998();
                             end
                         end
@@ -381,7 +381,7 @@ begin
     else begin
         if (anim_busy(self_obj) == 0) then begin
             if ((game_time_hour >= 600) and (game_time_hour <= 2100)) then begin
-                set_global_var(495, global_var(495) bwand (-1 - 134217728));
+                set_global_var(GVAR_NEW_RENO_FLAG_3, global_var(GVAR_NEW_RENO_FLAG_3) bwand (-1 - 134217728));
                 if (local_var(6) >= 3) then begin
                     if (new_reno_barking_dog_obj != 0) then begin
                         if ((tile_num(self_obj) != 23110) and (23110 != 0)) then begin
@@ -401,12 +401,12 @@ begin
                                         animate_move_obj_to_tile(self_obj, step_tile, 0);
                                     end
                                     if (anim_busy(self_obj) == 0) then begin
-                                        if (metarule3(106, tile_num_in_direction(tile_num(self_obj), has_trait(1, self_obj, 10), 1), elevation(self_obj), 0) != 0) then begin
+                                        if (metarule3(106, tile_num_in_direction(tile_num(self_obj), obj_get_rot(self_obj), 1), elevation(self_obj), 0) != 0) then begin
                                             if (anim_busy(self_obj) == 0) then begin
-                                                global_temp := rotation_to_tile(tile_num_in_direction(tile_num(self_obj), rotation_to_tile(tile_num_in_direction(tile_num(self_obj), has_trait(1, self_obj, 10), 1), tile_num(self_obj)), 1), tile_num(self_obj));
+                                                global_temp := rotation_to_tile(tile_num_in_direction(tile_num(self_obj), rotation_to_tile(tile_num_in_direction(tile_num(self_obj), obj_get_rot(self_obj), 1), tile_num(self_obj)), 1), tile_num(self_obj));
                                                 animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(2, 5)), 0);
                                                 global_temp := (global_temp + 1) % 6;
-                                                while ((anim_busy(self_obj) == 0) and (global_temp != rotation_to_tile(tile_num_in_direction(tile_num(self_obj), rotation_to_tile(tile_num_in_direction(tile_num(self_obj), has_trait(1, self_obj, 10), 1), tile_num(self_obj)), 1), tile_num(self_obj)))) do begin
+                                                while ((anim_busy(self_obj) == 0) and (global_temp != rotation_to_tile(tile_num_in_direction(tile_num(self_obj), rotation_to_tile(tile_num_in_direction(tile_num(self_obj), obj_get_rot(self_obj), 1), tile_num(self_obj)), 1), tile_num(self_obj)))) do begin
                                                     debug_msg("flee loop: rot == " + global_temp);
                                                     animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(2, 5)), 0);
                                                     global_temp := (global_temp + 1) % 6;
@@ -429,7 +429,7 @@ begin
                             if ((tile_num(self_obj) == 23110) and (investigated_barking == 0)) then begin
                                 anim(self_obj, 1000, 3);
                                 investigated_barking := 1;
-                                float_msg(self_obj, message_str(426, random(701, 702)), 8);
+                                float_msg(self_obj, mstr(random(701, 702)), FLOAT_MSG_YELLOW);
                                 metarule3(100, self_obj, 1, 0);
                                 add_timer_event(self_obj, game_ticks(5 + random(0, 5)), 1);
                             end
@@ -455,12 +455,12 @@ begin
                                         animate_move_obj_to_tile(self_obj, step_tile, 0);
                                     end
                                     if (anim_busy(self_obj) == 0) then begin
-                                        if (metarule3(106, tile_num_in_direction(tile_num(self_obj), has_trait(1, self_obj, 10), 1), elevation(self_obj), 0) != 0) then begin
+                                        if (metarule3(106, tile_num_in_direction(tile_num(self_obj), obj_get_rot(self_obj), 1), elevation(self_obj), 0) != 0) then begin
                                             if (anim_busy(self_obj) == 0) then begin
-                                                global_temp := rotation_to_tile(tile_num_in_direction(tile_num(self_obj), rotation_to_tile(tile_num_in_direction(tile_num(self_obj), has_trait(1, self_obj, 10), 1), tile_num(self_obj)), 1), tile_num(self_obj));
+                                                global_temp := rotation_to_tile(tile_num_in_direction(tile_num(self_obj), rotation_to_tile(tile_num_in_direction(tile_num(self_obj), obj_get_rot(self_obj), 1), tile_num(self_obj)), 1), tile_num(self_obj));
                                                 animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(2, 5)), 0);
                                                 global_temp := (global_temp + 1) % 6;
-                                                while ((anim_busy(self_obj) == 0) and (global_temp != rotation_to_tile(tile_num_in_direction(tile_num(self_obj), rotation_to_tile(tile_num_in_direction(tile_num(self_obj), has_trait(1, self_obj, 10), 1), tile_num(self_obj)), 1), tile_num(self_obj)))) do begin
+                                                while ((anim_busy(self_obj) == 0) and (global_temp != rotation_to_tile(tile_num_in_direction(tile_num(self_obj), rotation_to_tile(tile_num_in_direction(tile_num(self_obj), obj_get_rot(self_obj), 1), tile_num(self_obj)), 1), tile_num(self_obj)))) do begin
                                                     debug_msg("flee loop: rot == " + global_temp);
                                                     animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(2, 5)), 0);
                                                     global_temp := (global_temp + 1) % 6;
@@ -483,8 +483,8 @@ begin
                 end
             end
             else begin
-                if ((tile_in_tile_rect(22519, 22507, 24319, 24307, tile_num(self_obj)) and (cur_map_index == 56) and ((elevation(self_obj) == 0) or (-1 == 0))) == 0) then begin
-                    set_global_var(495, global_var(495) bwor 134217728);
+                if ((tile_in_tile_rect(22519, 22507, 24319, 24307, tile_num(self_obj)) and (CUR_MAP_NEWR3) and ((elevation(self_obj) == 0) or (-1 == 0))) == 0) then begin
+                    set_global_var(GVAR_NEW_RENO_FLAG_3, global_var(GVAR_NEW_RENO_FLAG_3) bwor 134217728);
                     if ((tile_num(self_obj) != 23110) and (23110 != 0)) then begin
                         if ((dest_tile == 23110) and (step_tile < 0)) then begin
                             step_tile := step_tile + 1;
@@ -502,12 +502,12 @@ begin
                                     animate_move_obj_to_tile(self_obj, step_tile, 0);
                                 end
                                 if (anim_busy(self_obj) == 0) then begin
-                                    if (metarule3(106, tile_num_in_direction(tile_num(self_obj), has_trait(1, self_obj, 10), 1), elevation(self_obj), 0) != 0) then begin
+                                    if (metarule3(106, tile_num_in_direction(tile_num(self_obj), obj_get_rot(self_obj), 1), elevation(self_obj), 0) != 0) then begin
                                         if (anim_busy(self_obj) == 0) then begin
-                                            global_temp := rotation_to_tile(tile_num_in_direction(tile_num(self_obj), rotation_to_tile(tile_num_in_direction(tile_num(self_obj), has_trait(1, self_obj, 10), 1), tile_num(self_obj)), 1), tile_num(self_obj));
+                                            global_temp := rotation_to_tile(tile_num_in_direction(tile_num(self_obj), rotation_to_tile(tile_num_in_direction(tile_num(self_obj), obj_get_rot(self_obj), 1), tile_num(self_obj)), 1), tile_num(self_obj));
                                             animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(2, 5)), 0);
                                             global_temp := (global_temp + 1) % 6;
-                                            while ((anim_busy(self_obj) == 0) and (global_temp != rotation_to_tile(tile_num_in_direction(tile_num(self_obj), rotation_to_tile(tile_num_in_direction(tile_num(self_obj), has_trait(1, self_obj, 10), 1), tile_num(self_obj)), 1), tile_num(self_obj)))) do begin
+                                            while ((anim_busy(self_obj) == 0) and (global_temp != rotation_to_tile(tile_num_in_direction(tile_num(self_obj), rotation_to_tile(tile_num_in_direction(tile_num(self_obj), obj_get_rot(self_obj), 1), tile_num(self_obj)), 1), tile_num(self_obj)))) do begin
                                                 debug_msg("flee loop: rot == " + global_temp);
                                                 animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(2, 5)), 0);
                                                 global_temp := (global_temp + 1) % 6;
@@ -541,7 +541,7 @@ end
 
 procedure talk_p_proc
 begin
-    if (global_var(494) == 8) then begin
+    if (global_var(GVAR_FALLOUT_2) == 8) then begin
         gdialog_set_barter_mod(-200);
     end
     else begin
@@ -549,12 +549,12 @@ begin
             gdialog_set_barter_mod(-20);
         end
         else begin
-            if (global_var(349) == 2) then begin
+            if (global_var(GVAR_NEW_RENO_JULES_ELDRIDGE) == 2) then begin
                 gdialog_set_barter_mod(-10);
             end
         end
     end
-    if ((global_var(495) bwand 134217728) != 0) then begin
+    if ((global_var(GVAR_NEW_RENO_FLAG_3) bwand 134217728) != 0) then begin
         call Node030();
     end
     else begin
@@ -577,7 +577,7 @@ begin
         start_gdialog(426, self_obj, 4, -1, -1);
         gsay_start;
         if ((local_var(4) bwand 4096) != 0) then begin
-            if (global_var(494) == 8) then begin
+            if (global_var(GVAR_FALLOUT_2) == 8) then begin
                 call Node005();
             end
             else begin
@@ -619,22 +619,22 @@ begin
     move_obj_inven_to_obj(new_reno_eldridge_box_2, self_obj);
     if (((local_var(4) bwand 512) != 0) == 0) then begin
         set_local_var(4, local_var(4) bwor 512);
-        restock_obj := create_object_sid(356, 0, 0, -1);
+        restock_obj := create_object(356, 0, 0);
         add_mult_objs_to_inven(self_obj, restock_obj, 1);
     end
-    set_global_var(345, global_var(345) bwor 4194304);
+    set_global_var(GVAR_NEW_RENO_FLAG_2, global_var(GVAR_NEW_RENO_FLAG_2) bwor 4194304);
 end
 
 procedure look_at_p_proc
 begin
     script_overrides;
-    display_msg(message_str(426, 100));
+    display_mstr(100);
 end
 
 procedure description_p_proc
 begin
     script_overrides;
-    display_msg(message_str(426, 150 + (((local_var(4) bwand 1) != 0) * ((local_var(4) bwand 4) != 0))));
+    display_mstr(150 + (((local_var(4) bwand 1) != 0) * ((local_var(4) bwand 4) != 0)));
     set_local_var(4, local_var(4) bwor 4);
 end
 
@@ -653,10 +653,10 @@ end
 procedure map_enter_p_proc
 begin
     new_reno_eldridge_obj := self_obj;
-    if (metarule(22, 0) == 0) then begin
-        if (metarule(14, 0)) then begin
-            critter_add_trait(self_obj, 1, 6, 157);
-            critter_add_trait(self_obj, 1, 5, 22);
+    if (is_loading_game == 0) then begin
+        if (map_first_run) then begin
+            critter_add_trait(self_obj, TRAIT_OBJECT, OBJECT_TEAM_NUM, 157);
+            critter_add_trait(self_obj, TRAIT_OBJECT, OBJECT_AI_PACKET, AI_TOUGH_GUARD);
             last_timed_obj := self_obj;
             last_timed_param := last_timed_param;
             metarule3(100, self_obj, 1, 0);
@@ -692,9 +692,9 @@ begin
         else begin
             if ((game_time_hour >= 600) and (game_time_hour <= 2100)) then begin
                 set_local_var(6, 0);
-                if ((combat_is_initialized == 0) and (global_var(219) <= game_time)) then begin
+                if ((combat_is_initialized == 0) and (global_var(GVAR_NEW_RENO_WARNING_TIMER) <= game_time)) then begin
                     if (obj_can_see_obj(self_obj, dude_obj)) then begin
-                        if (global_var(494) == 8) then begin
+                        if (global_var(GVAR_FALLOUT_2) == 8) then begin
                             call Node001();
                         end
                         else begin
@@ -729,76 +729,76 @@ end
 
 procedure Node001
 begin
-    float_msg(self_obj, message_str(426, random(200, 204)), 8);
+    float_msg(self_obj, mstr(random(200, 204)), FLOAT_MSG_YELLOW);
 end
 
 procedure Node002
 begin
-    float_msg(self_obj, message_str(426, random(210, 214)), 8);
+    float_msg(self_obj, mstr(random(210, 214)), FLOAT_MSG_YELLOW);
 end
 
 procedure Node003
 begin
-    float_msg(self_obj, message_str(426, random(220, 234)), 8);
+    float_msg(self_obj, mstr(random(220, 234)), FLOAT_MSG_YELLOW);
 end
 
 procedure Node004
 begin
-    if (global_var(494) == 8) then begin
-        gsay_reply(426, 240);
+    if (global_var(GVAR_FALLOUT_2) == 8) then begin
+        Reply(240);
     end
     else begin
-        gsay_reply(426, 241 + (get_critter_stat(dude_obj, 34) == 1));
+        Reply(241 + (dude_gender == 1));
     end
     set_local_var(4, local_var(4) bwor 4096);
-    giq_option(1, 426, 243 + ((get_critter_stat(dude_obj, 4) <= 3) == 0), Node990, 50);
+    giq_option(1, NAME, 243 + ((dude_is_stupid) == 0), Node990, NEUTRAL_REACTION);
 end
 
 procedure Node005
 begin
     return_node := "Node005";
     if (prev_node == 0) then begin
-        gsay_reply(426, message_str(426, 250) + message_str(426, 251));
+        Reply(mstr(250) + mstr(251));
     end
     else begin
-        gsay_reply(426, 251);
+        Reply(251);
     end
     set_local_var(5, local_var(5) + -200);
     set_local_var(5, local_var(5) - (local_var(5) % 200));
     gdialog_set_barter_mod(local_var(5));
-    giq_option(-3, 426, 252, Node007, 50);
-    giq_option(-3, 426, 253, Node999, 50);
-    giq_option(4, 426, 254, Node974, 50);
+    giq_option(-3, NAME, 252, Node007, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 253, Node999, NEUTRAL_REACTION);
+    giq_option(4, NAME, 254, Node974, NEUTRAL_REACTION);
     if (((local_var(4) bwand 512) != 0) == 0) then begin
-        giq_option(4, 426, 255, Node018, 50);
+        giq_option(4, NAME, 255, Node018, NEUTRAL_REACTION);
     end
-    if (global_var(230) > 0) then begin
+    if (global_var(GVAR_NEW_RENO_MADE_MAN) > 0) then begin
         if ((local_var(4) bwand 1024) != 0) then begin
-            giq_option(4, 426, 262, Node975, 50);
+            giq_option(4, NAME, 262, Node975, NEUTRAL_REACTION);
         end
         else begin
-            giq_option(4, 426, message_str(426, 256) + message_str(353, 200 + (global_var(230) / 100)) + message_str(426, 5256), Node026, 50);
+            giq_option(4, NAME, mstr(256) + message_str(SCRIPT_NEWR1, 200 + (global_var(GVAR_NEW_RENO_MADE_MAN) / 100)) + mstr(5256), Node026, NEUTRAL_REACTION);
         end
     end
     else begin
-        if (global_var(349) == 1) then begin
-            giq_option(4, 426, 257, Node989, 50);
+        if (global_var(GVAR_NEW_RENO_JULES_ELDRIDGE) == 1) then begin
+            giq_option(4, NAME, 257, Node989, NEUTRAL_REACTION);
         end
     end
-    if (global_var(549) == 0) then begin
-        if (((global_var(314) bwand 16384) != 0) and ((global_var(230) / 100) != 1)) then begin
-            giq_option(4, 426, 258, Node023, 50);
+    if (global_var(GVAR_NEW_RENO_ELDRIDGE_PISTOL_QUEST) == 0) then begin
+        if (((global_var(GVAR_NEW_RENO_FLAG_1) bwand 16384) != 0) and ((global_var(GVAR_NEW_RENO_MADE_MAN) / 100) != 1)) then begin
+            giq_option(4, NAME, 258, Node023, NEUTRAL_REACTION);
         end
     end
     else begin
-        if (global_var(549) == 1) then begin
+        if (global_var(GVAR_NEW_RENO_ELDRIDGE_PISTOL_QUEST) == 1) then begin
             if (obj_is_carrying_obj_pid(dude_obj, 16)) then begin
-                giq_option(4, 426, 259, Node025, 50);
+                giq_option(4, NAME, 259, Node025, NEUTRAL_REACTION);
             end
         end
     end
-    giq_option(4, 426, 260, Node998, 50);
-    giq_option(4, 426, 261, Node999, 51);
+    giq_option(4, NAME, 260, Node998, NEUTRAL_REACTION);
+    giq_option(4, NAME, 261, Node999, BAD_REACTION);
     prev_node := 5;
 end
 
@@ -806,109 +806,109 @@ procedure Node006
 begin
     return_node := "Node006";
     if (((local_var(4) bwand 8192) != 0) == 0) then begin
-        gsay_reply(426, 270);
+        Reply(270);
     end
     else begin
-        gsay_reply(426, 272 + (prev_node != 0));
+        Reply(272 + (prev_node != 0));
     end
-    if (global_var(759) == 0) then begin
-        giq_option(4, 426, 900, Node1000, 50);
+    if (global_var(GVAR_SPECIAL_ENCOUNTER_POSTMAN) == 0) then begin
+        giq_option(4, NAME, 900, Node1000, NEUTRAL_REACTION);
     end
-    if ((global_var(759) == 1) or (global_var(759) == 2)) then begin
-        giq_option(4, 426, 923, Node1005, 50);
+    if ((global_var(GVAR_SPECIAL_ENCOUNTER_POSTMAN) == 1) or (global_var(GVAR_SPECIAL_ENCOUNTER_POSTMAN) == 2)) then begin
+        giq_option(4, NAME, 923, Node1005, NEUTRAL_REACTION);
     end
-    giq_option(-3, 426, 274, Node007, 50);
-    giq_option(-3, 426, 253, Node999, 50);
-    giq_option(4, 426, 276 + ((local_var(4) bwand 8192) != 0), Node974, 50);
+    giq_option(-3, NAME, 274, Node007, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 253, Node999, NEUTRAL_REACTION);
+    giq_option(4, NAME, 276 + ((local_var(4) bwand 8192) != 0), Node974, NEUTRAL_REACTION);
     if (((local_var(4) bwand 512) != 0) == 0) then begin
-        giq_option(4, 426, 255, Node018, 50);
+        giq_option(4, NAME, 255, Node018, NEUTRAL_REACTION);
     end
-    if (global_var(230) > 0) then begin
+    if (global_var(GVAR_NEW_RENO_MADE_MAN) > 0) then begin
         if ((local_var(4) bwand 1024) != 0) then begin
-            giq_option(4, 426, 286, Node975, 50);
+            giq_option(4, NAME, 286, Node975, NEUTRAL_REACTION);
         end
         else begin
-            giq_option(4, 426, message_str(426, 256) + message_str(353, 200 + (global_var(230) / 100)) + message_str(426, 5256), Node026, 50);
+            giq_option(4, NAME, mstr(256) + message_str(SCRIPT_NEWR1, 200 + (global_var(GVAR_NEW_RENO_MADE_MAN) / 100)) + mstr(5256), Node026, NEUTRAL_REACTION);
         end
     end
     else begin
-        if (global_var(349) == 1) then begin
-            giq_option(4, 426, 257, Node989, 50);
+        if (global_var(GVAR_NEW_RENO_JULES_ELDRIDGE) == 1) then begin
+            giq_option(4, NAME, 257, Node989, NEUTRAL_REACTION);
         end
     end
-    if (global_var(549) == 0) then begin
-        if (((global_var(314) bwand 16384) != 0) and ((global_var(230) / 100) != 1)) then begin
-            giq_option(4, 426, 258, Node023, 50);
+    if (global_var(GVAR_NEW_RENO_ELDRIDGE_PISTOL_QUEST) == 0) then begin
+        if (((global_var(GVAR_NEW_RENO_FLAG_1) bwand 16384) != 0) and ((global_var(GVAR_NEW_RENO_MADE_MAN) / 100) != 1)) then begin
+            giq_option(4, NAME, 258, Node023, NEUTRAL_REACTION);
         end
     end
     else begin
-        if (global_var(549) == 1) then begin
+        if (global_var(GVAR_NEW_RENO_ELDRIDGE_PISTOL_QUEST) == 1) then begin
             if (obj_is_carrying_obj_pid(dude_obj, 16)) then begin
-                giq_option(4, 426, 259, Node025, 50);
+                giq_option(4, NAME, 259, Node025, NEUTRAL_REACTION);
             end
         end
     end
-    giq_option(4, 426, 283, Node988, 50);
-    giq_option(4, 426, 284 + ((local_var(4) bwand 8192) != 0), Node999, 51);
+    giq_option(4, NAME, 283, Node988, NEUTRAL_REACTION);
+    giq_option(4, NAME, 284 + ((local_var(4) bwand 8192) != 0), Node999, BAD_REACTION);
     set_local_var(4, local_var(4) bwor 8192);
 end
 
 procedure Node007
 begin
     return_node := "Node007";
-    gsay_reply(426, 300 + ((global_var(494) == 8) == 0));
-    giq_option(-3, 426, 302, Node974, 50);
+    Reply(300 + ((global_var(GVAR_FALLOUT_2) == 8) == 0));
+    giq_option(-3, NAME, 302, Node974, NEUTRAL_REACTION);
     if (((local_var(4) bwand 512) != 0) == 0) then begin
-        giq_option(-3, 426, 303, Node018, 50);
+        giq_option(-3, NAME, 303, Node018, NEUTRAL_REACTION);
     end
-    giq_option(-3, 426, 304, Node999, 50);
+    giq_option(-3, NAME, 304, Node999, NEUTRAL_REACTION);
     prev_node := 7;
 end
 
 procedure Node008
 begin
     return_node := "Node008";
-    if (global_var(349) == 1) then begin
-        set_global_var(349, 2);
+    if (global_var(GVAR_NEW_RENO_JULES_ELDRIDGE) == 1) then begin
+        set_global_var(GVAR_NEW_RENO_JULES_ELDRIDGE, 2);
         set_local_var(5, local_var(5) + -10);
         set_local_var(5, local_var(5) - (local_var(5) % 200));
         gdialog_set_barter_mod(local_var(5));
     end
-    gsay_reply(426, message_str(426, 310) + message_str(426, 311 + (get_critter_stat(dude_obj, 34) == 1)));
-    giq_option(4, 426, 277, Node974, 50);
+    Reply(mstr(310) + mstr(311 + (dude_gender == 1)));
+    giq_option(4, NAME, 277, Node974, NEUTRAL_REACTION);
     if (((local_var(4) bwand 512) != 0) == 0) then begin
-        giq_option(4, 426, 255, Node018, 50);
+        giq_option(4, NAME, 255, Node018, NEUTRAL_REACTION);
     end
-    if (global_var(230) > 0) then begin
+    if (global_var(GVAR_NEW_RENO_MADE_MAN) > 0) then begin
         if ((local_var(4) bwand 1024) != 0) then begin
-            giq_option(4, 426, 286, Node975, 50);
+            giq_option(4, NAME, 286, Node975, NEUTRAL_REACTION);
         end
         else begin
-            giq_option(4, 426, message_str(426, 256) + message_str(353, 200 + (global_var(230) / 100)) + message_str(426, 5256), Node026, 50);
+            giq_option(4, NAME, mstr(256) + message_str(SCRIPT_NEWR1, 200 + (global_var(GVAR_NEW_RENO_MADE_MAN) / 100)) + mstr(5256), Node026, NEUTRAL_REACTION);
         end
     end
-    if (global_var(549) == 0) then begin
-        if (((global_var(314) bwand 16384) != 0) and ((global_var(230) / 100) != 1)) then begin
-            giq_option(4, 426, 258, Node023, 50);
+    if (global_var(GVAR_NEW_RENO_ELDRIDGE_PISTOL_QUEST) == 0) then begin
+        if (((global_var(GVAR_NEW_RENO_FLAG_1) bwand 16384) != 0) and ((global_var(GVAR_NEW_RENO_MADE_MAN) / 100) != 1)) then begin
+            giq_option(4, NAME, 258, Node023, NEUTRAL_REACTION);
         end
     end
     else begin
-        if (global_var(549) == 1) then begin
+        if (global_var(GVAR_NEW_RENO_ELDRIDGE_PISTOL_QUEST) == 1) then begin
             if (obj_is_carrying_obj_pid(dude_obj, 16)) then begin
-                giq_option(4, 426, 259, Node025, 50);
+                giq_option(4, NAME, 259, Node025, NEUTRAL_REACTION);
             end
         end
     end
-    giq_option(4, 426, 283, Node988, 50);
-    giq_option(4, 426, 285, Node999, 51);
+    giq_option(4, NAME, 283, Node988, NEUTRAL_REACTION);
+    giq_option(4, NAME, 285, Node999, BAD_REACTION);
     prev_node := 8;
 end
 
 procedure Node009
 begin
-    gsay_reply(426, 330);
-    giq_option(4, 426, 331, Node006, 50);
-    giq_option(4, 426, 285, Node999, 50);
+    Reply(330);
+    giq_option(4, NAME, 331, Node006, NEUTRAL_REACTION);
+    giq_option(4, NAME, 285, Node999, NEUTRAL_REACTION);
     prev_node := 9;
 end
 
@@ -927,23 +927,23 @@ begin
         LVar2 := 1;
     end
     if (LVar0 or LVar1 or LVar2) then begin
-        gsay_reply(426, 340);
+        Reply(340);
         if (LVar0) then begin
-            giq_option(4, 426, 341, Node011, 50);
+            giq_option(4, NAME, 341, Node011, NEUTRAL_REACTION);
         end
         if (LVar1) then begin
-            giq_option(4, 426, 342, Node012, 50);
+            giq_option(4, NAME, 342, Node012, NEUTRAL_REACTION);
         end
         if (LVar2) then begin
-            giq_option(4, 426, 343, Node013, 50);
+            giq_option(4, NAME, 343, Node013, NEUTRAL_REACTION);
         end
-        giq_option(4, 426, 344, Node006, 50);
-        giq_option(4, 426, 345, Node999, 50);
+        giq_option(4, NAME, 344, Node006, NEUTRAL_REACTION);
+        giq_option(4, NAME, 345, Node999, NEUTRAL_REACTION);
     end
     else begin
-        gsay_reply(426, 1340);
-        giq_option(4, 426, 1345, Node006, 50);
-        giq_option(4, 426, 1346, Node999, 50);
+        Reply(1340);
+        giq_option(4, NAME, 1345, Node006, NEUTRAL_REACTION);
+        giq_option(4, NAME, 1346, Node999, NEUTRAL_REACTION);
     end
     prev_node := 10;
 end
@@ -953,26 +953,26 @@ begin
     variable LVar0 := "";
     variable LVar1 := 0;
     if (obj_is_carrying_obj_pid(dude_obj, 313)) then begin
-        LVar0 := LVar0 + (message_str(426, 350) + (400 * (25000 / (160 + has_skill(dude_obj, 15))) / 100) + message_str(426, 5500) + " ");
+        LVar0 := LVar0 + (mstr(350) + (400 * (25000 / (160 + has_skill(dude_obj, SKILL_BARTER))) / 100) + mstr(5500) + " ");
     end
     if (obj_is_carrying_obj_pid(dude_obj, 18)) then begin
-        LVar0 := LVar0 + (message_str(426, 351) + (1500 * (25000 / (160 + has_skill(dude_obj, 15))) / 100) + message_str(426, 5500));
+        LVar0 := LVar0 + (mstr(351) + (1500 * (25000 / (160 + has_skill(dude_obj, SKILL_BARTER))) / 100) + mstr(5500));
     end
-    gsay_reply(426, LVar0);
-    if (obj_is_carrying_obj_pid(dude_obj, 313) and (item_caps_total(dude_obj) >= (400 * (25000 / (160 + has_skill(dude_obj, 15))) / 100))) then begin
-        giq_option(4, 426, 352, Node987, 50);
+    Reply(LVar0);
+    if (obj_is_carrying_obj_pid(dude_obj, 313) and (item_caps_total(dude_obj) >= (400 * (25000 / (160 + has_skill(dude_obj, SKILL_BARTER))) / 100))) then begin
+        giq_option(4, NAME, 352, Node987, NEUTRAL_REACTION);
         LVar1 := 1;
     end
-    if (obj_is_carrying_obj_pid(dude_obj, 18) and (item_caps_total(dude_obj) >= (1500 * (25000 / (160 + has_skill(dude_obj, 15))) / 100))) then begin
-        giq_option(4, 426, 353, Node986, 50);
+    if (obj_is_carrying_obj_pid(dude_obj, 18) and (item_caps_total(dude_obj) >= (1500 * (25000 / (160 + has_skill(dude_obj, SKILL_BARTER))) / 100))) then begin
+        giq_option(4, NAME, 353, Node986, NEUTRAL_REACTION);
         LVar1 := 1;
     end
     if (LVar1 == 0) then begin
-        giq_option(4, 426, 357, Node999, 50);
+        giq_option(4, NAME, 357, Node999, NEUTRAL_REACTION);
     end
-    giq_option(4, 426, 354, Node010, 50);
-    giq_option(4, 426, 355, Node006, 50);
-    giq_option(4, 426, 356, Node999, 50);
+    giq_option(4, NAME, 354, Node010, NEUTRAL_REACTION);
+    giq_option(4, NAME, 355, Node006, NEUTRAL_REACTION);
+    giq_option(4, NAME, 356, Node999, NEUTRAL_REACTION);
     prev_node := 11;
 end
 
@@ -980,57 +980,57 @@ procedure Node012
 begin
     variable LVar0 := 0;
     variable LVar1 := 0;
-    LVar0 := message_str(426, 365);
+    LVar0 := mstr(365);
     if (obj_is_carrying_obj_pid(dude_obj, 10)) then begin
-        LVar0 := LVar0 + (message_str(426, 366) + (1750 * (25000 / (160 + has_skill(dude_obj, 15))) / 100) + message_str(426, 5500) + " ");
+        LVar0 := LVar0 + (mstr(366) + (1750 * (25000 / (160 + has_skill(dude_obj, SKILL_BARTER))) / 100) + mstr(5500) + " ");
     end
     if (obj_is_carrying_obj_pid(dude_obj, 23)) then begin
-        LVar0 := LVar0 + (message_str(426, 367) + (2000 * (25000 / (160 + has_skill(dude_obj, 15))) / 100) + message_str(426, 5500) + " ");
+        LVar0 := LVar0 + (mstr(367) + (2000 * (25000 / (160 + has_skill(dude_obj, SKILL_BARTER))) / 100) + mstr(5500) + " ");
     end
     if (obj_is_carrying_obj_pid(dude_obj, 351)) then begin
-        LVar0 := LVar0 + (message_str(426, 368) + (4000 * (25000 / (160 + has_skill(dude_obj, 15))) / 100) + message_str(426, 5500));
+        LVar0 := LVar0 + (mstr(368) + (4000 * (25000 / (160 + has_skill(dude_obj, SKILL_BARTER))) / 100) + mstr(5500));
     end
-    gsay_reply(426, LVar0);
-    if (obj_is_carrying_obj_pid(dude_obj, 10) and (item_caps_total(dude_obj) >= (1750 * (25000 / (160 + has_skill(dude_obj, 15))) / 100))) then begin
-        giq_option(4, 426, 369, Node985, 50);
+    Reply(LVar0);
+    if (obj_is_carrying_obj_pid(dude_obj, 10) and (item_caps_total(dude_obj) >= (1750 * (25000 / (160 + has_skill(dude_obj, SKILL_BARTER))) / 100))) then begin
+        giq_option(4, NAME, 369, Node985, NEUTRAL_REACTION);
         LVar1 := 1;
     end
-    if (obj_is_carrying_obj_pid(dude_obj, 23) and (item_caps_total(dude_obj) >= (2000 * (25000 / (160 + has_skill(dude_obj, 15))) / 100))) then begin
-        giq_option(4, 426, 370, Node984, 50);
+    if (obj_is_carrying_obj_pid(dude_obj, 23) and (item_caps_total(dude_obj) >= (2000 * (25000 / (160 + has_skill(dude_obj, SKILL_BARTER))) / 100))) then begin
+        giq_option(4, NAME, 370, Node984, NEUTRAL_REACTION);
         LVar1 := 1;
     end
-    if (obj_is_carrying_obj_pid(dude_obj, 351) and (item_caps_total(dude_obj) >= (4000 * (25000 / (160 + has_skill(dude_obj, 15))) / 100))) then begin
-        giq_option(4, 426, 371, Node983, 50);
+    if (obj_is_carrying_obj_pid(dude_obj, 351) and (item_caps_total(dude_obj) >= (4000 * (25000 / (160 + has_skill(dude_obj, SKILL_BARTER))) / 100))) then begin
+        giq_option(4, NAME, 371, Node983, NEUTRAL_REACTION);
         LVar1 := 1;
     end
     if (LVar1 == 0) then begin
-        giq_option(4, 426, 357, Node999, 50);
+        giq_option(4, NAME, 357, Node999, NEUTRAL_REACTION);
     end
-    giq_option(4, 426, 354, Node010, 50);
-    giq_option(4, 426, 355, Node006, 50);
-    giq_option(4, 426, 356, Node999, 50);
+    giq_option(4, NAME, 354, Node010, NEUTRAL_REACTION);
+    giq_option(4, NAME, 355, Node006, NEUTRAL_REACTION);
+    giq_option(4, NAME, 356, Node999, NEUTRAL_REACTION);
     prev_node := 12;
 end
 
 procedure Node013
 begin
-    gsay_reply(426, message_str(426, 385) + (1500 * (25000 / (160 + has_skill(dude_obj, 15)) / 100)) + message_str(426, 5500));
-    if (item_caps_total(dude_obj) >= (1500 * (25000 / (160 + has_skill(dude_obj, 15))) / 100)) then begin
-        giq_option(4, 426, 386, Node982, 50);
+    Reply(mstr(385) + (1500 * (25000 / (160 + has_skill(dude_obj, SKILL_BARTER)) / 100)) + mstr(5500));
+    if (item_caps_total(dude_obj) >= (1500 * (25000 / (160 + has_skill(dude_obj, SKILL_BARTER))) / 100)) then begin
+        giq_option(4, NAME, 386, Node982, NEUTRAL_REACTION);
     end
     else begin
-        giq_option(4, 426, 357, Node999, 50);
+        giq_option(4, NAME, 357, Node999, NEUTRAL_REACTION);
     end
-    giq_option(4, 426, 354, Node010, 50);
-    giq_option(4, 426, 355, Node006, 50);
-    giq_option(4, 426, 356, Node999, 50);
+    giq_option(4, NAME, 354, Node010, NEUTRAL_REACTION);
+    giq_option(4, NAME, 355, Node006, NEUTRAL_REACTION);
+    giq_option(4, NAME, 356, Node999, NEUTRAL_REACTION);
     prev_node := 13;
 end
 
 procedure Node014
 begin
-    gsay_reply(426, 395);
-    giq_option(4, 426, 396, Node017, 50);
+    Reply(395);
+    giq_option(4, NAME, 396, Node017, NEUTRAL_REACTION);
     prev_node := 14;
 end
 
@@ -1038,9 +1038,9 @@ procedure Node015
 begin
     gfade_out(5);
     game_time_advance(60 * (60 * 10));
-    gsay_reply(426, 400);
+    Reply(400);
     gfade_in(5);
-    giq_option(4, 426, 401, Node016, 50);
+    giq_option(4, NAME, 401, Node016, NEUTRAL_REACTION);
     prev_node := 15;
 end
 
@@ -1048,9 +1048,9 @@ procedure Node016
 begin
     gfade_out(5);
     game_time_advance(60 * (60 * 10));
-    gsay_reply(426, 405);
+    Reply(405);
     gfade_in(5);
-    giq_option(4, 426, 406, Node017, 50);
+    giq_option(4, NAME, 406, Node017, NEUTRAL_REACTION);
     prev_node := 16;
 end
 
@@ -1058,65 +1058,65 @@ procedure Node017
 begin
     gfade_out(5);
     game_time_advance(60 * (60 * 10));
-    gsay_reply(426, 410);
+    Reply(410);
     gfade_in(5);
-    giq_option(4, 426, 411, Node010, 50);
-    giq_option(4, 426, 412, Node006, 50);
-    giq_option(4, 426, 413, Node999, 50);
+    giq_option(4, NAME, 411, Node010, NEUTRAL_REACTION);
+    giq_option(4, NAME, 412, Node006, NEUTRAL_REACTION);
+    giq_option(4, NAME, 413, Node999, NEUTRAL_REACTION);
     prev_node := 17;
 end
 
 procedure Node018
 begin
-    gsay_reply(426, 420);
-    giq_option(-3, 426, 302, Node019, 50);
-    giq_option(-3, 426, 304, Node019, 50);
-    giq_option(4, 426, 423, Node019, 50);
-    giq_option(4, 426, 424, Node006, 50);
-    giq_option(4, 426, 425, Node999, 50);
+    Reply(420);
+    giq_option(-3, NAME, 302, Node019, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 304, Node019, NEUTRAL_REACTION);
+    giq_option(4, NAME, 423, Node019, NEUTRAL_REACTION);
+    giq_option(4, NAME, 424, Node006, NEUTRAL_REACTION);
+    giq_option(4, NAME, 425, Node999, NEUTRAL_REACTION);
     prev_node := 18;
 end
 
 procedure Node019
 begin
-    gsay_reply(426, 430 + (get_critter_stat(dude_obj, 4) > 3) + (get_critter_stat(dude_obj, 4) > 6));
-    giq_option(-3, 426, 433, Node020, 50);
-    giq_option(-3, 426, 434, Node007, 50);
-    giq_option(-3, 426, 435, Node999, 50);
-    giq_option(4, 426, 436 + (global_var(350) == 1), Node020, 50);
-    giq_option(4, 426, 438, Node006, 50);
-    giq_option(4, 426, 439, Node999, 51);
+    Reply(430 + (dude_iq > 3) + (dude_iq > 6));
+    giq_option(-3, NAME, 433, Node020, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 434, Node007, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 435, Node999, NEUTRAL_REACTION);
+    giq_option(4, NAME, 436 + (global_var(GVAR_GRUTHAR_DSTATUS) == 1), Node020, NEUTRAL_REACTION);
+    giq_option(4, NAME, 438, Node006, NEUTRAL_REACTION);
+    giq_option(4, NAME, 439, Node999, BAD_REACTION);
     prev_node := 19;
 end
 
 procedure Node020
 begin
-    gsay_reply(426, 450 + (prev_node != 19));
+    Reply(450 + (prev_node != 19));
     if (item_caps_total(dude_obj) >= 3000) then begin
-        giq_option(-3, 426, 452, Node973, 50);
-        giq_option(4, 426, 386, Node973, 50);
+        giq_option(-3, NAME, 452, Node973, NEUTRAL_REACTION);
+        giq_option(4, NAME, 386, Node973, NEUTRAL_REACTION);
     end
-    giq_option(-3, 426, 434, Node007, 50);
-    giq_option(-3, 426, 454, Node981, 50);
-    giq_option(-3, 426, 455, Node999, 50);
+    giq_option(-3, NAME, 434, Node007, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 454, Node981, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 455, Node999, NEUTRAL_REACTION);
     if ((prev_node == 19) and (item_caps_total(dude_obj) >= 1500)) then begin
-        giq_option(4, 426, 457, Node980, 51);
+        giq_option(4, NAME, 457, Node980, BAD_REACTION);
     end
-    giq_option(4, 426, 458, Node006, 50);
-    giq_option(4, 426, 459, Node999, 50);
+    giq_option(4, NAME, 458, Node006, NEUTRAL_REACTION);
+    giq_option(4, NAME, 459, Node999, NEUTRAL_REACTION);
 end
 
 procedure Node021
 begin
-    gsay_reply(426, 470);
+    Reply(470);
     if (item_caps_total(dude_obj) >= 2500) then begin
-        giq_option(4, 426, 471, Node979, 50);
+        giq_option(4, NAME, 471, Node979, NEUTRAL_REACTION);
     end
     else begin
-        giq_option(4, 426, 474, Node999, 50);
+        giq_option(4, NAME, 474, Node999, NEUTRAL_REACTION);
     end
-    giq_option(4, 426, 472, Node006, 50);
-    giq_option(4, 426, 473, Node999, 50);
+    giq_option(4, NAME, 472, Node006, NEUTRAL_REACTION);
+    giq_option(4, NAME, 473, Node999, NEUTRAL_REACTION);
     prev_node := 21;
 end
 
@@ -1125,36 +1125,36 @@ begin
     return_node := "Node022";
     if (((local_var(4) bwand 512) != 0) == 0) then begin
         set_local_var(4, local_var(4) bwor 512);
-        restock_obj := create_object_sid(356, 0, 0, -1);
+        restock_obj := create_object(356, 0, 0);
         add_mult_objs_to_inven(dude_obj, restock_obj, 1);
     end
-    gsay_reply(426, message_str(426, 480 + ((local_var(4) bwand 2048) != 0)) + message_str(426, 482));
-    giq_option(-3, 426, 302, Node974, 50);
-    giq_option(-3, 426, 304, Node999, 50);
-    giq_option(4, 426, 485, Node006, 50);
-    giq_option(4, 426, 486, Node999, 51);
+    Reply(mstr(480 + ((local_var(4) bwand 2048) != 0)) + mstr(482));
+    giq_option(-3, NAME, 302, Node974, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 304, Node999, NEUTRAL_REACTION);
+    giq_option(4, NAME, 485, Node006, NEUTRAL_REACTION);
+    giq_option(4, NAME, 486, Node999, BAD_REACTION);
     prev_node := 22;
 end
 
 procedure Node023
 begin
-    gsay_reply(426, 495);
-    giq_option(4, 426, 496, Node024, 50);
-    giq_option(4, 426, 497, Node006, 50);
-    giq_option(4, 426, 498, Node999, 50);
+    Reply(495);
+    giq_option(4, NAME, 496, Node024, NEUTRAL_REACTION);
+    giq_option(4, NAME, 497, Node006, NEUTRAL_REACTION);
+    giq_option(4, NAME, 498, Node999, NEUTRAL_REACTION);
     prev_node := 23;
 end
 
 procedure Node024
 begin
-    gsay_reply(426, 505);
+    Reply(505);
     if (obj_is_carrying_obj_pid(dude_obj, 16)) then begin
-        giq_option(4, 426, 506, Node025, 49);
+        giq_option(4, NAME, 506, Node025, GOOD_REACTION);
     end
-    giq_option(4, 426, 507, Node978, 50);
-    giq_option(4, 426, 508, Node006, 50);
-    giq_option(4, 426, 509, Node977, 50);
-    giq_option(4, 426, 510, Node999, 50);
+    giq_option(4, NAME, 507, Node978, NEUTRAL_REACTION);
+    giq_option(4, NAME, 508, Node006, NEUTRAL_REACTION);
+    giq_option(4, NAME, 509, Node977, NEUTRAL_REACTION);
+    giq_option(4, NAME, 510, Node999, NEUTRAL_REACTION);
     prev_node := 24;
 end
 
@@ -1170,14 +1170,14 @@ begin
         add_mult_objs_to_inven(new_reno_temp_box, restock_obj, restock_amt);
     end
     item_caps_adjust(dude_obj, 1500);
-    display_msg(message_str(426, 800));
+    display_mstr(800);
     give_exp_points(500);
-    display_msg(message_str(14, 100) + 500 + message_str(14, 101));
-    set_global_var(55, global_var(55) + 1);
-    set_global_var(549, 2);
-    gsay_reply(426, message_str(426, 520 + (prev_node != 24)) + message_str(426, 522));
-    giq_option(4, 426, 523, Node006, 50);
-    giq_option(4, 426, 524, Node999, 50);
+    display_msg(g_mstr(100) + 500 + g_mstr(101));
+    set_global_var(GVAR_TOWN_REP_NEW_RENO, global_var(GVAR_TOWN_REP_NEW_RENO) + 1);
+    set_global_var(GVAR_NEW_RENO_ELDRIDGE_PISTOL_QUEST, 2);
+    Reply(mstr(520 + (prev_node != 24)) + mstr(522));
+    giq_option(4, NAME, 523, Node006, NEUTRAL_REACTION);
+    giq_option(4, NAME, 524, Node999, NEUTRAL_REACTION);
     prev_node := 25;
 end
 
@@ -1190,25 +1190,25 @@ begin
         gdialog_set_barter_mod(local_var(5));
         set_local_var(4, local_var(4) bwor 1024);
     end
-    gsay_reply(426, 530);
-    giq_option(4, 426, 386, Node975, 50);
-    giq_option(4, 426, 532, Node006, 50);
-    giq_option(4, 426, 533, Node999, 50);
+    Reply(530);
+    giq_option(4, NAME, 386, Node975, NEUTRAL_REACTION);
+    giq_option(4, NAME, 532, Node006, NEUTRAL_REACTION);
+    giq_option(4, NAME, 533, Node999, NEUTRAL_REACTION);
     prev_node := 26;
 end
 
 procedure Node027
 begin
     if (local_var(6) < 3) then begin
-        float_msg(self_obj, message_str(426, random(545, 547)), 8 + ((2 - 8) * has_trait(0, dude_obj, 22)));
+        float_msg(self_obj, mstr(random(545, 547)), 8 + ((2 - 8) * has_trait(TRAIT_PERK, dude_obj, PERK_empathy)));
     end
     else begin
         if (local_var(6) == 3) then begin
-            float_msg(self_obj, message_str(426, random(548, 549)), 8 + ((2 - 8) * has_trait(0, dude_obj, 22)));
+            float_msg(self_obj, mstr(random(548, 549)), 8 + ((2 - 8) * has_trait(TRAIT_PERK, dude_obj, PERK_empathy)));
         end
         else begin
             if (local_var(6) > 3) then begin
-                float_msg(self_obj, message_str(426, random(550, 550)), 8 + ((2 - 8) * has_trait(0, dude_obj, 22)));
+                float_msg(self_obj, mstr(random(550, 550)), 8 + ((2 - 8) * has_trait(TRAIT_PERK, dude_obj, PERK_empathy)));
             end
         end
     end
@@ -1216,27 +1216,27 @@ end
 
 procedure Node028
 begin
-    float_msg(self_obj, message_str(426, random(560, 564)), 8 + ((2 - 8) * has_trait(0, dude_obj, 22)));
+    float_msg(self_obj, mstr(random(560, 564)), 8 + ((2 - 8) * has_trait(TRAIT_PERK, dude_obj, PERK_empathy)));
 end
 
 procedure Node029
 begin
-    float_msg(self_obj, message_str(426, random(575, 578)), 8 + ((2 - 8) * has_trait(0, dude_obj, 22)));
+    float_msg(self_obj, mstr(random(575, 578)), 8 + ((2 - 8) * has_trait(TRAIT_PERK, dude_obj, PERK_empathy)));
 end
 
 procedure Node030
 begin
     animate_stand_obj(self_obj);
-    float_msg(self_obj, message_str(426, 600 + (get_critter_stat(dude_obj, 34) == 1)) + message_str(426, 610), 8);
+    float_msg(self_obj, mstr(600 + (dude_gender == 1)) + mstr(610), FLOAT_MSG_YELLOW);
 end
 
 procedure Node990
 begin
-    if (global_var(494) == 8) then begin
+    if (global_var(GVAR_FALLOUT_2) == 8) then begin
         call Node005();
     end
     else begin
-        if (get_critter_stat(dude_obj, 4) <= 3) then begin
+        if (dude_is_stupid) then begin
             call Node007();
         end
         else begin
@@ -1252,7 +1252,7 @@ end
 
 procedure Node988
 begin
-    if ((global_var(345) bwand 1048576) != 0) then begin
+    if ((global_var(GVAR_NEW_RENO_FLAG_2) bwand 1048576) != 0) then begin
         call Node009();
     end
     else begin
@@ -1262,7 +1262,7 @@ end
 
 procedure Node987
 begin
-    if (obj_is_carrying_obj_pid(dude_obj, 313) and (item_caps_total(dude_obj) >= (400 * (25000 / (160 + has_skill(dude_obj, 15))) / 100))) then begin
+    if (obj_is_carrying_obj_pid(dude_obj, 313) and (item_caps_total(dude_obj) >= (400 * (25000 / (160 + has_skill(dude_obj, SKILL_BARTER))) / 100))) then begin
         item_caps_adjust(dude_obj, -400);
         item_caps_adjust(self_obj, 400);
         removed_qty := obj_is_carrying_obj_pid(dude_obj, 313);
@@ -1283,7 +1283,7 @@ begin
                 end
                 else begin
                     if ((critter_inven_obj(dude_obj, 2) == restock_obj) or (critter_inven_obj(dude_obj, 1) == restock_obj)) then begin
-                        metarule(43, dude_obj);
+                        inven_unwield(dude_obj);
                     end
                 end
             end
@@ -1292,19 +1292,19 @@ begin
         end
         restock_obj := 0;
         restock_amt := 0;
-        restock_obj := create_object_sid(398, 0, 0, -1);
+        restock_obj := create_object(398, 0, 0);
         add_mult_objs_to_inven(dude_obj, restock_obj, 1);
         call Node014();
     end
     else begin
-        if (item_caps_total(dude_obj) < (400 * (25000 / (160 + has_skill(dude_obj, 15))) / 100)) then begin
-            gsay_reply(426, 802);
-            giq_option(4, 426, 1346, Node999, 50);
+        if (item_caps_total(dude_obj) < (400 * (25000 / (160 + has_skill(dude_obj, SKILL_BARTER))) / 100)) then begin
+            Reply(802);
+            giq_option(4, NAME, 1346, Node999, NEUTRAL_REACTION);
         end
         else begin
             if (not(obj_is_carrying_obj_pid(dude_obj, 313))) then begin
-                gsay_reply(426, 801);
-                giq_option(4, 426, 1346, Node999, 50);
+                Reply(801);
+                giq_option(4, NAME, 1346, Node999, NEUTRAL_REACTION);
             end
         end
     end
@@ -1312,7 +1312,7 @@ end
 
 procedure Node986
 begin
-    if (obj_is_carrying_obj_pid(dude_obj, 18) and (item_caps_total(dude_obj) >= (1500 * (25000 / (160 + has_skill(dude_obj, 15))) / 100))) then begin
+    if (obj_is_carrying_obj_pid(dude_obj, 18) and (item_caps_total(dude_obj) >= (1500 * (25000 / (160 + has_skill(dude_obj, SKILL_BARTER))) / 100))) then begin
         item_caps_adjust(dude_obj, -1500);
         item_caps_adjust(self_obj, 1500);
         removed_qty := obj_is_carrying_obj_pid(dude_obj, 18);
@@ -1333,7 +1333,7 @@ begin
                 end
                 else begin
                     if ((critter_inven_obj(dude_obj, 2) == restock_obj) or (critter_inven_obj(dude_obj, 1) == restock_obj)) then begin
-                        metarule(43, dude_obj);
+                        inven_unwield(dude_obj);
                     end
                 end
             end
@@ -1342,19 +1342,19 @@ begin
         end
         restock_obj := 0;
         restock_amt := 0;
-        restock_obj := create_object_sid(404, 0, 0, -1);
+        restock_obj := create_object(404, 0, 0);
         add_mult_objs_to_inven(dude_obj, restock_obj, 1);
         call Node014();
     end
     else begin
-        if (item_caps_total(dude_obj) < (1500 * (25000 / (160 + has_skill(dude_obj, 15))) / 100)) then begin
-            gsay_reply(426, 802);
-            giq_option(4, 426, 1346, Node999, 50);
+        if (item_caps_total(dude_obj) < (1500 * (25000 / (160 + has_skill(dude_obj, SKILL_BARTER))) / 100)) then begin
+            Reply(802);
+            giq_option(4, NAME, 1346, Node999, NEUTRAL_REACTION);
         end
         else begin
             if (not(obj_is_carrying_obj_pid(dude_obj, 18))) then begin
-                gsay_reply(426, 801);
-                giq_option(4, 426, 1346, Node999, 50);
+                Reply(801);
+                giq_option(4, NAME, 1346, Node999, NEUTRAL_REACTION);
             end
         end
     end
@@ -1362,7 +1362,7 @@ end
 
 procedure Node985
 begin
-    if (obj_is_carrying_obj_pid(dude_obj, 10) and (item_caps_total(dude_obj) >= (1750 * (25000 / (160 + has_skill(dude_obj, 15))) / 100))) then begin
+    if (obj_is_carrying_obj_pid(dude_obj, 10) and (item_caps_total(dude_obj) >= (1750 * (25000 / (160 + has_skill(dude_obj, SKILL_BARTER))) / 100))) then begin
         item_caps_adjust(dude_obj, -1750);
         item_caps_adjust(self_obj, 1750);
         removed_qty := obj_is_carrying_obj_pid(dude_obj, 10);
@@ -1383,7 +1383,7 @@ begin
                 end
                 else begin
                     if ((critter_inven_obj(dude_obj, 2) == restock_obj) or (critter_inven_obj(dude_obj, 1) == restock_obj)) then begin
-                        metarule(43, dude_obj);
+                        inven_unwield(dude_obj);
                     end
                 end
             end
@@ -1392,19 +1392,19 @@ begin
         end
         restock_obj := 0;
         restock_amt := 0;
-        restock_obj := create_object_sid(287, 0, 0, -1);
+        restock_obj := create_object(287, 0, 0);
         add_mult_objs_to_inven(dude_obj, restock_obj, 1);
         call Node014();
     end
     else begin
-        if (item_caps_total(dude_obj) < (1750 * (25000 / (160 + has_skill(dude_obj, 15))) / 100)) then begin
-            gsay_reply(426, 802);
-            giq_option(4, 426, 1346, Node999, 50);
+        if (item_caps_total(dude_obj) < (1750 * (25000 / (160 + has_skill(dude_obj, SKILL_BARTER))) / 100)) then begin
+            Reply(802);
+            giq_option(4, NAME, 1346, Node999, NEUTRAL_REACTION);
         end
         else begin
             if (not(obj_is_carrying_obj_pid(dude_obj, 10))) then begin
-                gsay_reply(426, 801);
-                giq_option(4, 426, 1346, Node999, 50);
+                Reply(801);
+                giq_option(4, NAME, 1346, Node999, NEUTRAL_REACTION);
             end
         end
     end
@@ -1412,7 +1412,7 @@ end
 
 procedure Node984
 begin
-    if (obj_is_carrying_obj_pid(dude_obj, 23) and (item_caps_total(dude_obj) >= (2000 * (25000 / (160 + has_skill(dude_obj, 15))) / 100))) then begin
+    if (obj_is_carrying_obj_pid(dude_obj, 23) and (item_caps_total(dude_obj) >= (2000 * (25000 / (160 + has_skill(dude_obj, SKILL_BARTER))) / 100))) then begin
         item_caps_adjust(dude_obj, -2000);
         item_caps_adjust(self_obj, 2000);
         removed_qty := obj_is_carrying_obj_pid(dude_obj, 23);
@@ -1433,7 +1433,7 @@ begin
                 end
                 else begin
                     if ((critter_inven_obj(dude_obj, 2) == restock_obj) or (critter_inven_obj(dude_obj, 1) == restock_obj)) then begin
-                        metarule(43, dude_obj);
+                        inven_unwield(dude_obj);
                     end
                 end
             end
@@ -1442,19 +1442,19 @@ begin
         end
         restock_obj := 0;
         restock_amt := 0;
-        restock_obj := create_object_sid(405, 0, 0, -1);
+        restock_obj := create_object(405, 0, 0);
         add_mult_objs_to_inven(dude_obj, restock_obj, 1);
         call Node014();
     end
     else begin
-        if (item_caps_total(dude_obj) < (2000 * (25000 / (160 + has_skill(dude_obj, 15))) / 100)) then begin
-            gsay_reply(426, 802);
-            giq_option(4, 426, 1346, Node999, 50);
+        if (item_caps_total(dude_obj) < (2000 * (25000 / (160 + has_skill(dude_obj, SKILL_BARTER))) / 100)) then begin
+            Reply(802);
+            giq_option(4, NAME, 1346, Node999, NEUTRAL_REACTION);
         end
         else begin
             if (not(obj_is_carrying_obj_pid(dude_obj, 23))) then begin
-                gsay_reply(426, 801);
-                giq_option(4, 426, 1346, Node999, 50);
+                Reply(801);
+                giq_option(4, NAME, 1346, Node999, NEUTRAL_REACTION);
             end
         end
     end
@@ -1462,7 +1462,7 @@ end
 
 procedure Node983
 begin
-    if (obj_is_carrying_obj_pid(dude_obj, 351) and (item_caps_total(dude_obj) >= (4000 * (25000 / (160 + has_skill(dude_obj, 15))) / 100))) then begin
+    if (obj_is_carrying_obj_pid(dude_obj, 351) and (item_caps_total(dude_obj) >= (4000 * (25000 / (160 + has_skill(dude_obj, SKILL_BARTER))) / 100))) then begin
         item_caps_adjust(dude_obj, -4000);
         item_caps_adjust(self_obj, 4000);
         removed_qty := obj_is_carrying_obj_pid(dude_obj, 351);
@@ -1483,7 +1483,7 @@ begin
                 end
                 else begin
                     if ((critter_inven_obj(dude_obj, 2) == restock_obj) or (critter_inven_obj(dude_obj, 1) == restock_obj)) then begin
-                        metarule(43, dude_obj);
+                        inven_unwield(dude_obj);
                     end
                 end
             end
@@ -1492,19 +1492,19 @@ begin
         end
         restock_obj := 0;
         restock_amt := 0;
-        restock_obj := create_object_sid(403, 0, 0, -1);
+        restock_obj := create_object(403, 0, 0);
         add_mult_objs_to_inven(dude_obj, restock_obj, 1);
         call Node014();
     end
     else begin
-        if (item_caps_total(dude_obj) < (4000 * (25000 / (160 + has_skill(dude_obj, 15))) / 100)) then begin
-            gsay_reply(426, 802);
-            giq_option(4, 426, 1346, Node999, 50);
+        if (item_caps_total(dude_obj) < (4000 * (25000 / (160 + has_skill(dude_obj, SKILL_BARTER))) / 100)) then begin
+            Reply(802);
+            giq_option(4, NAME, 1346, Node999, NEUTRAL_REACTION);
         end
         else begin
             if (not(obj_is_carrying_obj_pid(dude_obj, 351))) then begin
-                gsay_reply(426, 801);
-                giq_option(4, 426, 1346, Node999, 50);
+                Reply(801);
+                giq_option(4, NAME, 1346, Node999, NEUTRAL_REACTION);
             end
         end
     end
@@ -1512,7 +1512,7 @@ end
 
 procedure Node982
 begin
-    if (obj_is_carrying_obj_pid(dude_obj, 160) and (item_caps_total(dude_obj) >= (1500 * (25000 / (160 + has_skill(dude_obj, 15))) / 100))) then begin
+    if (obj_is_carrying_obj_pid(dude_obj, 160) and (item_caps_total(dude_obj) >= (1500 * (25000 / (160 + has_skill(dude_obj, SKILL_BARTER))) / 100))) then begin
         item_caps_adjust(dude_obj, -1500);
         item_caps_adjust(self_obj, 1500);
         removed_qty := obj_is_carrying_obj_pid(dude_obj, 160);
@@ -1533,7 +1533,7 @@ begin
                 end
                 else begin
                     if ((critter_inven_obj(dude_obj, 2) == restock_obj) or (critter_inven_obj(dude_obj, 1) == restock_obj)) then begin
-                        metarule(43, dude_obj);
+                        inven_unwield(dude_obj);
                     end
                 end
             end
@@ -1542,19 +1542,19 @@ begin
         end
         restock_obj := 0;
         restock_amt := 0;
-        restock_obj := create_object_sid(399, 0, 0, -1);
+        restock_obj := create_object(399, 0, 0);
         add_mult_objs_to_inven(dude_obj, restock_obj, 1);
         call Node014();
     end
     else begin
-        if (item_caps_total(dude_obj) < (1500 * (25000 / (160 + has_skill(dude_obj, 15))) / 100)) then begin
-            gsay_reply(426, 802);
-            giq_option(4, 426, 1346, Node999, 50);
+        if (item_caps_total(dude_obj) < (1500 * (25000 / (160 + has_skill(dude_obj, SKILL_BARTER))) / 100)) then begin
+            Reply(802);
+            giq_option(4, NAME, 1346, Node999, NEUTRAL_REACTION);
         end
         else begin
             if (not(obj_is_carrying_obj_pid(dude_obj, 160))) then begin
-                gsay_reply(426, 801);
-                giq_option(4, 426, 1346, Node999, 50);
+                Reply(801);
+                giq_option(4, NAME, 1346, Node999, NEUTRAL_REACTION);
             end
         end
     end
@@ -1564,7 +1564,7 @@ procedure Node981
 begin
     if (((local_var(4) bwand 512) != 0) == 0) then begin
         set_local_var(4, local_var(4) bwor 512);
-        restock_obj := create_object_sid(356, 0, 0, -1);
+        restock_obj := create_object(356, 0, 0);
         add_mult_objs_to_inven(self_obj, restock_obj, 1);
     end
     drop_obj(restock_obj);
@@ -1575,7 +1575,7 @@ procedure Node980
 begin
     variable LVar0 := 0;
     LVar0 := roll_vs_skill(dude_obj, 15, 0);
-    if ((get_critter_stat(dude_obj, 3) > 8) or (is_success(LVar0) and is_critical(LVar0))) then begin
+    if ((dude_charisma > 8) or (is_success(LVar0) and is_critical(LVar0))) then begin
         set_local_var(4, local_var(4) bwor 2048);
         item_caps_adjust(dude_obj, -1500);
         item_caps_adjust(self_obj, 1500);
@@ -1600,13 +1600,13 @@ end
 
 procedure Node978
 begin
-    set_global_var(549, 1);
+    set_global_var(GVAR_NEW_RENO_ELDRIDGE_PISTOL_QUEST, 1);
     call Node006();
 end
 
 procedure Node977
 begin
-    set_global_var(549, 1);
+    set_global_var(GVAR_NEW_RENO_ELDRIDGE_PISTOL_QUEST, 1);
 end
 
 procedure Node975
@@ -1626,7 +1626,7 @@ begin
             current_box := 0;
         end
     end
-    if (global_var(494) == 8) then begin
+    if (global_var(GVAR_FALLOUT_2) == 8) then begin
         gdialog_mod_barter(-200);
     end
     else begin
@@ -1634,11 +1634,11 @@ begin
             gdialog_mod_barter(-20);
         end
         else begin
-            if (global_var(349) == 2) then begin
+            if (global_var(GVAR_NEW_RENO_JULES_ELDRIDGE) == 2) then begin
                 gdialog_mod_barter(-10);
             end
             else begin
-                gdialog_mod_barter(0);
+                gdialog_barter;
             end
         end
     end
@@ -1662,7 +1662,7 @@ begin
             current_box := 0;
         end
     end
-    if (global_var(494) == 8) then begin
+    if (global_var(GVAR_FALLOUT_2) == 8) then begin
         gdialog_mod_barter(-200);
     end
     else begin
@@ -1670,11 +1670,11 @@ begin
             gdialog_mod_barter(-20);
         end
         else begin
-            if (global_var(349) == 2) then begin
+            if (global_var(GVAR_NEW_RENO_JULES_ELDRIDGE) == 2) then begin
                 gdialog_mod_barter(-10);
             end
             else begin
-                gdialog_mod_barter(0);
+                gdialog_barter;
             end
         end
     end
@@ -1690,64 +1690,64 @@ end
 
 procedure Node1000
 begin
-    gsay_reply(426, 901);
-    giq_option(4, 426, 902, Node1001, 50);
+    Reply(901);
+    giq_option(4, NAME, 902, Node1001, NEUTRAL_REACTION);
 end
 
 procedure Node1001
 begin
-    gsay_reply(426, 903);
-    giq_option(4, 426, 904, Node1002, 50);
+    Reply(903);
+    giq_option(4, NAME, 904, Node1002, NEUTRAL_REACTION);
 end
 
 procedure Node1002
 begin
-    gsay_reply(426, 905);
-    giq_option(4, 426, 906, Node1003, 50);
-    giq_option(4, 426, 907, Node999, 50);
+    Reply(905);
+    giq_option(4, NAME, 906, Node1003, NEUTRAL_REACTION);
+    giq_option(4, NAME, 907, Node999, NEUTRAL_REACTION);
 end
 
 procedure Node1003
 begin
-    gsay_reply(426, 913);
-    giq_option(4, 426, 919, Node1009, 50);
+    Reply(913);
+    giq_option(4, NAME, 919, Node1009, NEUTRAL_REACTION);
     if (obj_is_carrying_obj_pid(dude_obj, 392)) then begin
-        giq_option(4, 426, 920, Node1006, 50);
+        giq_option(4, NAME, 920, Node1006, NEUTRAL_REACTION);
     end
     if (obj_is_carrying_obj_pid(dude_obj, 394)) then begin
-        giq_option(4, 426, 921, Node1007, 50);
+        giq_option(4, NAME, 921, Node1007, NEUTRAL_REACTION);
     end
     if (obj_is_carrying_obj_pid(dude_obj, 626)) then begin
-        giq_option(4, 426, 922, Node1008, 50);
+        giq_option(4, NAME, 922, Node1008, NEUTRAL_REACTION);
     end
-    giq_option(4, 426, 925, Node1004, 50);
+    giq_option(4, NAME, 925, Node1004, NEUTRAL_REACTION);
 end
 
 procedure Node1004
 begin
-    gsay_reply(426, 926);
-    giq_option(4, 426, 928, Node999, 50);
-    set_global_var(759, 2);
+    Reply(926);
+    giq_option(4, NAME, 928, Node999, NEUTRAL_REACTION);
+    set_global_var(GVAR_SPECIAL_ENCOUNTER_POSTMAN, 2);
 end
 
 procedure Node1005
 begin
-    if (global_var(759) == 1) then begin
-        gsay_reply(426, 924);
+    if (global_var(GVAR_SPECIAL_ENCOUNTER_POSTMAN) == 1) then begin
+        Reply(924);
     end
-    if (global_var(759) == 2) then begin
-        gsay_reply(426, 908);
+    if (global_var(GVAR_SPECIAL_ENCOUNTER_POSTMAN) == 2) then begin
+        Reply(908);
     end
     if (obj_is_carrying_obj_pid(dude_obj, 392)) then begin
-        giq_option(4, 426, 920, Node1006, 50);
+        giq_option(4, NAME, 920, Node1006, NEUTRAL_REACTION);
     end
     if (obj_is_carrying_obj_pid(dude_obj, 394)) then begin
-        giq_option(4, 426, 921, Node1007, 50);
+        giq_option(4, NAME, 921, Node1007, NEUTRAL_REACTION);
     end
     if (obj_is_carrying_obj_pid(dude_obj, 626)) then begin
-        giq_option(4, 426, 922, Node1008, 50);
+        giq_option(4, NAME, 922, Node1008, NEUTRAL_REACTION);
     end
-    giq_option(4, 426, 925, Node1004, 50);
+    giq_option(4, NAME, 925, Node1004, NEUTRAL_REACTION);
 end
 
 procedure Node1006
@@ -1755,13 +1755,13 @@ begin
     item := obj_carrying_pid_obj(dude_obj, 392);
     rm_obj_from_inven(dude_obj, item);
     destroy_object(item);
-    gsay_reply(426, 929);
-    display_msg(message_str(426, 927));
+    Reply(929);
+    display_mstr(927);
     give_exp_points(500);
     debug_msg("  mark_on_map(" + 51 + ")");
     mark_area_known(0, 51, 1);
-    set_global_var(759, 3);
-    giq_option(4, 426, 928, Node999, 50);
+    set_global_var(GVAR_SPECIAL_ENCOUNTER_POSTMAN, 3);
+    giq_option(4, NAME, 928, Node999, NEUTRAL_REACTION);
 end
 
 procedure Node1007
@@ -1769,13 +1769,13 @@ begin
     item := obj_carrying_pid_obj(dude_obj, 394);
     rm_obj_from_inven(dude_obj, item);
     destroy_object(item);
-    gsay_reply(426, 929);
-    display_msg(message_str(426, 927));
+    Reply(929);
+    display_mstr(927);
     give_exp_points(500);
     debug_msg("  mark_on_map(" + 51 + ")");
     mark_area_known(0, 51, 1);
-    set_global_var(759, 3);
-    giq_option(4, 426, 928, Node999, 50);
+    set_global_var(GVAR_SPECIAL_ENCOUNTER_POSTMAN, 3);
+    giq_option(4, NAME, 928, Node999, NEUTRAL_REACTION);
 end
 
 procedure Node1008
@@ -1783,19 +1783,18 @@ begin
     item := obj_carrying_pid_obj(dude_obj, 626);
     rm_obj_from_inven(dude_obj, item);
     destroy_object(item);
-    gsay_reply(426, 929);
-    display_msg(message_str(426, 927));
+    Reply(929);
+    display_mstr(927);
     give_exp_points(500);
     debug_msg("  mark_on_map(" + 51 + ")");
     mark_area_known(0, 51, 1);
-    set_global_var(759, 3);
-    giq_option(4, 426, 928, Node999, 50);
+    set_global_var(GVAR_SPECIAL_ENCOUNTER_POSTMAN, 3);
+    giq_option(4, NAME, 928, Node999, NEUTRAL_REACTION);
 end
 
 procedure Node1009
 begin
-    set_global_var(759, 1);
-    gsay_reply(426, 930);
-    giq_option(4, 426, 928, Node999, 50);
+    set_global_var(GVAR_SPECIAL_ENCOUNTER_POSTMAN, 1);
+    Reply(930);
+    giq_option(4, NAME, 928, Node999, NEUTRAL_REACTION);
 end
-
