diff --git a/Mods/MegaMod/Original/NCJIMMYJ.ssl b/Mods/MegaMod/ReDefine/NCJIMMYJ.ssl
index 6e2cf6b..0934cc6 100644
--- a/Mods/MegaMod/Original/NCJIMMYJ.ssl
+++ b/Mods/MegaMod/ReDefine/NCJIMMYJ.ssl
@@ -229,53 +229,53 @@ end
 procedure ChooseFromList
 begin
     variable LVar0 := 0;
-    gsay_reply(431, stored_msg);
-    if (message_str(353, top_msg - 1) != "") then begin
-        giq_option(1, 431, message_str(353, 150), CLICK_PREV, 50);
+    Reply(stored_msg);
+    if (message_str(SCRIPT_NEWR1, top_msg - 1) != "") then begin
+        giq_option(1, NAME, message_str(SCRIPT_NEWR1, 150), CLICK_PREV, NEUTRAL_REACTION);
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, top_msg + 0) != "") then begin
-            giq_option(1, 431, message_str(353, top_msg + 0), CLICK_0, 50);
+        if (message_str(SCRIPT_NEWR1, top_msg + 0) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, top_msg + 0), CLICK_0, NEUTRAL_REACTION);
         end
         else begin
             LVar0 := 1;
         end
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, top_msg + 1) != "") then begin
-            giq_option(1, 431, message_str(353, top_msg + 1), CLICK_1, 50);
+        if (message_str(SCRIPT_NEWR1, top_msg + 1) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, top_msg + 1), CLICK_1, NEUTRAL_REACTION);
         end
         else begin
             LVar0 := 1;
         end
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, top_msg + 2) != "") then begin
-            giq_option(1, 431, message_str(353, top_msg + 2), CLICK_2, 50);
+        if (message_str(SCRIPT_NEWR1, top_msg + 2) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, top_msg + 2), CLICK_2, NEUTRAL_REACTION);
         end
         else begin
             LVar0 := 1;
         end
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, top_msg + 3) != "") then begin
-            giq_option(1, 431, message_str(353, top_msg + 3), CLICK_3, 50);
+        if (message_str(SCRIPT_NEWR1, top_msg + 3) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, top_msg + 3), CLICK_3, NEUTRAL_REACTION);
         end
         else begin
             LVar0 := 1;
         end
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, top_msg + 4) != "") then begin
-            giq_option(1, 431, message_str(353, top_msg + 4), CLICK_4, 50);
+        if (message_str(SCRIPT_NEWR1, top_msg + 4) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, top_msg + 4), CLICK_4, NEUTRAL_REACTION);
         end
         else begin
             LVar0 := 1;
         end
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, top_msg + 5) != "") then begin
-            giq_option(1, 431, message_str(353, 151), CLICK_MORE, 50);
+        if (message_str(SCRIPT_NEWR1, top_msg + 5) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, 151), CLICK_MORE, NEUTRAL_REACTION);
         end
     end
 end
@@ -334,10 +334,10 @@ begin
                 if (anim_busy(self_obj) == 0) then begin
                     if ((tile_distance_objs(self_obj, dude_obj) < 8) or obj_can_see_obj(self_obj, dude_obj)) then begin
                         if (anim_busy(self_obj) == 0) then begin
-                            global_temp := rotation_to_tile(tile_num(dude_obj), tile_num(self_obj));
+                            global_temp := rotation_to_tile(dude_tile, tile_num(self_obj));
                             animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(3, 10)), 1);
                             global_temp := (global_temp + 1) % 6;
-                            while ((anim_busy(self_obj) == 0) and (global_temp != rotation_to_tile(tile_num(dude_obj), tile_num(self_obj)))) do begin
+                            while ((anim_busy(self_obj) == 0) and (global_temp != rotation_to_tile(dude_tile, tile_num(self_obj)))) do begin
                                 debug_msg("flee loop: rot == " + global_temp);
                                 animate_move_obj_to_tile(self_obj, tile_num_in_direction(tile_num(self_obj), global_temp, random(3, 10)), 1);
                                 global_temp := (global_temp + 1) % 6;
@@ -347,7 +347,7 @@ begin
                 end
             end
             else begin
-                attack_complex(dude_obj, 0, 1, 0, 0, 30000, 0, 0);
+                attack(dude_obj);
             end
         end
     end
@@ -364,10 +364,10 @@ end
 
 procedure talk_p_proc
 begin
-    if (((global_var(314) bwand 256) != 0) or ((local_var(4) bwand 2048) != 0)) then begin
+    if (((global_var(GVAR_NEW_RENO_FLAG_1) bwand 256) != 0) or ((local_var(4) bwand 2048) != 0)) then begin
         gdialog_set_barter_mod(20);
     end
-    if ((global_var(345) bwand 4) != 0) then begin
+    if ((global_var(GVAR_NEW_RENO_FLAG_2) bwand 4) != 0) then begin
         if (in_dialog == 0) then begin
             in_dialog := 1;
             start_gdialog(431, self_obj, 4, -1, -1);
@@ -409,57 +409,57 @@ end
 
 procedure destroy_p_proc
 begin
-    set_global_var(314, global_var(314) bwor 4);
+    set_global_var(GVAR_NEW_RENO_FLAG_1, global_var(GVAR_NEW_RENO_FLAG_1) bwor 4);
     if (source_obj == dude_obj) then begin
-        set_global_var(4, global_var(4) + 1);
-        if (metarule(51, self_obj) == 2) then begin
+        set_global_var(GVAR_BAD_MONSTER, global_var(GVAR_BAD_MONSTER) + 1);
+        if (critter_kill_type(self_obj) == 2) then begin
             if (source_obj == dude_obj) then begin
-                set_global_var(2, 0);
-                set_global_var(1, global_var(1) + 1);
-                set_global_var(0, global_var(0) + -15);
+                set_global_var(GVAR_CHAMPION_REPUTATION, 0);
+                set_global_var(GVAR_CHILDKILLER_REPUTATION, global_var(GVAR_CHILDKILLER_REPUTATION) + 1);
+                set_global_var(GVAR_PLAYER_REPUTATION, global_var(GVAR_PLAYER_REPUTATION) + -15);
                 debug_msg("Player gains " + -15 + " Karma Points.");
-                set_global_var(37, 0);
-                set_global_var(38, 0);
-                set_global_var(39, 0);
-                set_global_var(40, 0);
-                set_global_var(41, 0);
-                set_global_var(42, 0);
-                set_global_var(43, 0);
-                set_global_var(44, 0);
-                set_global_var(45, 0);
-                if (global_var(0) >= 1000) then begin
-                    set_global_var(37, 1);
+                set_global_var(GVAR_KARMA_HOLY_WARRIOR, 0);
+                set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 0);
+                set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 0);
+                set_global_var(GVAR_KARMA_DEFENDER, 0);
+                set_global_var(GVAR_KARMA_WANDERER, 0);
+                set_global_var(GVAR_KARMA_BETRAYER, 0);
+                set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 0);
+                set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 0);
+                set_global_var(GVAR_KARMA_DEMON_SPAWN, 0);
+                if (global_var(GVAR_PLAYER_REPUTATION) >= 1000) then begin
+                    set_global_var(GVAR_KARMA_HOLY_WARRIOR, 1);
                 end
                 else begin
-                    if (global_var(0) >= 750) then begin
-                        set_global_var(38, 1);
+                    if (global_var(GVAR_PLAYER_REPUTATION) >= 750) then begin
+                        set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 1);
                     end
                     else begin
-                        if (global_var(0) >= 500) then begin
-                            set_global_var(39, 1);
+                        if (global_var(GVAR_PLAYER_REPUTATION) >= 500) then begin
+                            set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 1);
                         end
                         else begin
-                            if (global_var(0) >= 250) then begin
-                                set_global_var(40, 1);
+                            if (global_var(GVAR_PLAYER_REPUTATION) >= 250) then begin
+                                set_global_var(GVAR_KARMA_DEFENDER, 1);
                             end
                             else begin
-                                if (global_var(0) > -250) then begin
-                                    set_global_var(41, 1);
+                                if (global_var(GVAR_PLAYER_REPUTATION) > -250) then begin
+                                    set_global_var(GVAR_KARMA_WANDERER, 1);
                                 end
                                 else begin
-                                    if (global_var(0) > -500) then begin
-                                        set_global_var(42, 1);
+                                    if (global_var(GVAR_PLAYER_REPUTATION) > -500) then begin
+                                        set_global_var(GVAR_KARMA_BETRAYER, 1);
                                     end
                                     else begin
-                                        if (global_var(0) > -750) then begin
-                                            set_global_var(43, 1);
+                                        if (global_var(GVAR_PLAYER_REPUTATION) > -750) then begin
+                                            set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 1);
                                         end
                                         else begin
-                                            if (global_var(0) > -1000) then begin
-                                                set_global_var(44, 1);
+                                            if (global_var(GVAR_PLAYER_REPUTATION) > -1000) then begin
+                                                set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 1);
                                             end
                                             else begin
-                                                set_global_var(45, 1);
+                                                set_global_var(GVAR_KARMA_DEMON_SPAWN, 1);
                                             end
                                         end
                                     end
@@ -468,62 +468,62 @@ begin
                         end
                     end
                 end
-                set_global_var(55, global_var(55) + -8);
+                set_global_var(GVAR_TOWN_REP_NEW_RENO, global_var(GVAR_TOWN_REP_NEW_RENO) + -8);
                 debug_msg("Added " + -8 + " to Town Rep");
             end
         end
-        if (((global_var(4) + global_var(5)) >= 25) and ((global_var(5) > (2 * global_var(4))) or (global_var(3) == 1))) then begin
-            set_global_var(3, 1);
-            set_global_var(2, 0);
+        if (((global_var(GVAR_BAD_MONSTER) + global_var(GVAR_GOOD_MONSTER)) >= 25) and ((global_var(GVAR_GOOD_MONSTER) > (2 * global_var(GVAR_BAD_MONSTER))) or (global_var(GVAR_BERSERKER_REPUTATION) == 1))) then begin
+            set_global_var(GVAR_BERSERKER_REPUTATION, 1);
+            set_global_var(GVAR_CHAMPION_REPUTATION, 0);
         end
-        if (((global_var(4) + global_var(5)) >= 25) and ((global_var(4) > (3 * global_var(5))) or (global_var(2) == 1)) and (global_var(1) == 0)) then begin
-            set_global_var(2, 1);
-            set_global_var(3, 0);
+        if (((global_var(GVAR_BAD_MONSTER) + global_var(GVAR_GOOD_MONSTER)) >= 25) and ((global_var(4) > (3 * global_var(GVAR_GOOD_MONSTER))) or (global_var(GVAR_CHAMPION_REPUTATION) == 1)) and (global_var(GVAR_CHILDKILLER_REPUTATION) == 0)) then begin
+            set_global_var(GVAR_CHAMPION_REPUTATION, 1);
+            set_global_var(GVAR_BERSERKER_REPUTATION, 0);
         end
-        set_global_var(0, global_var(0) + 5);
+        set_global_var(GVAR_PLAYER_REPUTATION, global_var(GVAR_PLAYER_REPUTATION) + 5);
         debug_msg("Player gains " + 5 + " Karma Points.");
-        set_global_var(37, 0);
-        set_global_var(38, 0);
-        set_global_var(39, 0);
-        set_global_var(40, 0);
-        set_global_var(41, 0);
-        set_global_var(42, 0);
-        set_global_var(43, 0);
-        set_global_var(44, 0);
-        set_global_var(45, 0);
-        if (global_var(0) >= 1000) then begin
-            set_global_var(37, 1);
+        set_global_var(GVAR_KARMA_HOLY_WARRIOR, 0);
+        set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 0);
+        set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 0);
+        set_global_var(GVAR_KARMA_DEFENDER, 0);
+        set_global_var(GVAR_KARMA_WANDERER, 0);
+        set_global_var(GVAR_KARMA_BETRAYER, 0);
+        set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 0);
+        set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 0);
+        set_global_var(GVAR_KARMA_DEMON_SPAWN, 0);
+        if (global_var(GVAR_PLAYER_REPUTATION) >= 1000) then begin
+            set_global_var(GVAR_KARMA_HOLY_WARRIOR, 1);
         end
         else begin
-            if (global_var(0) >= 750) then begin
-                set_global_var(38, 1);
+            if (global_var(GVAR_PLAYER_REPUTATION) >= 750) then begin
+                set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 1);
             end
             else begin
-                if (global_var(0) >= 500) then begin
-                    set_global_var(39, 1);
+                if (global_var(GVAR_PLAYER_REPUTATION) >= 500) then begin
+                    set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 1);
                 end
                 else begin
-                    if (global_var(0) >= 250) then begin
-                        set_global_var(40, 1);
+                    if (global_var(GVAR_PLAYER_REPUTATION) >= 250) then begin
+                        set_global_var(GVAR_KARMA_DEFENDER, 1);
                     end
                     else begin
-                        if (global_var(0) > -250) then begin
-                            set_global_var(41, 1);
+                        if (global_var(GVAR_PLAYER_REPUTATION) > -250) then begin
+                            set_global_var(GVAR_KARMA_WANDERER, 1);
                         end
                         else begin
-                            if (global_var(0) > -500) then begin
-                                set_global_var(42, 1);
+                            if (global_var(GVAR_PLAYER_REPUTATION) > -500) then begin
+                                set_global_var(GVAR_KARMA_BETRAYER, 1);
                             end
                             else begin
-                                if (global_var(0) > -750) then begin
-                                    set_global_var(43, 1);
+                                if (global_var(GVAR_PLAYER_REPUTATION) > -750) then begin
+                                    set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 1);
                                 end
                                 else begin
-                                    if (global_var(0) > -1000) then begin
-                                        set_global_var(44, 1);
+                                    if (global_var(GVAR_PLAYER_REPUTATION) > -1000) then begin
+                                        set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 1);
                                     end
                                     else begin
-                                        set_global_var(45, 1);
+                                        set_global_var(GVAR_KARMA_DEMON_SPAWN, 1);
                                     end
                                 end
                             end
@@ -532,7 +532,7 @@ begin
                 end
             end
         end
-        set_global_var(55, global_var(55) + 2);
+        set_global_var(GVAR_TOWN_REP_NEW_RENO, global_var(GVAR_TOWN_REP_NEW_RENO) + 2);
         debug_msg("Added " + 2 + " to Town Rep");
     end
 end
@@ -540,13 +540,13 @@ end
 procedure look_at_p_proc
 begin
     script_overrides;
-    display_msg(message_str(431, 100));
+    display_mstr(100);
 end
 
 procedure description_p_proc
 begin
     script_overrides;
-    display_msg(message_str(431, random(150, 150 + (3 * ((local_var(4) bwand 4) != 0)))));
+    display_mstr(random(150, 150 + (3 * ((local_var(4) bwand 4) != 0))));
     set_local_var(4, local_var(4) bwor 4);
 end
 
@@ -564,10 +564,10 @@ end
 
 procedure map_enter_p_proc
 begin
-    if (metarule(22, 0) == 0) then begin
-        if (metarule(14, 0)) then begin
-            critter_add_trait(self_obj, 1, 6, 185);
-            critter_add_trait(self_obj, 1, 5, 22);
+    if (is_loading_game == 0) then begin
+        if (map_first_run) then begin
+            critter_add_trait(self_obj, TRAIT_OBJECT, OBJECT_TEAM_NUM, 185);
+            critter_add_trait(self_obj, TRAIT_OBJECT, OBJECT_AI_PACKET, AI_TOUGH_GUARD);
         end
         last_timed_obj := self_obj;
         last_timed_param := last_timed_param;
@@ -578,14 +578,14 @@ end
 
 procedure map_update_p_proc
 begin
-    if ((global_var(314) bwand 4) != 0) then begin
+    if ((global_var(GVAR_NEW_RENO_FLAG_1) bwand 4) != 0) then begin
         call destroy_p_proc();
         destroy_object(self_obj);
     end
-    if ((global_var(495) bwand 536870912) != 0) then begin
-        if (has_trait(1, self_obj, 666)) then begin
+    if ((global_var(GVAR_NEW_RENO_FLAG_3) bwand 536870912) != 0) then begin
+        if (obj_is_visible_flag(self_obj)) then begin
             if (tile_in_tile_rect(22298, 22266, 29498, 29466, tile_num(self_obj)) == 0) then begin
-                if (has_trait(1, self_obj, 666) == 1) then begin
+                if (obj_is_visible_flag(self_obj) == 1) then begin
                     set_obj_visibility(self_obj, 1);
                 end
                 set_local_var(4, local_var(4) bwor 32768);
@@ -594,7 +594,7 @@ begin
     end
     else begin
         if ((local_var(4) bwand 32768) != 0) then begin
-            if (has_trait(1, self_obj, 666) == 0) then begin
+            if (obj_is_visible_flag(self_obj) == 0) then begin
                 set_obj_visibility(self_obj, 0);
             end
             set_local_var(4, local_var(4) bwand (-1 - 32768));
@@ -605,8 +605,8 @@ end
 procedure timed_event_p_proc
 begin
     if (fixed_param == 1) then begin
-        if ((combat_is_initialized == 0) and has_trait(1, self_obj, 666)) then begin
-            if (global_var(494) == 8) then begin
+        if ((combat_is_initialized == 0) and obj_is_visible_flag(self_obj)) then begin
+            if (global_var(GVAR_FALLOUT_2) == 8) then begin
                 call Node001();
             end
             else begin
@@ -633,7 +633,7 @@ end
 
 procedure Node984
 begin
-    if (((global_var(314) bwand 256) != 0) or ((local_var(4) bwand 2048) != 0)) then begin
+    if (((global_var(GVAR_NEW_RENO_FLAG_1) bwand 256) != 0) or ((local_var(4) bwand 2048) != 0)) then begin
         gdialog_mod_barter(20);
     end
     else begin
@@ -641,7 +641,7 @@ begin
             gdialog_mod_barter(-20);
         end
         else begin
-            gdialog_mod_barter(0);
+            gdialog_barter;
         end
     end
     call return_node();
@@ -651,102 +651,102 @@ procedure Node001
 begin
     floater_patch_msg := random(200, 206);
     if ((floater_patch_msg == 200) or (floater_patch_msg == 201)) then begin
-        float_msg(self_obj, message_str(431, floater_patch_msg) + obj_name(dude_obj) + message_str(431, floater_patch_msg + 5000), 8);
+        float_msg(self_obj, mstr(floater_patch_msg) + dude_name + mstr(floater_patch_msg + 5000), FLOAT_MSG_YELLOW);
     end
     else begin
-        float_msg(self_obj, message_str(431, floater_patch_msg), 8);
+        float_msg(self_obj, mstr(floater_patch_msg), FLOAT_MSG_YELLOW);
     end
 end
 
 procedure Node002
 begin
-    float_msg(self_obj, message_str(431, random(220, 228)), 8);
+    float_msg(self_obj, mstr(random(220, 228)), FLOAT_MSG_YELLOW);
 end
 
 procedure Node003
 begin
     return_node := "Node003";
-    gsay_reply(431, message_str(431, 240) + message_str(431, 241 + (get_critter_stat(dude_obj, 34) == 1)));
-    giq_option(-3, 431, 243, Node004, 50);
-    giq_option(-3, 431, 244, Node004, 50);
-    giq_option(-3, 431, 245, Node004, 50);
-    giq_option(4, 431, 246, Node004, 50);
-    giq_option(4, 431, 247, Node004, 51);
-    giq_option(4, 431, 248, Node004, 51);
+    Reply(mstr(240) + mstr(241 + (dude_gender == 1)));
+    giq_option(-3, NAME, 243, Node004, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 244, Node004, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 245, Node004, NEUTRAL_REACTION);
+    giq_option(4, NAME, 246, Node004, NEUTRAL_REACTION);
+    giq_option(4, NAME, 247, Node004, BAD_REACTION);
+    giq_option(4, NAME, 248, Node004, BAD_REACTION);
     prev_node := 3;
 end
 
 procedure Node004
 begin
     return_node := "Node004";
-    gsay_reply(431, 260);
-    giq_option(-3, 431, 261, Node005, 50);
-    giq_option(-3, 431, 245, Node005, 50);
-    giq_option(4, 431, 263, Node005, 50);
-    giq_option(4, 431, 264, Node005, 51);
+    Reply(260);
+    giq_option(-3, NAME, 261, Node005, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 245, Node005, NEUTRAL_REACTION);
+    giq_option(4, NAME, 263, Node005, NEUTRAL_REACTION);
+    giq_option(4, NAME, 264, Node005, BAD_REACTION);
     prev_node := 4;
 end
 
 procedure Node005
 begin
     return_node := "Node005";
-    set_global_var(345, global_var(345) bwor 4);
-    gsay_reply(431, 270);
-    giq_option(-3, 431, 271, Node006, 50);
-    giq_option(-3, 431, 272, Node006, 50);
-    giq_option(4, 431, 273, Node006, 50);
-    giq_option(4, 431, 274, Node006, 51);
+    set_global_var(GVAR_NEW_RENO_FLAG_2, global_var(GVAR_NEW_RENO_FLAG_2) bwor 4);
+    Reply(270);
+    giq_option(-3, NAME, 271, Node006, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 272, Node006, NEUTRAL_REACTION);
+    giq_option(4, NAME, 273, Node006, NEUTRAL_REACTION);
+    giq_option(4, NAME, 274, Node006, BAD_REACTION);
     prev_node := 5;
 end
 
 procedure Node006
 begin
     return_node := "Node006";
-    gsay_reply(431, 280);
-    giq_option(-3, 431, message_str(431, 281) + obj_name(dude_obj) + message_str(431, 5281) + obj_name(dude_obj) + message_str(431, 6281), Node008, 50);
-    giq_option(-3, 431, 282, Node008, 50);
-    giq_option(4, 431, 283, Node008, 50);
-    giq_option(4, 431, 284, Node008, 51);
+    Reply(280);
+    giq_option(-3, NAME, mstr(281) + dude_name + mstr(5281) + dude_name + mstr(6281), Node008, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 282, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 283, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 284, Node008, BAD_REACTION);
     prev_node := 6;
 end
 
 procedure Node007
 begin
     return_node := "Node007";
-    gsay_reply(431, 290 + (((global_var(314) bwand 256) != 0) or ((local_var(4) bwand 2048) != 0)));
-    giq_option(-3, 431, 292, Node990, 50);
-    giq_option(-3, 431, message_str(431, 314) + obj_name(dude_obj) + message_str(431, 5314), Node998, 51);
-    giq_option(-3, 431, 294, Node989, 50);
-    giq_option(4, 431, 295, Node989, 50);
+    Reply(290 + (((global_var(GVAR_NEW_RENO_FLAG_1) bwand 256) != 0) or ((local_var(4) bwand 2048) != 0)));
+    giq_option(-3, NAME, 292, Node990, NEUTRAL_REACTION);
+    giq_option(-3, NAME, mstr(314) + dude_name + mstr(5314), Node998, BAD_REACTION);
+    giq_option(-3, NAME, 294, Node989, NEUTRAL_REACTION);
+    giq_option(4, NAME, 295, Node989, NEUTRAL_REACTION);
     if (((local_var(4) bwand 2048) != 0) == 0) then begin
-        giq_option(4, 431, 296, Node988, 50);
+        giq_option(4, NAME, 296, Node988, NEUTRAL_REACTION);
     end
-    giq_option(4, 431, 297, Node987, 50);
-    if (global_var(286) == 1) then begin
-        giq_option(4, 431, 298, Node986, 51);
-        giq_option(6, 431, 299, Node985, 50);
+    giq_option(4, NAME, 297, Node987, NEUTRAL_REACTION);
+    if (global_var(GVAR_NEW_RENO_WRIGHT_MYSTERY) == 1) then begin
+        giq_option(4, NAME, 298, Node986, BAD_REACTION);
+        giq_option(6, NAME, 299, Node985, NEUTRAL_REACTION);
     end
-    giq_option(4, 431, 300, Node999, 51);
+    giq_option(4, NAME, 300, Node999, BAD_REACTION);
     prev_node := 7;
 end
 
 procedure Node008
 begin
     return_node := "Node008";
-    gsay_reply(431, 310 + (((local_var(4) bwand 8192) != 0) * (1 + ((((global_var(314) bwand 256) != 0) == 0) and (((local_var(4) bwand 2048) != 0) == 0)))));
-    giq_option(-3, 431, 292, Node990, 50);
-    giq_option(-3, 431, message_str(431, 314) + obj_name(dude_obj) + message_str(431, 5314), Node998, 51);
-    giq_option(-3, 431, 294, Node989, 50);
-    giq_option(4, 431, 295, Node989, 50);
+    Reply(310 + (((local_var(4) bwand 8192) != 0) * (1 + ((((global_var(GVAR_NEW_RENO_FLAG_1) bwand 256) != 0) == 0) and (((local_var(4) bwand 2048) != 0) == 0)))));
+    giq_option(-3, NAME, 292, Node990, NEUTRAL_REACTION);
+    giq_option(-3, NAME, mstr(314) + dude_name + mstr(5314), Node998, BAD_REACTION);
+    giq_option(-3, NAME, 294, Node989, NEUTRAL_REACTION);
+    giq_option(4, NAME, 295, Node989, NEUTRAL_REACTION);
     if (((local_var(4) bwand 2048) != 0) == 0) then begin
-        giq_option(4, 431, 296, Node988, 50);
+        giq_option(4, NAME, 296, Node988, NEUTRAL_REACTION);
     end
-    giq_option(4, 431, 297, Node987, 50);
-    if ((global_var(286) == 1) and (((global_var(314) bwand 64) != 0) == 0)) then begin
-        giq_option(4, 431, 298, Node986, 51);
-        giq_option(6, 431, 299, Node985, 50);
+    giq_option(4, NAME, 297, Node987, NEUTRAL_REACTION);
+    if ((global_var(GVAR_NEW_RENO_WRIGHT_MYSTERY) == 1) and (((global_var(GVAR_NEW_RENO_FLAG_1) bwand 64) != 0) == 0)) then begin
+        giq_option(4, NAME, 298, Node986, BAD_REACTION);
+        giq_option(6, NAME, 299, Node985, NEUTRAL_REACTION);
     end
-    giq_option(4, 431, 300, Node999, 51);
+    giq_option(4, NAME, 300, Node999, BAD_REACTION);
     prev_node := 8;
     set_local_var(4, local_var(4) bwor 8192);
 end
@@ -754,34 +754,34 @@ end
 procedure Node009
 begin
     return_node := "Node009";
-    gsay_reply(431, 330 + ((local_var(4) bwand 16384) != 0));
-    if (global_var(494) == 8) then begin
-        giq_option(-3, 431, 332, Node010, 50);
-        giq_option(4, 431, 338, Node010, 50);
+    Reply(330 + ((local_var(4) bwand 16384) != 0));
+    if (global_var(GVAR_FALLOUT_2) == 8) then begin
+        giq_option(-3, NAME, 332, Node010, NEUTRAL_REACTION);
+        giq_option(4, NAME, 338, Node010, NEUTRAL_REACTION);
     end
     else begin
-        if (global_var(259) > 0) then begin
-            giq_option(-3, 431, 333, Node010, 50);
-            giq_option(4, 431, 339, Node010, 50);
+        if (global_var(GVAR_NEW_RENO_HAS_REP_PRIZEFIGHTER) > 0) then begin
+            giq_option(-3, NAME, 333, Node010, NEUTRAL_REACTION);
+            giq_option(4, NAME, 339, Node010, NEUTRAL_REACTION);
         end
         else begin
-            if (global_var(232) > 0) then begin
-                giq_option(-3, 431, 334, Node010, 50);
-                giq_option(4, 431, message_str(431, 340) + message_str(353, 500 + global_var(232)) + message_str(431, 5340), Node010, 50);
+            if (global_var(GVAR_NEW_RENO_PORN_STAR) > 0) then begin
+                giq_option(-3, NAME, 334, Node010, NEUTRAL_REACTION);
+                giq_option(4, NAME, mstr(340) + message_str(SCRIPT_NEWR1, 500 + global_var(GVAR_NEW_RENO_PORN_STAR)) + mstr(5340), Node010, NEUTRAL_REACTION);
             end
             else begin
-                if (global_var(230) > 0) then begin
-                    giq_option(-3, 431, 335, Node010, 50);
-                    giq_option(4, 431, message_str(431, 341) + message_str(353, 200 + (global_var(230) / 100)) + message_str(431, 5341), Node010, 50);
+                if (global_var(GVAR_NEW_RENO_MADE_MAN) > 0) then begin
+                    giq_option(-3, NAME, 335, Node010, NEUTRAL_REACTION);
+                    giq_option(4, NAME, mstr(341) + message_str(SCRIPT_NEWR1, 200 + (global_var(GVAR_NEW_RENO_MADE_MAN) / 100)) + mstr(5341), Node010, NEUTRAL_REACTION);
                 end
             end
         end
     end
-    giq_option(-3, 431, 336, Node011, 50);
-    giq_option(-3, 431, 337, Node999, 50);
-    giq_option(4, 431, 342, Node984, 50);
-    giq_option(4, 431, 343, Node009, 50);
-    giq_option(4, 431, 344, Node999, 50);
+    giq_option(-3, NAME, 336, Node011, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 337, Node999, NEUTRAL_REACTION);
+    giq_option(4, NAME, 342, Node984, NEUTRAL_REACTION);
+    giq_option(4, NAME, 343, Node009, NEUTRAL_REACTION);
+    giq_option(4, NAME, 344, Node999, NEUTRAL_REACTION);
     prev_node := 9;
     set_local_var(4, local_var(4) bwor 16384);
 end
@@ -794,122 +794,122 @@ begin
     end
     set_local_var(4, local_var(4) bwor 512);
     return_node := "Node010";
-    gsay_reply(431, 360);
-    giq_option(-3, 431, 294, Node984, 50);
-    giq_option(-3, 431, 361, Node999, 50);
-    giq_option(4, 431, 363, Node984, 49);
-    giq_option(4, 431, 364, Node008, 50);
-    giq_option(4, 431, 365, Node999, 50);
+    Reply(360);
+    giq_option(-3, NAME, 294, Node984, NEUTRAL_REACTION);
+    giq_option(-3, NAME, 361, Node999, NEUTRAL_REACTION);
+    giq_option(4, NAME, 363, Node984, GOOD_REACTION);
+    giq_option(4, NAME, 364, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 365, Node999, NEUTRAL_REACTION);
     prev_node := 10;
 end
 
 procedure Node011
 begin
     return_node := "Node011";
-    gsay_reply(431, 375);
+    Reply(375);
     if (critter_inven_obj(self_obj, -2) > 0) then begin
-        giq_option(1, 431, 376, Node983, 50);
+        giq_option(1, NAME, 376, Node983, NEUTRAL_REACTION);
     end
-    giq_option(1, 431, obj_name(dude_obj) + message_str(431, 377), Node999, 50);
+    giq_option(1, NAME, dude_name + mstr(377), Node999, NEUTRAL_REACTION);
     prev_node := 11;
 end
 
 procedure Node012
 begin
     return_node := "Node012";
-    gsay_reply(431, 385);
-    giq_option(4, 431, 386, Node013, 49);
-    giq_option(4, 431, 387, Node013, 49);
-    giq_option(4, 431, 388, Node008, 50);
-    giq_option(4, 431, 389, Node984, 50);
-    giq_option(4, 431, 390, Node999, 50);
+    Reply(385);
+    giq_option(4, NAME, 386, Node013, GOOD_REACTION);
+    giq_option(4, NAME, 387, Node013, GOOD_REACTION);
+    giq_option(4, NAME, 388, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 389, Node984, NEUTRAL_REACTION);
+    giq_option(4, NAME, 390, Node999, NEUTRAL_REACTION);
     prev_node := 12;
 end
 
 procedure Node013
 begin
     return_node := "Node013";
-    gsay_reply(431, 400);
-    if ((global_var(345) bwand 65536) != 0) then begin
-        giq_option(4, 431, 416, Node981, 51);
-    end
-    giq_option(4, 431, 401, Node014, 49);
-    giq_option(4, 431, 402, Node014, 49);
-    giq_option(4, 431, 388, Node008, 50);
-    giq_option(4, 431, 389, Node984, 50);
-    giq_option(4, 431, 390, Node999, 50);
+    Reply(400);
+    if ((global_var(GVAR_NEW_RENO_FLAG_2) bwand 65536) != 0) then begin
+        giq_option(4, NAME, 416, Node981, BAD_REACTION);
+    end
+    giq_option(4, NAME, 401, Node014, GOOD_REACTION);
+    giq_option(4, NAME, 402, Node014, GOOD_REACTION);
+    giq_option(4, NAME, 388, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 389, Node984, NEUTRAL_REACTION);
+    giq_option(4, NAME, 390, Node999, NEUTRAL_REACTION);
     prev_node := 13;
 end
 
 procedure Node014
 begin
     return_node := "Node014";
-    gsay_reply(431, 415);
-    if ((global_var(345) bwand 65536) != 0) then begin
-        giq_option(4, 431, 416, Node981, 51);
+    Reply(415);
+    if ((global_var(GVAR_NEW_RENO_FLAG_2) bwand 65536) != 0) then begin
+        giq_option(4, NAME, 416, Node981, BAD_REACTION);
     end
-    if (has_trait(0, dude_obj, 49) or (get_critter_stat(dude_obj, 3) > 6) or (has_skill(dude_obj, 14) > 50)) then begin
-        giq_option(4, 431, 417, Node982, 49);
+    if (has_trait(TRAIT_PERK, dude_obj, PERK_smooth_talker) or (dude_charisma > 6) or (has_skill(dude_obj, SKILL_CONVERSANT) > 50)) then begin
+        giq_option(4, NAME, 417, Node982, GOOD_REACTION);
     end
-    giq_option(4, 431, 418, Node008, 50);
-    giq_option(4, 431, 419, Node984, 50);
-    giq_option(4, 431, 420, Node999, 50);
+    giq_option(4, NAME, 418, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 419, Node984, NEUTRAL_REACTION);
+    giq_option(4, NAME, 420, Node999, NEUTRAL_REACTION);
     prev_node := 14;
 end
 
 procedure Node015
 begin
     return_node := "Node015";
-    gsay_reply(431, 430);
-    giq_option(4, 431, 431, Node984, 50);
-    giq_option(4, 431, 432, Node008, 50);
-    giq_option(4, 431, 433, Node984, 51);
-    giq_option(4, 431, 434, Node999, 51);
-    giq_option(4, 431, 435, Node999, 50);
+    Reply(430);
+    giq_option(4, NAME, 431, Node984, NEUTRAL_REACTION);
+    giq_option(4, NAME, 432, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 433, Node984, BAD_REACTION);
+    giq_option(4, NAME, 434, Node999, BAD_REACTION);
+    giq_option(4, NAME, 435, Node999, NEUTRAL_REACTION);
     prev_node := 15;
 end
 
 procedure Node016
 begin
     return_node := "Node016";
-    gsay_reply(431, 445);
-    if (get_critter_stat(dude_obj, 3) > 5) then begin
-        giq_option(4, 431, 446, Node017, 49);
+    Reply(445);
+    if (dude_charisma > 5) then begin
+        giq_option(4, NAME, 446, Node017, GOOD_REACTION);
     end
-    giq_option(4, 431, 447, Node008, 50);
-    giq_option(4, 431, 448, Node999, 50);
+    giq_option(4, NAME, 447, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 448, Node999, NEUTRAL_REACTION);
     prev_node := 16;
 end
 
 procedure Node017
 begin
     return_node := "Node017";
-    gsay_reply(431, 455);
-    if (get_critter_stat(dude_obj, 3) > 5) then begin
-        giq_option(4, 431, 456, Node018, 49);
+    Reply(455);
+    if (dude_charisma > 5) then begin
+        giq_option(4, NAME, 456, Node018, GOOD_REACTION);
     end
-    giq_option(4, 431, 457, Node008, 50);
-    giq_option(4, 431, 448, Node999, 50);
+    giq_option(4, NAME, 457, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 448, Node999, NEUTRAL_REACTION);
     prev_node := 17;
 end
 
 procedure Node018
 begin
     return_node := "Node018";
-    gsay_reply(431, 465);
-    if (get_critter_stat(dude_obj, 3) > 5) then begin
-        giq_option(4, 431, 466, Node980, 49);
+    Reply(465);
+    if (dude_charisma > 5) then begin
+        giq_option(4, NAME, 466, Node980, GOOD_REACTION);
     end
-    giq_option(4, 431, 467, Node008, 50);
-    giq_option(4, 431, 448, Node999, 50);
+    giq_option(4, NAME, 467, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 448, Node999, NEUTRAL_REACTION);
     prev_node := 18;
 end
 
 procedure Node019
 begin
     return_node := "Node019";
-    gsay_reply(431, 475);
-    giq_option(4, 431, 476, Node020, 49);
+    Reply(475);
+    giq_option(4, NAME, 476, Node020, GOOD_REACTION);
     prev_node := 19;
 end
 
@@ -917,175 +917,175 @@ procedure Node020
 begin
     if (not((local_var(4) bwand 1024) != 0)) then begin
         set_local_var(4, local_var(4) bwor 1024);
-        restock_obj := create_object_sid(259, 0, 0, -1);
+        restock_obj := create_object(259, 0, 0);
         add_mult_objs_to_inven(dude_obj, restock_obj, 1);
     end
     return_node := "Node020";
-    gsay_reply(431, 480);
-    giq_option(4, 431, 481, Node984, 49);
-    giq_option(4, 431, 482, Node008, 50);
-    giq_option(4, 431, 483, Node999, 50);
+    Reply(480);
+    giq_option(4, NAME, 481, Node984, GOOD_REACTION);
+    giq_option(4, NAME, 482, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 483, Node999, NEUTRAL_REACTION);
     prev_node := 20;
 end
 
 procedure Node021
 begin
     return_node := "Node021";
-    gsay_reply(431, 490);
-    giq_option(4, 431, 491, Node023, 50);
-    giq_option(4, 431, 492, Node008, 50);
-    giq_option(4, 431, 514, Node999, 50);
+    Reply(490);
+    giq_option(4, NAME, 491, Node023, NEUTRAL_REACTION);
+    giq_option(4, NAME, 492, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 514, Node999, NEUTRAL_REACTION);
     prev_node := 21;
 end
 
 procedure Node022
 begin
     return_node := "Node022";
-    set_global_var(345, global_var(345) bwor 16);
-    gsay_reply(431, 500 + obj_can_see_obj(self_obj, party_member_obj(16777376)));
-    giq_option(4, 431, 502, Node008, 50);
-    giq_option(4, 431, 514, Node999, 50);
+    set_global_var(GVAR_NEW_RENO_FLAG_2, global_var(GVAR_NEW_RENO_FLAG_2) bwor 16);
+    Reply(500 + obj_can_see_obj(self_obj, party_member_obj(16777376)));
+    giq_option(4, NAME, 502, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 514, Node999, NEUTRAL_REACTION);
     prev_node := 22;
 end
 
 procedure Node023
 begin
     return_node := "Node023";
-    set_global_var(345, global_var(345) bwor 16);
-    gsay_reply(431, 510);
-    giq_option(4, 431, 511, Node024, 50);
-    giq_option(4, 431, 512, Node008, 50);
-    giq_option(5, 431, 513, Node025, 50);
-    giq_option(4, 431, 514, Node999, 50);
+    set_global_var(GVAR_NEW_RENO_FLAG_2, global_var(GVAR_NEW_RENO_FLAG_2) bwor 16);
+    Reply(510);
+    giq_option(4, NAME, 511, Node024, NEUTRAL_REACTION);
+    giq_option(4, NAME, 512, Node008, NEUTRAL_REACTION);
+    giq_option(5, NAME, 513, Node025, NEUTRAL_REACTION);
+    giq_option(4, NAME, 514, Node999, NEUTRAL_REACTION);
     prev_node := 23;
 end
 
 procedure Node024
 begin
     return_node := "Node024";
-    set_global_var(345, global_var(345) bwor 16);
-    gsay_reply(431, 520);
-    giq_option(4, 431, 521, Node984, 50);
-    giq_option(4, 431, 512, Node008, 50);
-    giq_option(5, 431, 523, Node025, 50);
-    giq_option(4, 431, 514, Node999, 50);
+    set_global_var(GVAR_NEW_RENO_FLAG_2, global_var(GVAR_NEW_RENO_FLAG_2) bwor 16);
+    Reply(520);
+    giq_option(4, NAME, 521, Node984, NEUTRAL_REACTION);
+    giq_option(4, NAME, 512, Node008, NEUTRAL_REACTION);
+    giq_option(5, NAME, 523, Node025, NEUTRAL_REACTION);
+    giq_option(4, NAME, 514, Node999, NEUTRAL_REACTION);
     prev_node := 24;
 end
 
 procedure Node025
 begin
     return_node := "Node025";
-    set_global_var(345, global_var(345) bwor 16);
-    gsay_reply(431, 530);
-    giq_option(5, 431, 531, Node026, 50);
-    if ((global_var(284) bwand 2) != 0) then begin
-        giq_option(7, 431, 532, Node029, 50);
-    end
-    giq_option(4, 431, 533, Node008, 50);
-    giq_option(4, 431, 534, Node999, 50);
+    set_global_var(GVAR_NEW_RENO_FLAG_2, global_var(GVAR_NEW_RENO_FLAG_2) bwor 16);
+    Reply(530);
+    giq_option(5, NAME, 531, Node026, NEUTRAL_REACTION);
+    if ((global_var(GVAR_NEW_RENO_MYRON) bwand 2) != 0) then begin
+        giq_option(7, NAME, 532, Node029, NEUTRAL_REACTION);
+    end
+    giq_option(4, NAME, 533, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 534, Node999, NEUTRAL_REACTION);
     prev_node := 25;
 end
 
 procedure Node026
 begin
     return_node := "Node026";
-    gsay_reply(431, 540);
-    giq_option(5, 431, 541, Node027, 50);
-    if ((global_var(284) bwand 2) != 0) then begin
-        giq_option(7, 431, 532, Node029, 50);
+    Reply(540);
+    giq_option(5, NAME, 541, Node027, NEUTRAL_REACTION);
+    if ((global_var(GVAR_NEW_RENO_MYRON) bwand 2) != 0) then begin
+        giq_option(7, NAME, 532, Node029, NEUTRAL_REACTION);
     end
-    giq_option(4, 431, 543, Node008, 50);
-    giq_option(4, 431, 534, Node999, 50);
+    giq_option(4, NAME, 543, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 534, Node999, NEUTRAL_REACTION);
     prev_node := 26;
 end
 
 procedure Node027
 begin
     return_node := "Node027";
-    if (metarule(17, 48) == 0) then begin
+    if (town_known(48) == 0) then begin
         debug_msg("  mark_on_map(" + 48 + ")");
         mark_area_known(0, 48, 1);
     end
-    gsay_reply(431, 550);
-    giq_option(5, 431, 551, Node028, 50);
-    if ((global_var(284) bwand 2) != 0) then begin
-        giq_option(7, 431, 532, Node029, 50);
+    Reply(550);
+    giq_option(5, NAME, 551, Node028, NEUTRAL_REACTION);
+    if ((global_var(GVAR_NEW_RENO_MYRON) bwand 2) != 0) then begin
+        giq_option(7, NAME, 532, Node029, NEUTRAL_REACTION);
     end
-    giq_option(4, 431, 543, Node008, 50);
-    giq_option(4, 431, 554, Node999, 50);
+    giq_option(4, NAME, 543, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 554, Node999, NEUTRAL_REACTION);
     prev_node := 27;
 end
 
 procedure Node028
 begin
     return_node := "Node028";
-    gsay_reply(431, 560);
-    giq_option(4, 431, 561, Node984, 50);
-    if ((global_var(284) bwand 2) != 0) then begin
-        giq_option(7, 431, 532, Node029, 50);
+    Reply(560);
+    giq_option(4, NAME, 561, Node984, NEUTRAL_REACTION);
+    if ((global_var(GVAR_NEW_RENO_MYRON) bwand 2) != 0) then begin
+        giq_option(7, NAME, 532, Node029, NEUTRAL_REACTION);
     end
-    giq_option(4, 431, 707, Node008, 50);
-    giq_option(4, 431, 564, Node999, 50);
+    giq_option(4, NAME, 707, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 564, Node999, NEUTRAL_REACTION);
     prev_node := 28;
 end
 
 procedure Node029
 begin
     return_node := "Node029";
-    gsay_reply(431, 570);
-    giq_option(4, 431, 571, Node030, 50);
-    giq_option(4, 431, 572, Node008, 50);
-    giq_option(4, 431, 573, Node999, 50);
+    Reply(570);
+    giq_option(4, NAME, 571, Node030, NEUTRAL_REACTION);
+    giq_option(4, NAME, 572, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 573, Node999, NEUTRAL_REACTION);
     prev_node := 29;
 end
 
 procedure Node030
 begin
     return_node := "Node030";
-    gsay_reply(431, 580);
-    giq_option(4, 431, 581, Node031, 50);
-    giq_option(7, 431, 582, Node032, 51);
-    giq_option(4, 431, 572, Node008, 50);
-    giq_option(4, 431, 584, Node999, 50);
+    Reply(580);
+    giq_option(4, NAME, 581, Node031, NEUTRAL_REACTION);
+    giq_option(7, NAME, 582, Node032, BAD_REACTION);
+    giq_option(4, NAME, 572, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 584, Node999, NEUTRAL_REACTION);
     prev_node := 30;
 end
 
 procedure Node031
 begin
     return_node := "Node031";
-    gsay_reply(431, 590);
-    giq_option(4, 431, 561, Node984, 50);
-    giq_option(7, 431, 592, Node032, 51);
-    giq_option(4, 431, 572, Node008, 50);
-    giq_option(4, 431, 584, Node999, 50);
+    Reply(590);
+    giq_option(4, NAME, 561, Node984, NEUTRAL_REACTION);
+    giq_option(7, NAME, 592, Node032, BAD_REACTION);
+    giq_option(4, NAME, 572, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 584, Node999, NEUTRAL_REACTION);
     prev_node := 31;
 end
 
 procedure Node032
 begin
     return_node := "Node032";
-    set_global_var(284, global_var(284) bwor 8192);
-    gsay_reply(431, 600);
-    giq_option(4, 431, 601, Node033, 51);
-    giq_option(4, 431, 602, Node033, 51);
-    giq_option(4, 431, 603, Node033, 51);
+    set_global_var(GVAR_NEW_RENO_MYRON, global_var(GVAR_NEW_RENO_MYRON) bwor 8192);
+    Reply(600);
+    giq_option(4, NAME, 601, Node033, BAD_REACTION);
+    giq_option(4, NAME, 602, Node033, BAD_REACTION);
+    giq_option(4, NAME, 603, Node033, BAD_REACTION);
     prev_node := 32;
 end
 
 procedure Node033
 begin
     return_node := "Node033";
-    if ((get_critter_stat(dude_obj, 34) == 1) and (get_critter_stat(dude_obj, 3) > 5)) then begin
-        gsay_reply(431, 611);
-        giq_option(4, 431, 612, Node984, 50);
-        giq_option(4, 431, 615, Node008, 50);
-        giq_option(4, 431, 616, Node999, 50);
+    if ((dude_gender == 1) and (dude_charisma > 5)) then begin
+        Reply(611);
+        giq_option(4, NAME, 612, Node984, NEUTRAL_REACTION);
+        giq_option(4, NAME, 615, Node008, NEUTRAL_REACTION);
+        giq_option(4, NAME, 616, Node999, NEUTRAL_REACTION);
     end
     else begin
-        gsay_reply(431, 610);
-        giq_option(4, 431, 613, Node984, 50);
-        giq_option(4, 431, 614, Node008, 50);
-        giq_option(4, 431, 617, Node999, 50);
+        Reply(610);
+        giq_option(4, NAME, 613, Node984, NEUTRAL_REACTION);
+        giq_option(4, NAME, 614, Node008, NEUTRAL_REACTION);
+        giq_option(4, NAME, 617, Node999, NEUTRAL_REACTION);
     end
     prev_node := 33;
 end
@@ -1093,72 +1093,72 @@ end
 procedure Node036
 begin
     return_node := "Node036";
-    gsay_reply(431, 625);
+    Reply(625);
     if ((prev_node == 7) or (prev_node == 8)) then begin
-        giq_option(4, 431, 626, Node984, 50);
+        giq_option(4, NAME, 626, Node984, NEUTRAL_REACTION);
         if (obj_is_carrying_obj_pid(dude_obj, 416)) then begin
-            giq_option(4, 431, 627, Node040, 50);
+            giq_option(4, NAME, 627, Node040, NEUTRAL_REACTION);
         end
-        if ((global_var(314) bwand 1024) != 0) then begin
-            giq_option(4, 431, 628, Node043, 50);
+        if ((global_var(GVAR_NEW_RENO_FLAG_1) bwand 1024) != 0) then begin
+            giq_option(4, NAME, 628, Node043, NEUTRAL_REACTION);
         end
     end
-    giq_option(4, 431, 629, Node008, 50);
-    giq_option(4, 431, 727, Node999, 50);
+    giq_option(4, NAME, 629, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 727, Node999, NEUTRAL_REACTION);
     prev_node := 36;
 end
 
 procedure Node037
 begin
     return_node := "Node037";
-    if (((global_var(314) bwand 256) != 0) == 0) then begin
+    if (((global_var(GVAR_NEW_RENO_FLAG_1) bwand 256) != 0) == 0) then begin
         set_local_var(5, local_var(5) + 20);
         gdialog_set_barter_mod(local_var(5));
     end
-    set_global_var(314, global_var(314) bwor 256);
-    gsay_reply(431, 635);
-    giq_option(4, 431, 636, Node038, 51);
-    giq_option(4, 431, 637, Node038, 51);
-    giq_option(4, 431, 638, Node038, 51);
-    giq_option(4, 431, 639, Node038, 51);
+    set_global_var(GVAR_NEW_RENO_FLAG_1, global_var(GVAR_NEW_RENO_FLAG_1) bwor 256);
+    Reply(635);
+    giq_option(4, NAME, 636, Node038, BAD_REACTION);
+    giq_option(4, NAME, 637, Node038, BAD_REACTION);
+    giq_option(4, NAME, 638, Node038, BAD_REACTION);
+    giq_option(4, NAME, 639, Node038, BAD_REACTION);
     prev_node := 37;
 end
 
 procedure Node038
 begin
     return_node := "Node038";
-    if (global_var(544) == 0) then begin
-        set_global_var(544, 1);
+    if (global_var(GVAR_NEW_RENO_SUSPECT_JULES) == 0) then begin
+        set_global_var(GVAR_NEW_RENO_SUSPECT_JULES, 1);
     end
-    if (global_var(545) == 0) then begin
-        set_global_var(545, 1);
+    if (global_var(GVAR_NEW_RENO_SUSPECT_LIL_JESUS) == 0) then begin
+        set_global_var(GVAR_NEW_RENO_SUSPECT_LIL_JESUS, 1);
     end
-    gsay_reply(431, 645);
-    giq_option(4, 431, 646, Node039, 51);
-    giq_option(4, 431, 637, Node039, 51);
-    giq_option(4, 431, 648, Node039, 51);
-    giq_option(4, 431, 639, Node039, 51);
+    Reply(645);
+    giq_option(4, NAME, 646, Node039, BAD_REACTION);
+    giq_option(4, NAME, 637, Node039, BAD_REACTION);
+    giq_option(4, NAME, 648, Node039, BAD_REACTION);
+    giq_option(4, NAME, 639, Node039, BAD_REACTION);
     prev_node := 38;
 end
 
 procedure Node039
 begin
     return_node := "Node039";
-    gsay_reply(431, 655);
-    if ((global_var(314) bwand 512) != 0) then begin
-        giq_option(4, 431, 656, Node044, 51);
+    Reply(655);
+    if ((global_var(GVAR_NEW_RENO_FLAG_1) bwand 512) != 0) then begin
+        giq_option(4, NAME, 656, Node044, BAD_REACTION);
     end
     if (obj_is_carrying_obj_pid(dude_obj, 416)) then begin
-        giq_option(4, 431, 627, Node040, 50);
+        giq_option(4, NAME, 627, Node040, NEUTRAL_REACTION);
     end
-    if ((global_var(314) bwand 1024) != 0) then begin
-        giq_option(4, 431, 628, Node043, 50);
+    if ((global_var(GVAR_NEW_RENO_FLAG_1) bwand 1024) != 0) then begin
+        giq_option(4, NAME, 628, Node043, NEUTRAL_REACTION);
     end
-    giq_option(4, 431, 659, Node008, 50);
-    giq_option(4, 431, 660 + (global_var(0) < 0), Node998, 51);
-    giq_option(4, 431, 662, Node999, 50);
-    if (global_var(0) >= 0) then begin
-        giq_option(4, 431, 663, Node999, 50);
+    giq_option(4, NAME, 659, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 660 + (global_var(GVAR_PLAYER_REPUTATION) < 0), Node998, BAD_REACTION);
+    giq_option(4, NAME, 662, Node999, NEUTRAL_REACTION);
+    if (global_var(GVAR_PLAYER_REPUTATION) >= 0) then begin
+        giq_option(4, NAME, 663, Node999, NEUTRAL_REACTION);
     end
     prev_node := 39;
 end
@@ -1166,84 +1166,84 @@ end
 procedure Node040
 begin
     return_node := "Node040";
-    if (((global_var(314) bwand 2048) != 0) == 0) then begin
-        if (((global_var(314) bwand 1024) != 0) == 0) then begin
-            display_msg(message_str(431, 800));
+    if (((global_var(GVAR_NEW_RENO_FLAG_1) bwand 2048) != 0) == 0) then begin
+        if (((global_var(GVAR_NEW_RENO_FLAG_1) bwand 1024) != 0) == 0) then begin
+            display_mstr(800);
         end
         give_exp_points(500);
-        display_msg(message_str(14, 100) + 500 + message_str(14, 101));
-        set_global_var(314, global_var(314) bwor 2048);
+        display_msg(g_mstr(100) + 500 + g_mstr(101));
+        set_global_var(GVAR_NEW_RENO_FLAG_1, global_var(GVAR_NEW_RENO_FLAG_1) bwor 2048);
     end
-    gsay_reply(431, 675);
-    giq_option(4, 431, 676, Node041, 50);
-    giq_option(4, 431, 677, Node008, 50);
-    giq_option(4, 431, 678, Node999, 50);
+    Reply(675);
+    giq_option(4, NAME, 676, Node041, NEUTRAL_REACTION);
+    giq_option(4, NAME, 677, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 678, Node999, NEUTRAL_REACTION);
     prev_node := 40;
 end
 
 procedure Node041
 begin
     return_node := "Node041";
-    gsay_reply(431, 685);
-    giq_option(4, 431, 686, Node042, 50);
-    giq_option(4, 431, 677, Node008, 50);
-    giq_option(4, 431, 678, Node999, 50);
+    Reply(685);
+    giq_option(4, NAME, 686, Node042, NEUTRAL_REACTION);
+    giq_option(4, NAME, 677, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 678, Node999, NEUTRAL_REACTION);
     prev_node := 41;
 end
 
 procedure Node042
 begin
     return_node := "Node042";
-    gsay_reply(431, 695);
-    giq_option(4, 431, 696, Node008, 50);
-    giq_option(4, 431, 697, Node999, 50);
+    Reply(695);
+    giq_option(4, NAME, 696, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 697, Node999, NEUTRAL_REACTION);
     prev_node := 42;
 end
 
 procedure Node043
 begin
     return_node := "Node043";
-    gsay_reply(431, 705);
-    giq_option(4, 431, 706, Node036, 50);
-    giq_option(4, 431, 707, Node008, 50);
-    giq_option(4, 431, 708, Node999, 50);
+    Reply(705);
+    giq_option(4, NAME, 706, Node036, NEUTRAL_REACTION);
+    giq_option(4, NAME, 707, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 708, Node999, NEUTRAL_REACTION);
     prev_node := 43;
 end
 
 procedure Node044
 begin
     return_node := "Node044";
-    gsay_reply(431, 715);
-    giq_option(4, 431, 716, Node045, 50);
-    giq_option(4, 431, 707, Node008, 50);
-    giq_option(4, 431, 708, Node999, 50);
+    Reply(715);
+    giq_option(4, NAME, 716, Node045, NEUTRAL_REACTION);
+    giq_option(4, NAME, 707, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 708, Node999, NEUTRAL_REACTION);
     prev_node := 44;
 end
 
 procedure Node045
 begin
     return_node := "Node045";
-    if (((global_var(314) bwand 256) != 0) == 0) then begin
+    if (((global_var(GVAR_NEW_RENO_FLAG_1) bwand 256) != 0) == 0) then begin
         set_local_var(5, local_var(5) + 20);
         gdialog_set_barter_mod(local_var(5));
     end
-    set_global_var(314, global_var(314) bwor 256);
-    gsay_reply(431, 725);
-    giq_option(4, 431, 707, Node008, 50);
-    giq_option(4, 431, 727, Node999, 50);
+    set_global_var(GVAR_NEW_RENO_FLAG_1, global_var(GVAR_NEW_RENO_FLAG_1) bwor 256);
+    Reply(725);
+    giq_option(4, NAME, 707, Node008, NEUTRAL_REACTION);
+    giq_option(4, NAME, 727, Node999, NEUTRAL_REACTION);
     prev_node := 45;
 end
 
 procedure Node990
 begin
-    if ((((local_var(4) bwand 512) != 0) == 0) and ((global_var(494) == 8) or (global_var(232) > 0) or (global_var(259) > 0) or (global_var(230) > 0))) then begin
+    if ((((local_var(4) bwand 512) != 0) == 0) and ((global_var(GVAR_FALLOUT_2) == 8) or (global_var(GVAR_NEW_RENO_PORN_STAR) > 0) or (global_var(GVAR_NEW_RENO_HAS_REP_PRIZEFIGHTER) > 0) or (global_var(GVAR_NEW_RENO_MADE_MAN) > 0))) then begin
         call Node009();
     end
 end
 
 procedure Node989
 begin
-    if ((((local_var(4) bwand 512) != 0) == 0) and ((global_var(494) == 8) or (global_var(232) > 0) or (global_var(259) > 0) or (global_var(230) > 0))) then begin
+    if ((((local_var(4) bwand 512) != 0) == 0) and ((global_var(GVAR_FALLOUT_2) == 8) or (global_var(GVAR_NEW_RENO_PORN_STAR) > 0) or (global_var(GVAR_NEW_RENO_HAS_REP_PRIZEFIGHTER) > 0) or (global_var(GVAR_NEW_RENO_MADE_MAN) > 0))) then begin
         call Node009();
     end
     else begin
@@ -1253,7 +1253,7 @@ end
 
 procedure Node988
 begin
-    if ((((local_var(4) bwand 512) != 0) == 0) and ((global_var(494) == 8) or (global_var(232) > 0) or (global_var(259) > 0) or (global_var(230) > 0))) then begin
+    if ((((local_var(4) bwand 512) != 0) == 0) and ((global_var(GVAR_FALLOUT_2) == 8) or (global_var(GVAR_NEW_RENO_PORN_STAR) > 0) or (global_var(GVAR_NEW_RENO_HAS_REP_PRIZEFIGHTER) > 0) or (global_var(GVAR_NEW_RENO_MADE_MAN) > 0))) then begin
         call Node009();
     end
     else begin
@@ -1263,11 +1263,11 @@ end
 
 procedure Node987
 begin
-    if ((((local_var(4) bwand 512) != 0) == 0) and ((global_var(494) == 8) or (global_var(232) > 0) or (global_var(259) > 0) or (global_var(230) > 0))) then begin
+    if ((((local_var(4) bwand 512) != 0) == 0) and ((global_var(GVAR_FALLOUT_2) == 8) or (global_var(GVAR_NEW_RENO_PORN_STAR) > 0) or (global_var(GVAR_NEW_RENO_HAS_REP_PRIZEFIGHTER) > 0) or (global_var(GVAR_NEW_RENO_MADE_MAN) > 0))) then begin
         call Node009();
     end
     else begin
-        if (((global_var(284) bwand 16) != 0) or ((global_var(284) bwand 8) != 0) or obj_can_see_obj(self_obj, party_member_obj(16777376))) then begin
+        if (((global_var(GVAR_NEW_RENO_MYRON) bwand 16) != 0) or ((global_var(GVAR_NEW_RENO_MYRON) bwand 8) != 0) or obj_can_see_obj(self_obj, party_member_obj(16777376))) then begin
             call Node022();
         end
         else begin
@@ -1278,7 +1278,7 @@ end
 
 procedure Node986
 begin
-    if ((((local_var(4) bwand 512) != 0) == 0) and ((global_var(494) == 8) or (global_var(232) > 0) or (global_var(259) > 0) or (global_var(230) > 0))) then begin
+    if ((((local_var(4) bwand 512) != 0) == 0) and ((global_var(GVAR_FALLOUT_2) == 8) or (global_var(GVAR_NEW_RENO_PORN_STAR) > 0) or (global_var(GVAR_NEW_RENO_HAS_REP_PRIZEFIGHTER) > 0) or (global_var(GVAR_NEW_RENO_MADE_MAN) > 0))) then begin
         call Node009();
     end
     else begin
@@ -1288,7 +1288,7 @@ end
 
 procedure Node985
 begin
-    if ((((local_var(4) bwand 512) != 0) == 0) and ((global_var(494) == 8) or (global_var(232) > 0) or (global_var(259) > 0) or (global_var(230) > 0))) then begin
+    if ((((local_var(4) bwand 512) != 0) == 0) and ((global_var(GVAR_FALLOUT_2) == 8) or (global_var(GVAR_NEW_RENO_PORN_STAR) > 0) or (global_var(GVAR_NEW_RENO_HAS_REP_PRIZEFIGHTER) > 0) or (global_var(GVAR_NEW_RENO_MADE_MAN) > 0))) then begin
         call Node009();
     end
     else begin
@@ -1299,50 +1299,50 @@ end
 procedure Node983
 begin
     if (((local_var(4) bwand 4096) != 0) == 0) then begin
-        set_global_var(0, global_var(0) + -3);
+        set_global_var(GVAR_PLAYER_REPUTATION, global_var(GVAR_PLAYER_REPUTATION) + -3);
         debug_msg("Player gains " + -3 + " Karma Points.");
-        set_global_var(37, 0);
-        set_global_var(38, 0);
-        set_global_var(39, 0);
-        set_global_var(40, 0);
-        set_global_var(41, 0);
-        set_global_var(42, 0);
-        set_global_var(43, 0);
-        set_global_var(44, 0);
-        set_global_var(45, 0);
-        if (global_var(0) >= 1000) then begin
-            set_global_var(37, 1);
+        set_global_var(GVAR_KARMA_HOLY_WARRIOR, 0);
+        set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 0);
+        set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 0);
+        set_global_var(GVAR_KARMA_DEFENDER, 0);
+        set_global_var(GVAR_KARMA_WANDERER, 0);
+        set_global_var(GVAR_KARMA_BETRAYER, 0);
+        set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 0);
+        set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 0);
+        set_global_var(GVAR_KARMA_DEMON_SPAWN, 0);
+        if (global_var(GVAR_PLAYER_REPUTATION) >= 1000) then begin
+            set_global_var(GVAR_KARMA_HOLY_WARRIOR, 1);
         end
         else begin
-            if (global_var(0) >= 750) then begin
-                set_global_var(38, 1);
+            if (global_var(GVAR_PLAYER_REPUTATION) >= 750) then begin
+                set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 1);
             end
             else begin
-                if (global_var(0) >= 500) then begin
-                    set_global_var(39, 1);
+                if (global_var(GVAR_PLAYER_REPUTATION) >= 500) then begin
+                    set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 1);
                 end
                 else begin
-                    if (global_var(0) >= 250) then begin
-                        set_global_var(40, 1);
+                    if (global_var(GVAR_PLAYER_REPUTATION) >= 250) then begin
+                        set_global_var(GVAR_KARMA_DEFENDER, 1);
                     end
                     else begin
-                        if (global_var(0) > -250) then begin
-                            set_global_var(41, 1);
+                        if (global_var(GVAR_PLAYER_REPUTATION) > -250) then begin
+                            set_global_var(GVAR_KARMA_WANDERER, 1);
                         end
                         else begin
-                            if (global_var(0) > -500) then begin
-                                set_global_var(42, 1);
+                            if (global_var(GVAR_PLAYER_REPUTATION) > -500) then begin
+                                set_global_var(GVAR_KARMA_BETRAYER, 1);
                             end
                             else begin
-                                if (global_var(0) > -750) then begin
-                                    set_global_var(43, 1);
+                                if (global_var(GVAR_PLAYER_REPUTATION) > -750) then begin
+                                    set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 1);
                                 end
                                 else begin
-                                    if (global_var(0) > -1000) then begin
-                                        set_global_var(44, 1);
+                                    if (global_var(GVAR_PLAYER_REPUTATION) > -1000) then begin
+                                        set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 1);
                                     end
                                     else begin
-                                        set_global_var(45, 1);
+                                        set_global_var(GVAR_KARMA_DEMON_SPAWN, 1);
                                     end
                                 end
                             end
@@ -1385,4 +1385,3 @@ begin
         call Node019();
     end
 end
-
