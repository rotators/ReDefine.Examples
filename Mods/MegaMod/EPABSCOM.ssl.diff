diff --git a/Mods/MegaMod/Original/EPABSCOM.ssl b/Mods/MegaMod/ReDefine/EPABSCOM.ssl
index ae50fe2..31c13a6 100644
--- a/Mods/MegaMod/Original/EPABSCOM.ssl
+++ b/Mods/MegaMod/ReDefine/EPABSCOM.ssl
@@ -158,28 +158,28 @@ begin
     end
     if (critter_inven_obj(self_obj, 0) != arg0) then begin
         if (critter_inven_obj(self_obj, 0) == 0) then begin
-            metarule3(107, self_obj, 16777216 + arg1, 0);
+            art_change_fid_num(self_obj, 16777216 + arg1);
         end
         if ((obj_pid(critter_inven_obj(self_obj, 0)) == 1) or (obj_pid(critter_inven_obj(self_obj, 0)) == 379)) then begin
-            metarule3(107, self_obj, 16777228, 0);
+            art_change_fid_num(self_obj, 16777228);
         end
         if ((obj_pid(critter_inven_obj(self_obj, 0)) == 232) or (obj_pid(critter_inven_obj(self_obj, 0)) == 3)) then begin
-            metarule3(107, self_obj, 16777217, 0);
+            art_change_fid_num(self_obj, 16777217);
         end
         if ((obj_pid(critter_inven_obj(self_obj, 0)) == 349) or (obj_pid(critter_inven_obj(self_obj, 0)) == 348)) then begin
-            metarule3(107, self_obj, 16777287, 0);
+            art_change_fid_num(self_obj, 16777287);
         end
         if ((obj_pid(critter_inven_obj(self_obj, 0)) == 240) or (obj_pid(critter_inven_obj(self_obj, 0)) == 380) or (obj_pid(critter_inven_obj(self_obj, 0)) == 2)) then begin
-            metarule3(107, self_obj, 16777230, 0);
+            art_change_fid_num(self_obj, 16777230);
         end
         if ((obj_pid(critter_inven_obj(self_obj, 0)) == 74) or (obj_pid(critter_inven_obj(self_obj, 0)) == 265)) then begin
-            metarule3(107, self_obj, 16777229, 0);
+            art_change_fid_num(self_obj, 16777229);
         end
         if ((obj_pid(critter_inven_obj(self_obj, 0)) == 239) or (obj_pid(critter_inven_obj(self_obj, 0)) == 17) or (obj_pid(critter_inven_obj(self_obj, 0)) == 381)) then begin
-            metarule3(107, self_obj, 16777226, 0);
+            art_change_fid_num(self_obj, 16777226);
         end
         if ((obj_pid(critter_inven_obj(self_obj, 0)) == 524) or (obj_pid(critter_inven_obj(self_obj, 0)) == 113)) then begin
-            metarule3(107, self_obj, 16777218, 0);
+            art_change_fid_num(self_obj, 16777218);
         end
         LVar2 := critter_inven_obj(self_obj, 1);
         debug_msg("armour pid == " + obj_pid(LVar2));
@@ -200,7 +200,7 @@ end
 
 procedure use_p_proc
 begin
-    if ((global_var(1072) == 2) and (map_var(9) == 1)) then begin
+    if ((global_var(GVAR_BRTHD_NETWORK) == 2) and (map_var(9) == 1)) then begin
         start_gdialog(1684, self_obj, -1, -1, -1);
         gsay_start;
         call Node001();
@@ -243,10 +243,10 @@ end
 
 procedure Node001
 begin
-    gsay_reply(1684, 3000);
-    gsay_option(1684, 3010, check_it, -1);
-    gsay_option(1684, 3011, run_it, -1);
-    gsay_option(1684, 3012, Node999, -1);
+    gsay_reply(SCRIPT_EPADAN, 3000);
+    giq_option(1, SCRIPT_EPADAN, 3010, check_it, -1);
+    giq_option(1, SCRIPT_EPADAN, 3011, run_it, -1);
+    giq_option(1, SCRIPT_EPADAN, 3012, Node999, -1);
 end
 
 procedure Node999
@@ -256,12 +256,12 @@ end
 procedure check_it
 begin
     if ((map_var(1) == 1) and (map_var(2) == 2) and (map_var(3) == 3) and (map_var(4) == 4) and (map_var(5) == 5) and (map_var(6) == 6)) then begin
-        gsay_reply(1684, 3101);
+        gsay_reply(SCRIPT_EPADAN, 3101);
     end
     else begin
-        gsay_reply(1684, 3100);
+        gsay_reply(SCRIPT_EPADAN, 3100);
     end
-    gsay_option(1684, 6001, Node001, -1);
+    giq_option(1, SCRIPT_EPADAN, 6001, Node001, -1);
 end
 
 procedure run_it
@@ -277,4 +277,3 @@ end
 procedure timed_event_p_proc
 begin
 end
-
