diff --git a/Mods/MutantsRising.demo/Original/OBJ_DUDE.ssl b/Mods/MutantsRising.demo/ReDefine/OBJ_DUDE.ssl
index 7b19e06..1ce62db 100644
--- a/Mods/MutantsRising.demo/Original/OBJ_DUDE.ssl
+++ b/Mods/MutantsRising.demo/ReDefine/OBJ_DUDE.ssl
@@ -258,53 +258,53 @@ end
 procedure ChooseFromList
 begin
     variable LVar0 := 0;
-    gsay_reply(1, GVar22);
-    if (message_str(353, GVar24 - 1) != "") then begin
-        giq_option(1, 1, message_str(353, 150), CLICK_PREV, 50);
+    Reply(GVar22);
+    if (message_str(SCRIPT_NEWR1, GVar24 - 1) != "") then begin
+        giq_option(1, NAME, message_str(SCRIPT_NEWR1, 150), CLICK_PREV, NEUTRAL_REACTION);
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, GVar24 + 0) != "") then begin
-            giq_option(1, 1, message_str(353, GVar24 + 0), CLICK_0, 50);
+        if (message_str(SCRIPT_NEWR1, GVar24 + 0) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, GVar24 + 0), CLICK_0, NEUTRAL_REACTION);
         end
         else begin
             LVar0 := 1;
         end
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, GVar24 + 1) != "") then begin
-            giq_option(1, 1, message_str(353, GVar24 + 1), CLICK_1, 50);
+        if (message_str(SCRIPT_NEWR1, GVar24 + 1) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, GVar24 + 1), CLICK_1, NEUTRAL_REACTION);
         end
         else begin
             LVar0 := 1;
         end
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, GVar24 + 2) != "") then begin
-            giq_option(1, 1, message_str(353, GVar24 + 2), CLICK_2, 50);
+        if (message_str(SCRIPT_NEWR1, GVar24 + 2) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, GVar24 + 2), CLICK_2, NEUTRAL_REACTION);
         end
         else begin
             LVar0 := 1;
         end
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, GVar24 + 3) != "") then begin
-            giq_option(1, 1, message_str(353, GVar24 + 3), CLICK_3, 50);
+        if (message_str(SCRIPT_NEWR1, GVar24 + 3) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, GVar24 + 3), CLICK_3, NEUTRAL_REACTION);
         end
         else begin
             LVar0 := 1;
         end
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, GVar24 + 4) != "") then begin
-            giq_option(1, 1, message_str(353, GVar24 + 4), CLICK_4, 50);
+        if (message_str(SCRIPT_NEWR1, GVar24 + 4) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, GVar24 + 4), CLICK_4, NEUTRAL_REACTION);
         end
         else begin
             LVar0 := 1;
         end
     end
     if (LVar0 == 0) then begin
-        if (message_str(353, GVar24 + 5) != "") then begin
-            giq_option(1, 1, message_str(353, 151), CLICK_MORE, 50);
+        if (message_str(SCRIPT_NEWR1, GVar24 + 5) != "") then begin
+            giq_option(1, NAME, message_str(SCRIPT_NEWR1, 151), CLICK_MORE, NEUTRAL_REACTION);
         end
     end
 end
@@ -437,32 +437,32 @@ procedure timed_event_p_proc
 begin
     if (fixed_param == 10) then begin
         move_obj_inven_to_obj(self_obj, khans_dude_box);
-        if (get_critter_stat(dude_obj, 34) == 0) then begin
-            metarule3(107, self_obj, 16777342, 0);
+        if (dude_gender == 0) then begin
+            art_change_fid_num(self_obj, 16777342);
         end
         game_ui_enable;
-        float_msg(dude_obj, message_str(1, 100), -2);
-        set_global_var(761, 4);
+        float_msg(dude_obj, mstr(100), FLOAT_MSG_WARNING);
+        set_global_var(GVAR_ARENA_FIGHT, 4);
     end
     if (fixed_param == 11) then begin
         gfade_out(10);
         game_ui_enable;
         move_obj_inven_to_obj(khans_dude_box, self_obj);
-        if (get_critter_stat(dude_obj, 34) == 0) then begin
-            metarule3(107, self_obj, 16777227, 0);
+        if (dude_gender == 0) then begin
+            art_change_fid_num(self_obj, 16777227);
         end
-        if ((global_var(761) == 6) and (global_var(776) != 3)) then begin
+        if ((global_var(GVAR_ARENA_FIGHT) == 6) and (global_var(GVAR_KHANS_PROVE_YOURSELF) != 3)) then begin
             move_to(dude_obj, 19896, 0);
             anim(dude_obj, 1000, 2);
-            set_global_var(761, 7);
+            set_global_var(GVAR_ARENA_FIGHT, 7);
         end
         else begin
-            if (global_var(775) == 4) then begin
+            if (global_var(GVAR_KHANS_FIND_BRIEFCASE) == 4) then begin
                 move_to(dude_obj, 17886, 0);
                 anim(dude_obj, 1000, 5);
             end
             else begin
-                if (global_var(776) >= 3) then begin
+                if (global_var(GVAR_KHANS_PROVE_YOURSELF) >= 3) then begin
                     move_to(dude_obj, 17886, 0);
                     anim(dude_obj, 1000, 5);
                 end
@@ -472,18 +472,18 @@ begin
     end
     if (fixed_param == 12) then begin
         move_obj_inven_to_obj(self_obj, khans_dude_box);
-        if (get_critter_stat(dude_obj, 34) == 0) then begin
-            metarule3(107, self_obj, 16777342, 0);
+        if (dude_gender == 0) then begin
+            art_change_fid_num(self_obj, 16777342);
         end
         if (map_var(3) == 1) then begin
-            GVar33 := create_object_sid(4, 0, 0, -1);
+            GVar33 := create_object(4, 0, 0);
             add_obj_to_inven(self_obj, GVar33);
             GVar33 := obj_carrying_pid_obj(self_obj, 4);
             wield_obj_critter(self_obj, GVar33);
         end
         game_ui_enable;
-        float_msg(dude_obj, message_str(1, 100), -2);
-        if (cur_map_index == 23) then begin
+        float_msg(dude_obj, mstr(100), FLOAT_MSG_WARNING);
+        if (CUR_MAP_MODWELL) then begin
             set_map_var(0, 2);
         end
     end
@@ -510,7 +510,7 @@ begin
                     end
                     else begin
                         if ((critter_inven_obj(dude_obj, 2) == GVar16) or (critter_inven_obj(dude_obj, 1) == GVar16)) then begin
-                            metarule(43, dude_obj);
+                            inven_unwield(dude_obj);
                         end
                     end
                 end
@@ -522,7 +522,7 @@ begin
         end
     end
     if (fixed_param == 15) then begin
-        if (global_var(869) == 5) then begin
+        if (global_var(GVAR_DELIVER_TERRANCES_LETTER) == 5) then begin
             GVar18 := obj_is_carrying_obj_pid(dude_obj, 634);
             if (1 < GVar18) then begin
                 GVar18 := 1;
@@ -541,7 +541,7 @@ begin
                     end
                     else begin
                         if ((critter_inven_obj(dude_obj, 2) == GVar16) or (critter_inven_obj(dude_obj, 1) == GVar16)) then begin
-                            metarule(43, dude_obj);
+                            inven_unwield(dude_obj);
                         end
                     end
                 end
@@ -550,10 +550,10 @@ begin
             end
             GVar16 := 0;
             GVar15 := 0;
-            add_obj_to_inven(dude_obj, create_object_sid(633, 0, 0, -1));
+            add_obj_to_inven(dude_obj, create_object(633, 0, 0));
         end
         else begin
-            if (global_var(869) == 6) then begin
+            if (global_var(GVAR_DELIVER_TERRANCES_LETTER) == 6) then begin
                 GVar18 := obj_is_carrying_obj_pid(dude_obj, 641);
                 if (1 < GVar18) then begin
                     GVar18 := 1;
@@ -572,7 +572,7 @@ begin
                         end
                         else begin
                             if ((critter_inven_obj(dude_obj, 2) == GVar16) or (critter_inven_obj(dude_obj, 1) == GVar16)) then begin
-                                metarule(43, dude_obj);
+                                inven_unwield(dude_obj);
                             end
                         end
                     end
@@ -603,7 +603,7 @@ begin
                 end
                 else begin
                     if ((critter_inven_obj(self_obj, 2) == GVar16) or (critter_inven_obj(self_obj, 1) == GVar16)) then begin
-                        metarule(43, self_obj);
+                        inven_unwield(self_obj);
                     end
                 end
             end
@@ -632,7 +632,7 @@ begin
                 end
                 else begin
                     if ((critter_inven_obj(self_obj, 2) == GVar16) or (critter_inven_obj(self_obj, 1) == GVar16)) then begin
-                        metarule(43, self_obj);
+                        inven_unwield(self_obj);
                     end
                 end
             end
@@ -654,31 +654,31 @@ end
 
 procedure damage_p_proc
 begin
-    if ((cur_map_index == 6) and (elevation(self_obj) == 1) and (global_var(899) == 0)) then begin
+    if ((CUR_MAP_DENBUS1) and (elevation(self_obj) == 1) and (global_var(GVAR_RUS_BULLET_IN_UR_CHEST) == 0)) then begin
         if ((source_obj == rus_ptr) and ((obj_pid(critter_inven_obj(rus_ptr, 1)) == 571) or (obj_pid(critter_inven_obj(rus_ptr, 2)) == 571))) then begin
-            if (global_var(738) < 4) then begin
-                display_msg(message_str(1, 107));
+            if (global_var(GVAR_DG_MURDERS) < 4) then begin
+                display_mstr(107);
             end
-            set_global_var(899, 1);
+            set_global_var(GVAR_RUS_BULLET_IN_UR_CHEST, 1);
         end
     end
 end
 
 procedure critter_p_proc
 begin
-    if ((global_var(884) >= 1) and (combat_is_initialized == 0)) then begin
-        if (global_var(904) > 0) then begin
+    if ((global_var(GVAR_HEALING_MOD) >= 1) and (combat_is_initialized == 0)) then begin
+        if (global_var(GVAR_BLEEDING_WOUNDS) > 0) then begin
             if (local_var(4) == 0) then begin
                 set_local_var(4, game_time + game_ticks(10));
             end
             else begin
                 if (local_var(4) < game_time) then begin
-                    critter_heal(self_obj, -global_var(904));
-                    if (global_var(904) == 1) then begin
-                        display_msg(message_str(1, 277));
+                    critter_heal(self_obj, -global_var(GVAR_BLEEDING_WOUNDS));
+                    if (global_var(GVAR_BLEEDING_WOUNDS) == 1) then begin
+                        display_mstr(277);
                     end
                     else begin
-                        display_msg(message_str(1, 274) + global_var(904) + message_str(1, 275));
+                        display_msg(mstr(274) + global_var(GVAR_BLEEDING_WOUNDS) + mstr(275));
                     end
                     set_local_var(4, 0);
                 end
@@ -688,76 +688,76 @@ begin
     if (obj_is_carrying_obj_pid(self_obj, 620) == 1) then begin
         GVar32 := obj_carrying_pid_obj(self_obj, 620);
         wield_obj_critter(self_obj, GVar32);
-        if (global_var(802) == 0) then begin
-            set_global_var(802, global_var(802) + 1);
-            if (has_skill(dude_obj, 4) < 100) then begin
-                critter_mod_skill(dude_obj, 4, 20);
+        if (global_var(GVAR_MUTANT) == 0) then begin
+            set_global_var(GVAR_MUTANT, global_var(GVAR_MUTANT) + 1);
+            if (dude_skill(SKILL_MELEE) < 100) then begin
+                critter_mod_skill(dude_obj, SKILL_MELEE, 20);
             end
-            if (has_skill(dude_obj, 3) < 100) then begin
-                critter_mod_skill(dude_obj, 3, 20);
+            if (dude_skill(SKILL_UNARMED_COMBAT) < 100) then begin
+                critter_mod_skill(dude_obj, SKILL_UNARMED_COMBAT, 20);
             end
-            critter_add_trait(dude_obj, 0, 2, 1);
-            critter_add_trait(dude_obj, 0, 11, 1);
-            critter_add_trait(dude_obj, 0, 13, 1);
-            critter_rm_trait(dude_obj, 0, 85, 2);
-            critter_add_trait(dude_obj, 0, 84, 1);
+            critter_add_trait(dude_obj, TRAIT_PERK, PERK_bonus_hth_damage, 1);
+            critter_add_trait(dude_obj, TRAIT_PERK, PERK_rad_resistance, 1);
+            critter_add_trait(dude_obj, TRAIT_PERK, PERK_strong_back, 1);
+            critter_rm_trait(dude_obj, TRAIT_PERK, PERK_gain_perception_perk, 2);
+            critter_add_trait(dude_obj, TRAIT_PERK, PERK_gain_strength_perk, 1);
         end
     end
-    if ((cur_map_index == 3) and (elevation(self_obj) == 1) and (local_var(6) == 0) and (obj_is_carrying_obj_pid(dude_obj, 535) > 0) and (obj_is_carrying_obj_pid(dude_obj, 537) > 0)) then begin
+    if ((CUR_MAP_ARCAVES) and (elevation(self_obj) == 1) and (local_var(6) == 0) and (obj_is_carrying_obj_pid(dude_obj, 535) > 0) and (obj_is_carrying_obj_pid(dude_obj, 537) > 0)) then begin
         set_local_var(6, 1);
-        display_msg(message_str(1, 108));
+        display_mstr(108);
         if (party_member_obj(16777701) != 0) then begin
             add_timer_event(cassidy_ptr, 14, 0);
         end
     end
-    if ((obj_is_carrying_obj_pid(dude_obj, 646) > 0) and (global_var(695) < 5)) then begin
-        set_global_var(695, 5);
-        display_msg(message_str(1, 109));
+    if ((obj_is_carrying_obj_pid(dude_obj, 646) > 0) and (global_var(GVAR_ELKO_GOLD_DIGGER) < 5)) then begin
+        set_global_var(GVAR_ELKO_GOLD_DIGGER, 5);
+        display_mstr(109);
         give_exp_points(100);
-        display_msg(message_str(14, 100) + 100 + message_str(14, 101));
-        set_global_var(0, global_var(0) - 8);
-        set_global_var(37, 0);
-        set_global_var(38, 0);
-        set_global_var(39, 0);
-        set_global_var(40, 0);
-        set_global_var(41, 0);
-        set_global_var(42, 0);
-        set_global_var(43, 0);
-        set_global_var(44, 0);
-        set_global_var(45, 0);
-        if (global_var(0) >= 1000) then begin
-            set_global_var(37, 1);
+        display_msg(g_mstr(100) + 100 + g_mstr(101));
+        set_global_var(GVAR_PLAYER_REPUTATION, global_var(GVAR_PLAYER_REPUTATION) - 8);
+        set_global_var(GVAR_KARMA_HOLY_WARRIOR, 0);
+        set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 0);
+        set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 0);
+        set_global_var(GVAR_KARMA_DEFENDER, 0);
+        set_global_var(GVAR_KARMA_WANDERER, 0);
+        set_global_var(GVAR_KARMA_BETRAYER, 0);
+        set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 0);
+        set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 0);
+        set_global_var(GVAR_KARMA_DEMON_SPAWN, 0);
+        if (global_var(GVAR_PLAYER_REPUTATION) >= 1000) then begin
+            set_global_var(GVAR_KARMA_HOLY_WARRIOR, 1);
         end
         else begin
-            if (global_var(0) >= 750) then begin
-                set_global_var(38, 1);
+            if (global_var(GVAR_PLAYER_REPUTATION) >= 750) then begin
+                set_global_var(GVAR_KARMA_GUARDIAN_OF_THE_WASTES, 1);
             end
             else begin
-                if (global_var(0) >= 500) then begin
-                    set_global_var(39, 1);
+                if (global_var(GVAR_PLAYER_REPUTATION) >= 500) then begin
+                    set_global_var(GVAR_KARMA_SHIELD_OF_HOPE, 1);
                 end
                 else begin
-                    if (global_var(0) >= 250) then begin
-                        set_global_var(40, 1);
+                    if (global_var(GVAR_PLAYER_REPUTATION) >= 250) then begin
+                        set_global_var(GVAR_KARMA_DEFENDER, 1);
                     end
                     else begin
-                        if (global_var(0) > -250) then begin
-                            set_global_var(41, 1);
+                        if (global_var(GVAR_PLAYER_REPUTATION) > -250) then begin
+                            set_global_var(GVAR_KARMA_WANDERER, 1);
                         end
                         else begin
-                            if (global_var(0) > -500) then begin
-                                set_global_var(42, 1);
+                            if (global_var(GVAR_PLAYER_REPUTATION) > -500) then begin
+                                set_global_var(GVAR_KARMA_BETRAYER, 1);
                             end
                             else begin
-                                if (global_var(0) > -750) then begin
-                                    set_global_var(43, 1);
+                                if (global_var(GVAR_PLAYER_REPUTATION) > -750) then begin
+                                    set_global_var(GVAR_KARMA_SWORD_OF_DESPAIR, 1);
                                 end
                                 else begin
-                                    if (global_var(0) > -1000) then begin
-                                        set_global_var(44, 1);
+                                    if (global_var(GVAR_PLAYER_REPUTATION) > -1000) then begin
+                                        set_global_var(GVAR_KARMA_SCOURGE_OF_THE_WASTE, 1);
                                     end
                                     else begin
-                                        set_global_var(45, 1);
+                                        set_global_var(GVAR_KARMA_DEMON_SPAWN, 1);
                                     end
                                 end
                             end
@@ -766,7 +766,7 @@ begin
                 end
             end
         end
-        set_global_var(47, global_var(47) - 4);
+        set_global_var(GVAR_TOWN_REP_ARROYO, global_var(GVAR_TOWN_REP_ARROYO) - 4);
     end
     if (obj_is_carrying_obj_pid(self_obj, 647) > 0) then begin
         GVar18 := obj_is_carrying_obj_pid(self_obj, 647);
@@ -787,7 +787,7 @@ begin
                 end
                 else begin
                     if ((critter_inven_obj(self_obj, 2) == GVar16) or (critter_inven_obj(self_obj, 1) == GVar16)) then begin
-                        metarule(43, self_obj);
+                        inven_unwield(self_obj);
                     end
                 end
             end
@@ -818,7 +818,7 @@ begin
                     end
                     else begin
                         if ((critter_inven_obj(self_obj, 2) == GVar16) or (critter_inven_obj(self_obj, 1) == GVar16)) then begin
-                            metarule(43, self_obj);
+                            inven_unwield(self_obj);
                         end
                     end
                 end
@@ -831,61 +831,61 @@ begin
         end
     end
     if (obj_is_carrying_obj_pid(self_obj, 602) > 0) then begin
-        if (global_var(765) == 1) then begin
-            set_global_var(765, global_var(765) + 1);
-            display_msg(message_str(1, 106));
+        if (global_var(GVAR_KHANS_TITUS_SCHEDULE) == 1) then begin
+            set_global_var(GVAR_KHANS_TITUS_SCHEDULE, global_var(GVAR_KHANS_TITUS_SCHEDULE) + 1);
+            display_mstr(106);
         end
     end
-    if (global_var(761) == 2) then begin
-        set_global_var(761, 3);
+    if (global_var(GVAR_ARENA_FIGHT) == 2) then begin
+        set_global_var(GVAR_ARENA_FIGHT, 3);
         add_timer_event(self_obj, 20, 10);
     end
-    if (global_var(761) == 5) then begin
-        set_global_var(761, 6);
+    if (global_var(GVAR_ARENA_FIGHT) == 5) then begin
+        set_global_var(GVAR_ARENA_FIGHT, 6);
         game_ui_disable;
         add_timer_event(self_obj, 20, 11);
     end
-    if ((global_var(819) != 0) and (global_var(819) < game_time) and (global_var(777) != 5)) then begin
-        set_global_var(777, 5);
+    if ((global_var(GVAR_KAHGAN_ULTIMATUM_24_HOURS) != 0) and (global_var(GVAR_KAHGAN_ULTIMATUM_24_HOURS) < game_time) and (global_var(GVAR_KHANS_ENTRY) != 5)) then begin
+        set_global_var(GVAR_KHANS_ENTRY, 5);
     end
-    if ((global_var(815) == 4) and (local_var(5) == 0)) then begin
+    if ((global_var(GVAR_KHANS_ARMOR_CARAVAN) == 4) and (local_var(5) == 0)) then begin
         set_local_var(5, 1);
-        float_msg(self_obj, message_str(1, 130), 3);
+        float_msg(self_obj, mstr(130), FLOAT_MSG_GREEN);
     end
-    if ((cur_map_index == 78) and (global_var(929) > 0)) then begin
-        set_global_var(929, 0);
+    if ((CUR_MAP_BROKEN1) and (global_var(GVAR_USING_V22_ELEVATOR) > 0)) then begin
+        set_global_var(GVAR_USING_V22_ELEVATOR, 0);
         if ((elevation(self_obj) == 2) and (obj_is_carrying_obj_pid(self_obj, 96) == 0)) then begin
-            gfade_out(1);
+            fade_out;
             move_to(self_obj, 22894, 1);
-            display_msg(message_str(1, 114));
-            gfade_in(1);
+            display_mstr(114);
+            fade_in;
         end
     end
 end
 
 procedure map_enter_p_proc
 begin
-    if (global_var(882) > 0) then begin
+    if (global_var(GVAR_DUDE_HAS_VD) > 0) then begin
         call vd();
     end
-    if ((global_var(884) >= 1) and (global_var(904) > 0) and (metarule(22, 0) == 0)) then begin
+    if ((global_var(GVAR_HEALING_MOD) >= 1) and (global_var(GVAR_BLEEDING_WOUNDS) > 0) and (is_loading_game == 0)) then begin
         call check_wounds_after_travel();
     end
 end
 
 procedure combat_p_proc
 begin
-    if (global_var(884) >= 1) then begin
-        if ((global_var(904) > 0) and (local_var(4) > 0)) then begin
+    if (global_var(GVAR_HEALING_MOD) >= 1) then begin
+        if ((global_var(GVAR_BLEEDING_WOUNDS) > 0) and (local_var(4) > 0)) then begin
             set_local_var(4, 0);
         end
-        if ((global_var(904) > 0) and (fixed_param == 4)) then begin
-            critter_heal(self_obj, -global_var(904));
-            if (global_var(904) == 1) then begin
-                display_msg(message_str(1, 277));
+        if ((global_var(GVAR_BLEEDING_WOUNDS) > 0) and (fixed_param == 4)) then begin
+            critter_heal(self_obj, -global_var(GVAR_BLEEDING_WOUNDS));
+            if (global_var(GVAR_BLEEDING_WOUNDS) == 1) then begin
+                display_mstr(277);
             end
             else begin
-                display_msg(message_str(1, 274) + global_var(904) + message_str(1, 275));
+                display_msg(mstr(274) + global_var(GVAR_BLEEDING_WOUNDS) + mstr(275));
             end
         end
     end
@@ -897,7 +897,7 @@ end
 
 procedure map_update_p_proc
 begin
-    if (has_trait(2, self_obj, 14) == 1) then begin
+    if (has_trait(TRAIT_TRAIT, self_obj, TRAIT_skilled) == 1) then begin
         if ((get_month >= 3) and (get_month < 5)) then begin
             GVar48 := 600;
             GVar49 := 1800;
@@ -933,7 +933,7 @@ begin
             end
         end
     end
-    if (has_trait(2, self_obj, 0) == 1) then begin
+    if (has_trait(TRAIT_TRAIT, self_obj, TRAIT_fast_metabolism) == 1) then begin
         if ((get_month >= 3) and (get_month < 5)) then begin
             GVar48 := 600;
             GVar49 := 1800;
@@ -954,7 +954,7 @@ begin
                 end
             end
         end
-        if ((game_time_hour > GVar48) and (game_time_hour < GVar49) and (((cur_map_index == 3) and (elevation(dude_obj) == 1) or ((cur_map_index == 4) and (elevation(dude_obj) == 1)) or ((cur_map_index == 10) and (elevation(dude_obj) == 1)) or ((cur_map_index == 11) and (elevation(dude_obj) == 1)) or (cur_map_index == 12) or (cur_map_index == 16) or (cur_map_index == 17) or (cur_map_index == 19) or (cur_map_index == 22) or (cur_map_index == 23) or ((cur_map_index == 27) and (elevation(dude_obj) == 1)) or ((cur_map_index == 27) and (elevation(dude_obj) == 2)) or (cur_map_index == 28) or ((cur_map_index == 30) and (elevation(dude_obj) == 2)) or (cur_map_index == 36) or ((cur_map_index == 40) and (elevation(dude_obj) == 1)) or ((cur_map_index == 62) and (elevation(dude_obj) == 1)) or ((cur_map_index == 62) and (elevation(dude_obj) == 2)) or (cur_map_index == 67) or (cur_map_index == 78) or ((cur_map_index == 93) and (elevation(dude_obj) == 2)) or ((cur_map_index == 126) and (elevation(dude_obj) == 1)) or ((cur_map_index == 126) and (elevation(dude_obj) == 2)) or (cur_map_index == 132) or (cur_map_index == 138)) == 0)) then begin
+        if ((game_time_hour > GVar48) and (game_time_hour < GVar49) and (((CUR_MAP_ARCAVES) and (dude_elevation == 1) or ((CUR_MAP_ARVILLAG) and (dude_elevation == 1)) or ((CUR_MAP_KLAMALL) and (dude_elevation == 1)) or ((CUR_MAP_KLARATCV) and (dude_elevation == 1)) or (CUR_MAP_KLATOXCV) or (CUR_MAP_VCTYDWTN) or (CUR_MAP_VCTYCOCL) or (CUR_MAP_MODINN) or (CUR_MAP_MODSHIT) or (CUR_MAP_MODWELL) or ((CUR_MAP_DEPOLV1) and (dude_elevation == 1)) or ((CUR_MAP_DEPOLV1) and (dude_elevation == 2)) or (CUR_MAP_DEPOLVA) or ((CUR_MAP_ARCAVES0) and (dude_elevation == 2)) or (CUR_MAP_ARCAVES6) or ((CUR_MAP_ARVILLAG0) and (dude_elevation == 1)) or ((CUR_MAP_REDWAME) and (dude_elevation == 1)) or ((CUR_MAP_REDWAME) and (dude_elevation == 2)) or (CUR_MAP_REDMTUN) or (CUR_MAP_BROKEN1) or ((CUR_MAP_RAIDERS2) and (dude_elevation == 2)) or ((CUR_MAP_KLATOXCV6) and (dude_elevation == 1)) or ((CUR_MAP_KLATOXCV6) and (dude_elevation == 2)) or (CUR_MAP_ENCPRES) or (CUR_MAP_SFSHUTL1)) == 0)) then begin
             if (local_var(8) == 0) then begin
                 set_local_var(8, 1);
                 set_critter_extra_stat(self_obj, 2, 1);
@@ -983,33 +983,33 @@ begin
             end
         end
     end
-    if (global_var(884) >= 1) then begin
-        if ((global_var(904) > 0) or (global_var(907) > 0) and (local_var(8) == 1)) then begin
-            if (global_var(917) < game_time) then begin
-                if (global_var(904) > 0) then begin
-                    set_global_var(904, global_var(904) - 1);
+    if (global_var(GVAR_HEALING_MOD) >= 1) then begin
+        if ((global_var(GVAR_BLEEDING_WOUNDS) > 0) or (global_var(GVAR_PAUSED_WOUNDS) > 0) and (local_var(8) == 1)) then begin
+            if (global_var(GVAR_CHILD_OF_SUN_WOUND_HEAL_TIME) < game_time) then begin
+                if (global_var(GVAR_BLEEDING_WOUNDS) > 0) then begin
+                    set_global_var(GVAR_BLEEDING_WOUNDS, global_var(GVAR_BLEEDING_WOUNDS) - 1);
                 end
                 else begin
-                    if (global_var(907) > 0) then begin
-                        set_global_var(907, global_var(907) - 1);
+                    if (global_var(GVAR_PAUSED_WOUNDS) > 0) then begin
+                        set_global_var(GVAR_PAUSED_WOUNDS, global_var(GVAR_PAUSED_WOUNDS) - 1);
                     end
                 end
-                display_msg(message_str(1, 276));
-                set_global_var(917, game_time + (30 * (60 * 10)));
+                display_mstr(276);
+                set_global_var(GVAR_CHILD_OF_SUN_WOUND_HEAL_TIME, game_time + (30 * (60 * 10)));
             end
         end
     end
-    if (global_var(884) >= 1) then begin
-        if (global_var(904) > 0) then begin
+    if (global_var(GVAR_HEALING_MOD) >= 1) then begin
+        if (global_var(GVAR_BLEEDING_WOUNDS) > 0) then begin
             show_iface_tag(5);
         end
         else begin
             hide_iface_tag(5);
         end
     end
-    if (global_var(884) >= 1) then begin
+    if (global_var(GVAR_HEALING_MOD) >= 1) then begin
         if ((local_var(1) < game_time) and (get_pc_extra_stat(14) > 0)) then begin
-            if (has_trait(2, self_obj, 0) == 0) then begin
+            if (has_trait(TRAIT_TRAIT, self_obj, TRAIT_fast_metabolism) == 0) then begin
                 set_pc_extra_stat(14, 0);
             end
             else begin
@@ -1022,48 +1022,48 @@ begin
             end
         end
     end
-    if (global_var(884) >= 1) then begin
-        if ((global_var(904) > 0) and (local_var(1) >= game_time)) then begin
+    if (global_var(GVAR_HEALING_MOD) >= 1) then begin
+        if ((global_var(GVAR_BLEEDING_WOUNDS) > 0) and (local_var(1) >= game_time)) then begin
             set_local_var(1, 0);
             set_pc_extra_stat(14, 0);
         end
     end
-    if (global_var(884) >= 1) then begin
-        if ((global_var(906) != 0) and (global_var(906) < game_time)) then begin
-            display_msg(message_str(1, 272));
-            set_global_var(906, 0);
-            set_global_var(904, global_var(904) + global_var(907));
+    if (global_var(GVAR_HEALING_MOD) >= 1) then begin
+        if ((global_var(GVAR_BLEEDING_PILLS_TIME) != 0) and (global_var(GVAR_BLEEDING_PILLS_TIME) < game_time)) then begin
+            display_mstr(272);
+            set_global_var(GVAR_BLEEDING_PILLS_TIME, 0);
+            set_global_var(GVAR_BLEEDING_WOUNDS, global_var(GVAR_BLEEDING_WOUNDS) + global_var(GVAR_PAUSED_WOUNDS));
         end
     end
-    if (global_var(192) == 0) then begin
-        if (global_var(193) > 0) then begin
-            GVar31 := (game_time / (10 * 60 * 60 * 24)) - global_var(133);
+    if (global_var(GVAR_HAVE_MUTATED) == 0) then begin
+        if (global_var(GVAR_MUTATE_STAGE) > 0) then begin
+            GVar31 := (game_time / (10 * 60 * 60 * 24)) - global_var(GVAR_MUTATE_WHEN);
             if (GVar31 > 30) then begin
-                if (global_var(193) < 5) then begin
-                    display_msg(message_str(1, 140));
-                    set_global_var(193, 5);
-                    set_global_var(192, 1);
+                if (global_var(GVAR_MUTATE_STAGE) < 5) then begin
+                    display_mstr(140);
+                    set_global_var(GVAR_MUTATE_STAGE, 5);
+                    set_global_var(GVAR_HAVE_MUTATED, 1);
                 end
             end
             else begin
                 if (GVar31 > 25) then begin
-                    if (global_var(193) < 4) then begin
-                        display_msg(message_str(1, 130));
-                        set_global_var(193, 4);
+                    if (global_var(GVAR_MUTATE_STAGE) < 4) then begin
+                        display_mstr(130);
+                        set_global_var(GVAR_MUTATE_STAGE, 4);
                     end
                 end
                 else begin
                     if (GVar31 > 20) then begin
-                        if (global_var(193) < 3) then begin
-                            display_msg(message_str(1, 120));
-                            set_global_var(193, 3);
+                        if (global_var(GVAR_MUTATE_STAGE) < 3) then begin
+                            display_mstr(120);
+                            set_global_var(GVAR_MUTATE_STAGE, 3);
                         end
                     end
                     else begin
                         if (GVar31 > 15) then begin
-                            if (global_var(193) < 2) then begin
-                                display_msg(message_str(1, 110));
-                                set_global_var(193, 2);
+                            if (global_var(GVAR_MUTATE_STAGE) < 2) then begin
+                                display_mstr(110);
+                                set_global_var(GVAR_MUTATE_STAGE, 2);
                             end
                         end
                     end
@@ -1084,10 +1084,10 @@ procedure use_obj_on_p_proc
 begin
     if (source_obj == self_obj) then begin
         if (obj_pid(obj_being_used_with) == 673) then begin
-            if (global_var(875) == 0) then begin
+            if (global_var(GVAR_INJECTED_LONGEVITY_FORMULA) == 0) then begin
                 if (combat_is_initialized) then begin
                     script_overrides;
-                    display_msg(message_str(1, 110));
+                    display_mstr(110);
                 end
                 else begin
                     script_overrides;
@@ -1096,18 +1096,18 @@ begin
                     reg_anim_animate(self_obj, 20, -1);
                     reg_anim_func(3, 0);
                     critter_injure(self_obj, 2);
-                    gfade_out(1);
+                    fade_out;
                     game_time_advance(24 * (60 * 10));
-                    set_global_var(875, 1);
-                    if (get_critter_stat(dude_obj, 2) < 10) then begin
-                        set_critter_stat(dude_obj, 2, 1);
+                    set_global_var(GVAR_INJECTED_LONGEVITY_FORMULA, 1);
+                    if (dude_endurance < 10) then begin
+                        set_critter_stat(dude_obj, STAT_en, 1);
                     end
-                    GVar35 := get_critter_stat(dude_obj, 33) - 16;
+                    GVar35 := dude_age - 16;
                     if (GVar35 > 5) then begin
                         GVar35 := 5;
                     end
-                    set_critter_stat(dude_obj, 33, -GVar35);
-                    display_msg(message_str(1, 111));
+                    set_critter_stat(dude_obj, STAT_age, -GVar35);
+                    display_mstr(111);
                     GVar18 := obj_is_carrying_obj_pid(self_obj, 673);
                     if (1 < GVar18) then begin
                         GVar18 := 1;
@@ -1126,7 +1126,7 @@ begin
                             end
                             else begin
                                 if ((critter_inven_obj(self_obj, 2) == GVar16) or (critter_inven_obj(self_obj, 1) == GVar16)) then begin
-                                    metarule(43, self_obj);
+                                    inven_unwield(self_obj);
                                 end
                             end
                         end
@@ -1135,20 +1135,20 @@ begin
                     end
                     GVar16 := 0;
                     GVar15 := 0;
-                    gfade_in(1);
+                    fade_in;
                     script_overrides;
                 end
             end
             else begin
                 script_overrides;
-                display_msg(message_str(1, 113));
+                display_mstr(113);
             end
         end
         else begin
             if (obj_pid(obj_being_used_with) == 458) then begin
                 script_overrides;
-                display_msg(message_str(1, 112));
-                set_global_var(876, 1);
+                display_mstr(112);
+                set_global_var(GVAR_GREENWOOD_HOLO1, 1);
                 GVar18 := obj_is_carrying_obj_pid(self_obj, 458);
                 if (1 < GVar18) then begin
                     GVar18 := 1;
@@ -1167,7 +1167,7 @@ begin
                         end
                         else begin
                             if ((critter_inven_obj(self_obj, 2) == GVar16) or (critter_inven_obj(self_obj, 1) == GVar16)) then begin
-                                metarule(43, self_obj);
+                                inven_unwield(self_obj);
                             end
                         end
                     end
@@ -1180,8 +1180,8 @@ begin
             else begin
                 if (obj_pid(obj_being_used_with) == 459) then begin
                     script_overrides;
-                    display_msg(message_str(1, 112));
-                    set_global_var(877, 1);
+                    display_mstr(112);
+                    set_global_var(GVAR_GREENWOOD_HOLO2, 1);
                     GVar18 := obj_is_carrying_obj_pid(self_obj, 459);
                     if (1 < GVar18) then begin
                         GVar18 := 1;
@@ -1200,7 +1200,7 @@ begin
                             end
                             else begin
                                 if ((critter_inven_obj(self_obj, 2) == GVar16) or (critter_inven_obj(self_obj, 1) == GVar16)) then begin
-                                    metarule(43, self_obj);
+                                    inven_unwield(self_obj);
                                 end
                             end
                         end
@@ -1213,8 +1213,8 @@ begin
                 else begin
                     if (obj_pid(obj_being_used_with) == 460) then begin
                         script_overrides;
-                        display_msg(message_str(1, 112));
-                        set_global_var(878, 1);
+                        display_mstr(112);
+                        set_global_var(GVAR_GREENWOOD_HOLO3, 1);
                         GVar18 := obj_is_carrying_obj_pid(self_obj, 460);
                         if (1 < GVar18) then begin
                             GVar18 := 1;
@@ -1233,7 +1233,7 @@ begin
                                 end
                                 else begin
                                     if ((critter_inven_obj(self_obj, 2) == GVar16) or (critter_inven_obj(self_obj, 1) == GVar16)) then begin
-                                        metarule(43, self_obj);
+                                        inven_unwield(self_obj);
                                     end
                                 end
                             end
@@ -1246,8 +1246,8 @@ begin
                     else begin
                         if (obj_pid(obj_being_used_with) == 302) then begin
                             script_overrides;
-                            display_msg(message_str(1, 112));
-                            set_global_var(930, 1);
+                            display_mstr(112);
+                            set_global_var(GVAR_NORMAN_HOLODISK, 1);
                             GVar18 := obj_is_carrying_obj_pid(self_obj, 302);
                             if (1 < GVar18) then begin
                                 GVar18 := 1;
@@ -1266,7 +1266,7 @@ begin
                                     end
                                     else begin
                                         if ((critter_inven_obj(self_obj, 2) == GVar16) or (critter_inven_obj(self_obj, 1) == GVar16)) then begin
-                                            metarule(43, self_obj);
+                                            inven_unwield(self_obj);
                                         end
                                     end
                                 end
@@ -1278,15 +1278,15 @@ begin
                         end
                         else begin
                             if ((obj_pid(obj_being_used_with) == 644) or (obj_pid(obj_being_used_with) == 645)) then begin
-                                if (global_var(884) >= 1) then begin
+                                if (global_var(GVAR_HEALING_MOD) >= 1) then begin
                                     script_overrides;
-                                    if ((global_var(899) == 1) and (local_var(3) == 0)) then begin
+                                    if ((global_var(GVAR_RUS_BULLET_IN_UR_CHEST) == 1) and (local_var(3) == 0)) then begin
                                         script_overrides;
                                         set_local_var(3, 1);
                                         call pull_rus_bullet();
                                     end
                                     else begin
-                                        if (get_critter_stat(dude_obj, 7) > get_critter_stat(dude_obj, 35)) then begin
+                                        if (get_critter_stat(dude_obj, STAT_max_hp) > get_critter_stat(dude_obj, STAT_current_hp)) then begin
                                             if (local_var(2) < game_time) then begin
                                                 GVar40 := 1;
                                                 GVar43 := obj_pid(obj_being_used_with);
@@ -1299,25 +1299,25 @@ begin
                                                         GVar41 := GVar41 + 2;
                                                     end
                                                 end
-                                                if ((has_trait(2, self_obj, 9) == 1) or (has_trait(0, self_obj, 118) == 1)) then begin
+                                                if ((has_trait(TRAIT_TRAIT, self_obj, TRAIT_jinxed) == 1) or (has_trait(TRAIT_PERK, self_obj, PERK_jinxed_perk) == 1)) then begin
                                                     GVar41 := GVar41 - 3;
                                                 end
                                                 call doctor_test();
                                                 script_overrides;
                                             end
                                             else begin
-                                                display_msg(message_str(1, random(255, 257)));
+                                                display_mstr(random(255, 257));
                                             end
                                         end
                                         else begin
-                                            display_msg(message_str(1, 259));
+                                            display_mstr(259);
                                         end
                                         script_overrides;
                                     end
                                 end
                                 else begin
                                     if (obj_pid(obj_being_used_with) == 644) then begin
-                                        if ((global_var(899) == 1) and (local_var(3) == 0)) then begin
+                                        if ((global_var(GVAR_RUS_BULLET_IN_UR_CHEST) == 1) and (local_var(3) == 0)) then begin
                                             script_overrides;
                                             set_local_var(3, 1);
                                             call pull_rus_bullet();
@@ -1327,27 +1327,27 @@ begin
                             end
                             else begin
                                 if (obj_pid(obj_being_used_with) == 681) then begin
-                                    if (global_var(884) >= 1) then begin
-                                        set_global_var(907, global_var(904));
-                                        set_global_var(906, game_time + (60 * (60 * 10)));
-                                        set_global_var(904, 0);
-                                        display_msg(message_str(1, 271));
+                                    if (global_var(GVAR_HEALING_MOD) >= 1) then begin
+                                        set_global_var(GVAR_PAUSED_WOUNDS, global_var(GVAR_BLEEDING_WOUNDS));
+                                        set_global_var(GVAR_BLEEDING_PILLS_TIME, game_time + (60 * (60 * 10)));
+                                        set_global_var(GVAR_BLEEDING_WOUNDS, 0);
+                                        display_mstr(271);
                                     end
                                 end
                                 else begin
                                     if (obj_pid(obj_being_used_with) == 704) then begin
-                                        if (global_var(884) >= 1) then begin
-                                            set_global_var(907, 0);
-                                            set_global_var(906, 0);
-                                            set_global_var(904, 0);
-                                            display_msg(message_str(1, 273));
+                                        if (global_var(GVAR_HEALING_MOD) >= 1) then begin
+                                            set_global_var(GVAR_PAUSED_WOUNDS, 0);
+                                            set_global_var(GVAR_BLEEDING_PILLS_TIME, 0);
+                                            set_global_var(GVAR_BLEEDING_WOUNDS, 0);
+                                            display_mstr(273);
                                         end
                                     end
                                     else begin
                                         if ((obj_pid(obj_being_used_with) == 642) or (obj_pid(obj_being_used_with) == 643)) then begin
-                                            if (global_var(884) >= 1) then begin
+                                            if (global_var(GVAR_HEALING_MOD) >= 1) then begin
                                                 script_overrides;
-                                                if ((global_var(904) > 0) or (get_critter_stat(dude_obj, 7) > get_critter_stat(dude_obj, 35))) then begin
+                                                if ((global_var(GVAR_BLEEDING_WOUNDS) > 0) or (get_critter_stat(dude_obj, STAT_max_hp) > get_critter_stat(dude_obj, STAT_current_hp))) then begin
                                                     if (local_var(1) < game_time) then begin
                                                         GVar39 := 1;
                                                         GVar42 := obj_pid(obj_being_used_with);
@@ -1360,18 +1360,18 @@ begin
                                                                 GVar41 := GVar41 + 2;
                                                             end
                                                         end
-                                                        if ((has_trait(2, self_obj, 9) == 1) or (has_trait(0, self_obj, 118) == 1)) then begin
+                                                        if ((has_trait(TRAIT_TRAIT, self_obj, TRAIT_jinxed) == 1) or (has_trait(TRAIT_PERK, self_obj, PERK_jinxed_perk) == 1)) then begin
                                                             GVar41 := GVar41 - 3;
                                                         end
                                                         call first_aid_test();
                                                         script_overrides;
                                                     end
                                                     else begin
-                                                        display_msg(message_str(1, random(260, 262)));
+                                                        display_mstr(random(260, 262));
                                                     end
                                                 end
                                                 else begin
-                                                    display_msg(message_str(1, 259));
+                                                    display_mstr(259);
                                                 end
                                                 script_overrides;
                                             end
@@ -1391,26 +1391,26 @@ procedure use_skill_on_p_proc
 begin
     if (source_obj == self_obj) then begin
         if (action_being_used == 6) then begin
-            if (global_var(884) >= 1) then begin
+            if (global_var(GVAR_HEALING_MOD) >= 1) then begin
                 script_overrides;
-                if ((global_var(904) > 0) or (get_critter_stat(dude_obj, 7) > get_critter_stat(dude_obj, 35)) or (global_var(907) > 0)) then begin
+                if ((global_var(GVAR_BLEEDING_WOUNDS) > 0) or (get_critter_stat(dude_obj, STAT_max_hp) > get_critter_stat(dude_obj, STAT_current_hp)) or (global_var(GVAR_PAUSED_WOUNDS) > 0)) then begin
                     if (local_var(1) < game_time) then begin
                         call first_aid_test();
                         script_overrides;
                     end
                     else begin
-                        display_msg(message_str(1, random(260, 262)));
+                        display_mstr(random(260, 262));
                     end
                 end
                 else begin
-                    display_msg(message_str(1, 259));
+                    display_mstr(259);
                 end
             end
         end
         else begin
             if (action_being_used == 7) then begin
-                if (global_var(884) >= 1) then begin
-                    if ((global_var(899) == 1) and (local_var(3) == 0)) then begin
+                if (global_var(GVAR_HEALING_MOD) >= 1) then begin
+                    if ((global_var(GVAR_RUS_BULLET_IN_UR_CHEST) == 1) and (local_var(3) == 0)) then begin
                         script_overrides;
                         set_local_var(3, 1);
                         call pull_rus_bullet();
@@ -1420,23 +1420,23 @@ begin
                         end
                         else begin
                             script_overrides;
-                            if (get_critter_stat(dude_obj, 7) > get_critter_stat(dude_obj, 35)) then begin
+                            if (get_critter_stat(dude_obj, STAT_max_hp) > get_critter_stat(dude_obj, STAT_current_hp)) then begin
                                 if (local_var(2) < game_time) then begin
                                     call doctor_test();
                                     script_overrides;
                                 end
                                 else begin
-                                    display_msg(message_str(1, random(255, 257)));
+                                    display_mstr(random(255, 257));
                                 end
                             end
                             else begin
-                                display_msg(message_str(1, 259));
+                                display_mstr(259);
                             end
                         end
                     end
                 end
                 else begin
-                    if ((global_var(899) == 1) and (local_var(3) == 0)) then begin
+                    if ((global_var(GVAR_RUS_BULLET_IN_UR_CHEST) == 1) and (local_var(3) == 0)) then begin
                         script_overrides;
                         set_local_var(3, 1);
                         call pull_rus_bullet();
@@ -1453,62 +1453,62 @@ end
 
 procedure vd
 begin
-    if ((global_var(882) == 1) and (global_var(883) < game_time)) then begin
-        set_global_var(883, game_time + (random(4, 6) * (7 * (24 * (60 * (60 * 10))))));
-        set_global_var(882, 2);
-        if (get_critter_stat(self_obj, 1) >= 5) then begin
-            display_msg(message_str(1, 200));
+    if ((global_var(GVAR_DUDE_HAS_VD) == 1) and (global_var(GVAR_DUDE_VD_TIME) < game_time)) then begin
+        set_global_var(GVAR_DUDE_VD_TIME, game_time + (random(4, 6) * (7 * (24 * (60 * (60 * 10))))));
+        set_global_var(GVAR_DUDE_HAS_VD, 2);
+        if (self_perception >= 5) then begin
+            display_mstr(200);
         end
         else begin
-            display_msg(message_str(1, 201));
+            display_mstr(201);
         end
     end
     else begin
-        if ((global_var(882) == 2) and (global_var(883) < game_time)) then begin
-            set_global_var(883, game_time + (random(8, 12) * (30 * (24 * (60 * (60 * 10))))));
-            set_global_var(882, 3);
-            display_msg(message_str(1, 202));
-            set_critter_stat(self_obj, 2, -1);
+        if ((global_var(GVAR_DUDE_HAS_VD) == 2) and (global_var(GVAR_DUDE_VD_TIME) < game_time)) then begin
+            set_global_var(GVAR_DUDE_VD_TIME, game_time + (random(8, 12) * (30 * (24 * (60 * (60 * 10))))));
+            set_global_var(GVAR_DUDE_HAS_VD, 3);
+            display_mstr(202);
+            set_critter_stat(self_obj, STAT_en, -1);
         end
         else begin
-            if ((global_var(882) == 3) and (global_var(883) < game_time)) then begin
-                set_global_var(883, game_time + (random(8, 12) * (30 * (24 * (60 * (60 * 10))))));
-                set_global_var(882, 4);
-                display_msg(message_str(1, 203));
-                set_critter_stat(self_obj, 2, -1);
-                set_critter_stat(self_obj, 3, -1);
-                set_critter_stat(self_obj, 1, -2);
+            if ((global_var(GVAR_DUDE_HAS_VD) == 3) and (global_var(GVAR_DUDE_VD_TIME) < game_time)) then begin
+                set_global_var(GVAR_DUDE_VD_TIME, game_time + (random(8, 12) * (30 * (24 * (60 * (60 * 10))))));
+                set_global_var(GVAR_DUDE_HAS_VD, 4);
+                display_mstr(203);
+                set_critter_stat(self_obj, STAT_en, -1);
+                set_critter_stat(self_obj, STAT_ch, -1);
+                set_critter_stat(self_obj, STAT_pe, -2);
             end
             else begin
-                if ((global_var(882) == 4) and (global_var(883) < game_time)) then begin
+                if ((global_var(GVAR_DUDE_HAS_VD) == 4) and (global_var(GVAR_DUDE_VD_TIME) < game_time)) then begin
                     if (is_success(do_check(self_obj, 2, -3))) then begin
-                        set_global_var(883, game_time + (random(2, 6) * (7 * (24 * (60 * (60 * 10))))));
-                        set_global_var(882, 5);
-                        set_critter_stat(self_obj, 0, -1);
-                        set_critter_stat(self_obj, 2, -1);
-                        set_critter_stat(self_obj, 3, -1);
-                        set_critter_stat(self_obj, 1, -1);
-                        display_msg(message_str(1, 204));
+                        set_global_var(GVAR_DUDE_VD_TIME, game_time + (random(2, 6) * (7 * (24 * (60 * (60 * 10))))));
+                        set_global_var(GVAR_DUDE_HAS_VD, 5);
+                        set_critter_stat(self_obj, STAT_st, -1);
+                        set_critter_stat(self_obj, STAT_en, -1);
+                        set_critter_stat(self_obj, STAT_ch, -1);
+                        set_critter_stat(self_obj, STAT_pe, -1);
+                        display_mstr(204);
                     end
                     else begin
                         if (is_success(do_check(self_obj, 6, -1))) then begin
-                            set_global_var(883, game_time + (random(1, 2) * (7 * (24 * (60 * (60 * 10))))));
-                            set_global_var(882, 5);
-                            set_critter_stat(self_obj, 0, -1);
-                            set_critter_stat(self_obj, 2, -1);
-                            set_critter_stat(self_obj, 3, -1);
-                            set_critter_stat(self_obj, 1, -1);
-                            display_msg(message_str(1, 204));
+                            set_global_var(GVAR_DUDE_VD_TIME, game_time + (random(1, 2) * (7 * (24 * (60 * (60 * 10))))));
+                            set_global_var(GVAR_DUDE_HAS_VD, 5);
+                            set_critter_stat(self_obj, STAT_st, -1);
+                            set_critter_stat(self_obj, STAT_en, -1);
+                            set_critter_stat(self_obj, STAT_ch, -1);
+                            set_critter_stat(self_obj, STAT_pe, -1);
+                            display_mstr(204);
                         end
                         else begin
-                            display_msg(message_str(1, 205));
+                            display_mstr(205);
                             add_timer_event(self_obj, game_ticks(5), 13);
                         end
                     end
                 end
                 else begin
-                    if ((global_var(882) == 5) and (global_var(883) < game_time)) then begin
-                        display_msg(message_str(1, 205));
+                    if ((global_var(GVAR_DUDE_HAS_VD) == 5) and (global_var(GVAR_DUDE_VD_TIME) < game_time)) then begin
+                        display_mstr(205);
                         add_timer_event(self_obj, game_ticks(5), 13);
                     end
                 end
@@ -1519,8 +1519,8 @@ end
 
 procedure first_aid_test
 begin
-    if ((has_skill(self_obj, 6) < 50) and ((obj_is_carrying_obj_pid(self_obj, 642) == 0) and (obj_is_carrying_obj_pid(self_obj, 643) == 0))) then begin
-        display_msg(message_str(1, 263));
+    if ((has_skill(self_obj, SKILL_FIRST_AID) < 50) and ((obj_is_carrying_obj_pid(self_obj, 642) == 0) and (obj_is_carrying_obj_pid(self_obj, 643) == 0))) then begin
+        display_mstr(263);
     end
     else begin
         script_overrides;
@@ -1530,8 +1530,8 @@ end
 
 procedure doctor_test
 begin
-    if ((has_skill(self_obj, 7) < 40) and ((obj_is_carrying_obj_pid(self_obj, 644) == 0) and (obj_is_carrying_obj_pid(self_obj, 645) == 0))) then begin
-        display_msg(message_str(1, 254));
+    if ((has_skill(self_obj, SKILL_DOCTOR) < 40) and ((obj_is_carrying_obj_pid(self_obj, 644) == 0) and (obj_is_carrying_obj_pid(self_obj, 645) == 0))) then begin
+        display_mstr(254);
     end
     else begin
         script_overrides;
@@ -1542,12 +1542,12 @@ end
 procedure dop_healing
 begin
     script_overrides;
-    if (has_skill(self_obj, 7) < 40) then begin
+    if (has_skill(self_obj, SKILL_DOCTOR) < 40) then begin
         GVar38 := 0;
         GVar37 := random(1, 5);
     end
     else begin
-        if (has_skill(self_obj, 7) < 60) then begin
+        if (has_skill(self_obj, SKILL_DOCTOR) < 60) then begin
             if (GVar40 == 0) then begin
                 if (obj_is_carrying_obj_pid(self_obj, 645) > 0) then begin
                     GVar38 := 10;
@@ -1579,7 +1579,7 @@ begin
             end
         end
         else begin
-            if (has_skill(self_obj, 7) < 90) then begin
+            if (has_skill(self_obj, SKILL_DOCTOR) < 90) then begin
                 if (GVar40 == 0) then begin
                     if (obj_is_carrying_obj_pid(self_obj, 645) > 0) then begin
                         GVar38 := 20;
@@ -1611,7 +1611,7 @@ begin
                 end
             end
             else begin
-                if (has_skill(self_obj, 7) < 120) then begin
+                if (has_skill(self_obj, SKILL_DOCTOR) < 120) then begin
                     if (GVar40 == 0) then begin
                         if (obj_is_carrying_obj_pid(self_obj, 645) > 0) then begin
                             GVar38 := 30;
@@ -1643,7 +1643,7 @@ begin
                     end
                 end
                 else begin
-                    if (has_skill(self_obj, 7) < 150) then begin
+                    if (has_skill(self_obj, SKILL_DOCTOR) < 150) then begin
                         if (GVar40 == 0) then begin
                             if (obj_is_carrying_obj_pid(self_obj, 645) > 0) then begin
                                 GVar38 := 50;
@@ -1675,7 +1675,7 @@ begin
                         end
                     end
                     else begin
-                        if (has_skill(self_obj, 7) < 200) then begin
+                        if (has_skill(self_obj, SKILL_DOCTOR) < 200) then begin
                             if (GVar40 == 0) then begin
                                 if (obj_is_carrying_obj_pid(self_obj, 645) > 0) then begin
                                     GVar38 := 65;
@@ -1743,25 +1743,25 @@ begin
         end
     end
     if (is_success(roll_vs_skill(self_obj, 7, GVar38))) then begin
-        gfade_out(1);
-        GVar37 := GVar37 + get_critter_stat(self_obj, 14);
+        fade_out;
+        GVar37 := GVar37 + get_critter_stat(self_obj, STAT_heal_rate);
         critter_heal(dude_obj, GVar37);
         game_time_advance(60 * (60 * 10));
         if (local_var(2) < game_time) then begin
             set_local_var(2, game_time + (8 * (60 * (60 * 10))));
         end
-        display_msg(message_str(1, 250) + GVar37 + message_str(1, 251));
+        display_msg(mstr(250) + GVar37 + mstr(251));
         give_exp_points(50);
-        display_msg(message_str(1, 253));
+        display_mstr(253);
         call use_up_med_supplies();
-        gfade_in(1);
+        fade_in;
     end
     else begin
-        gfade_out(1);
+        fade_out;
         game_time_advance(60 * (60 * 10));
-        display_msg(message_str(1, 252));
+        display_mstr(252);
         call use_up_med_supplies();
-        gfade_in(1);
+        fade_in;
     end
 end
 
@@ -1778,14 +1778,14 @@ begin
                     GVar41 := GVar41 + 2;
                 end
             end
-            if ((has_trait(2, self_obj, 9) == 1) or (has_trait(0, self_obj, 118) == 1)) then begin
+            if ((has_trait(TRAIT_TRAIT, self_obj, TRAIT_jinxed) == 1) or (has_trait(TRAIT_PERK, self_obj, PERK_jinxed_perk) == 1)) then begin
                 GVar41 := GVar41 - 3;
             end
         end
         if (is_success(do_check(self_obj, 6, GVar41))) then begin
         end
         else begin
-            display_msg(message_str(1, 258));
+            display_mstr(258);
             if (GVar40 == 0) then begin
                 if (obj_is_carrying_obj_pid(self_obj, 645) > 0) then begin
                     GVar18 := obj_is_carrying_obj_pid(dude_obj, 645);
@@ -1806,7 +1806,7 @@ begin
                             end
                             else begin
                                 if ((critter_inven_obj(dude_obj, 2) == GVar16) or (critter_inven_obj(dude_obj, 1) == GVar16)) then begin
-                                    metarule(43, dude_obj);
+                                    inven_unwield(dude_obj);
                                 end
                             end
                         end
@@ -1836,7 +1836,7 @@ begin
                                 end
                                 else begin
                                     if ((critter_inven_obj(dude_obj, 2) == GVar16) or (critter_inven_obj(dude_obj, 1) == GVar16)) then begin
-                                        metarule(43, dude_obj);
+                                        inven_unwield(dude_obj);
                                     end
                                 end
                             end
@@ -1867,7 +1867,7 @@ begin
                         end
                         else begin
                             if ((critter_inven_obj(dude_obj, 2) == GVar16) or (critter_inven_obj(dude_obj, 1) == GVar16)) then begin
-                                metarule(43, dude_obj);
+                                inven_unwield(dude_obj);
                             end
                         end
                     end
@@ -1890,43 +1890,43 @@ begin
     else begin
         GVar34 := -30;
     end
-    if (is_success(roll_vs_skill(self_obj, 7, GVar34)) and (has_skill(self_obj, 7) >= 40)) then begin
-        gfade_out(1);
-        set_global_var(899, 2);
-        display_msg(message_str(1, 120));
+    if (is_success(roll_vs_skill(self_obj, 7, GVar34)) and (has_skill(self_obj, SKILL_DOCTOR) >= 40)) then begin
+        fade_out;
+        set_global_var(GVAR_RUS_BULLET_IN_UR_CHEST, 2);
+        display_mstr(120);
         give_exp_points(100);
-        display_msg(message_str(14, 100) + 100 + message_str(14, 101));
-        add_obj_to_inven(self_obj, create_object_sid(637, 0, 0, -1));
+        display_msg(g_mstr(100) + 100 + g_mstr(101));
+        add_obj_to_inven(self_obj, create_object(637, 0, 0));
         game_time_advance(60 * (60 * 10));
-        gfade_in(1);
+        fade_in;
         if (obj_is_carrying_obj_pid(dude_obj, 572) > 0) then begin
-            display_msg(message_str(1, 122));
-            set_global_var(738, 4);
-            if (get_critter_stat(dude_obj, 4) > 3) then begin
-                float_msg(dude_obj, message_str(1, 123), 3);
+            display_mstr(122);
+            set_global_var(GVAR_DG_MURDERS, 4);
+            if (dude_iq > 3) then begin
+                float_msg(dude_obj, mstr(123), FLOAT_MSG_GREEN);
             end
             else begin
-                float_msg(dude_obj, message_str(1, 124), 3);
+                float_msg(dude_obj, mstr(124), FLOAT_MSG_GREEN);
             end
         end
     end
     else begin
-        gfade_out(1);
+        fade_out;
         game_time_advance(60 * (60 * 10));
-        display_msg(message_str(1, 121));
-        gfade_in(1);
+        display_mstr(121);
+        fade_in;
     end
 end
 
 procedure treat_wounds
 begin
     script_overrides;
-    if (has_skill(self_obj, 6) < 50) then begin
+    if (has_skill(self_obj, SKILL_FIRST_AID) < 50) then begin
         GVar38 := 0;
         GVar36 := 1;
     end
     else begin
-        if (has_skill(self_obj, 6) < 70) then begin
+        if (has_skill(self_obj, SKILL_FIRST_AID) < 70) then begin
             if (GVar40 == 0) then begin
                 if (obj_is_carrying_obj_pid(self_obj, 643) > 0) then begin
                     GVar38 := 10;
@@ -1958,7 +1958,7 @@ begin
             end
         end
         else begin
-            if (has_skill(self_obj, 6) < 90) then begin
+            if (has_skill(self_obj, SKILL_FIRST_AID) < 90) then begin
                 if (GVar40 == 0) then begin
                     if (obj_is_carrying_obj_pid(self_obj, 643) > 0) then begin
                         GVar38 := 20;
@@ -1990,7 +1990,7 @@ begin
                 end
             end
             else begin
-                if (has_skill(self_obj, 6) < 120) then begin
+                if (has_skill(self_obj, SKILL_FIRST_AID) < 120) then begin
                     if (GVar40 == 0) then begin
                         if (obj_is_carrying_obj_pid(self_obj, 643) > 0) then begin
                             GVar38 := 30;
@@ -2022,7 +2022,7 @@ begin
                     end
                 end
                 else begin
-                    if (has_skill(self_obj, 6) < 150) then begin
+                    if (has_skill(self_obj, SKILL_FIRST_AID) < 150) then begin
                         if (GVar40 == 0) then begin
                             if (obj_is_carrying_obj_pid(self_obj, 643) > 0) then begin
                                 GVar38 := 50;
@@ -2054,7 +2054,7 @@ begin
                         end
                     end
                     else begin
-                        if (has_skill(self_obj, 6) < 200) then begin
+                        if (has_skill(self_obj, SKILL_FIRST_AID) < 200) then begin
                             if (GVar40 == 0) then begin
                                 if (obj_is_carrying_obj_pid(self_obj, 643) > 0) then begin
                                     GVar38 := 65;
@@ -2122,27 +2122,27 @@ begin
         end
     end
     if (is_success(roll_vs_skill(self_obj, 6, GVar38))) then begin
-        gfade_out(1);
+        fade_out;
         game_time_advance(30 * (60 * 10));
         if (local_var(1) < game_time) then begin
             set_local_var(1, game_time + (24 * (60 * (60 * 10))));
         end
-        set_global_var(904, 0);
-        set_global_var(907, 0);
-        set_global_var(906, 0);
+        set_global_var(GVAR_BLEEDING_WOUNDS, 0);
+        set_global_var(GVAR_PAUSED_WOUNDS, 0);
+        set_global_var(GVAR_BLEEDING_PILLS_TIME, 0);
         set_pc_extra_stat(14, GVar36);
-        display_msg(message_str(1, 264) + GVar36 + message_str(1, 265));
+        display_msg(mstr(264) + GVar36 + mstr(265));
         give_exp_points(25);
-        display_msg(message_str(1, 266));
+        display_mstr(266);
         call use_up_fa_supplies();
-        gfade_in(1);
+        fade_in;
     end
     else begin
-        gfade_out(1);
+        fade_out;
         game_time_advance(30 * (60 * 10));
-        display_msg(message_str(1, 267));
+        display_mstr(267);
         call use_up_fa_supplies();
-        gfade_in(1);
+        fade_in;
     end
 end
 
@@ -2159,14 +2159,14 @@ begin
                     GVar41 := GVar41 + 2;
                 end
             end
-            if ((has_trait(2, self_obj, 9) == 1) or (has_trait(0, self_obj, 118) == 1)) then begin
+            if ((has_trait(TRAIT_TRAIT, self_obj, TRAIT_jinxed) == 1) or (has_trait(TRAIT_PERK, self_obj, PERK_jinxed_perk) == 1)) then begin
                 GVar41 := GVar41 - 3;
             end
         end
         if (is_success(do_check(self_obj, 6, GVar41))) then begin
         end
         else begin
-            display_msg(message_str(1, 268));
+            display_mstr(268);
             if (GVar39 == 0) then begin
                 if (obj_is_carrying_obj_pid(self_obj, 643) > 0) then begin
                     GVar18 := obj_is_carrying_obj_pid(dude_obj, 643);
@@ -2187,7 +2187,7 @@ begin
                             end
                             else begin
                                 if ((critter_inven_obj(dude_obj, 2) == GVar16) or (critter_inven_obj(dude_obj, 1) == GVar16)) then begin
-                                    metarule(43, dude_obj);
+                                    inven_unwield(dude_obj);
                                 end
                             end
                         end
@@ -2217,7 +2217,7 @@ begin
                                 end
                                 else begin
                                     if ((critter_inven_obj(dude_obj, 2) == GVar16) or (critter_inven_obj(dude_obj, 1) == GVar16)) then begin
-                                        metarule(43, dude_obj);
+                                        inven_unwield(dude_obj);
                                     end
                                 end
                             end
@@ -2248,7 +2248,7 @@ begin
                         end
                         else begin
                             if ((critter_inven_obj(dude_obj, 2) == GVar16) or (critter_inven_obj(dude_obj, 1) == GVar16)) then begin
-                                metarule(43, dude_obj);
+                                inven_unwield(dude_obj);
                             end
                         end
                     end
@@ -2265,17 +2265,16 @@ end
 
 procedure check_wounds_after_travel
 begin
-    GVar46 := game_time - global_var(905);
+    GVar46 := game_time - global_var(GVAR_EXIT_BLEEDING_TIME);
     if (GVar46 <= 0) then begin
         GVar46 := 0;
     end
     else begin
-        display_msg(message_str(1, 269));
+        display_mstr(269);
     end
-    GVar47 := GVar46 / game_ticks(10) * global_var(904);
+    GVar47 := GVar46 / game_ticks(10) * global_var(GVAR_BLEEDING_WOUNDS);
     if (GVar47 > 0) then begin
-        display_msg(message_str(1, 274) + GVar47 + message_str(1, 275));
+        display_msg(mstr(274) + GVar47 + mstr(275));
         critter_heal(self_obj, -GVar47);
     end
 end
-
